(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-99e5"],{1146:function(t,s,e){},1437:function(t,s,e){"use strict";var i=e("c31d"),o=e("a142"),a=e("8624"),n=e("7744"),r=e("dfaf"),c=e("f331"),l=Object(o["j"])("collapse-item"),d=l[0],u=l[1],_=["title","icon","right-icon"];s["a"]=d({mixins:[c["a"]],props:Object(i["a"])({},r["a"],{name:[String,Number],disabled:Boolean,isLink:{type:Boolean,default:!0}}),data:function(){return{show:null,inited:null}},computed:{items:function(){return this.parent.items},index:function(){return this.items.indexOf(this)},currentName:function(){return Object(o["c"])(this.name)?this.name:this.index},expanded:function(){var t=this;if(!this.parent)return null;var s=this.parent.value;return this.parent.accordion?s===this.currentName:s.some(function(s){return s===t.currentName})}},created:function(){this.findParent("van-collapse"),this.items.push(this),this.show=this.expanded,this.inited=this.expanded},destroyed:function(){this.items.splice(this.index,1)},watch:{expanded:function(t,s){var e=this;null!==s&&(t&&(this.show=!0,this.inited=!0),Object(a["a"])(function(){var s=e.$refs,i=s.content,o=s.wrapper;if(i&&o){var n=i.clientHeight;if(n){var r=n+"px";o.style.height=t?0:r,Object(a["a"])(function(){o.style.height=t?r:0})}else e.onTransitionEnd()}}))}},methods:{onClick:function(){if(!this.disabled){var t=this.parent,s=t.accordion&&this.currentName===t.value?"":this.currentName,e=!this.expanded;this.parent["switch"](s,e)}},onTransitionEnd:function(){this.expanded?this.$refs.wrapper.style.height=null:this.show=!1}},render:function(t){var s=this,e=_.reduce(function(t,e){return s.slots(e)&&(t[e]=function(){return s.slots(e)}),t},{});this.slots("value")&&(e["default"]=function(){return s.slots("value")});var o=t(n["a"],{class:u("title",{disabled:this.disabled,expanded:this.expanded}),on:{click:this.onClick},scopedSlots:e,props:Object(i["a"])({},this.$props)}),a=this.inited&&t("div",{directives:[{name:"show",value:this.show}],ref:"wrapper",class:u("wrapper"),on:{transitionend:this.onTransitionEnd}},[t("div",{ref:"content",class:u("content")},[this.slots()])]);return t("div",{class:[u(),{"van-hairline--top":this.index}]},[o,a])}})},"1c14":function(t,s,e){"use strict";var i=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"prolist",class:{"prolist-swiper":"slide"==t.styleType}},[t.data.length>0?["slide"==t.styleType?[i("div",{staticClass:"slide"},[i("swiper",{ref:"slideSwiper",staticClass:"swiper",attrs:{options:t.swiperOption}},[t._l(t.goodslist,function(s,o){return i("swiper-slide",{key:o,staticClass:"goods-swiper-slide"},t._l(s,function(s){return i("div",{staticClass:"goods-item"},[i("div",{staticClass:"img",on:{click:function(e){t.detailLink(t.routerName,s.goods_id)}}},[s.goods_thumb?i("img",{staticClass:"img",attrs:{src:s.goods_thumb}}):i("img",{staticClass:"img",attrs:{src:e("d9e6")}})]),i("div",{staticClass:"pro-info"},[i("h4",{staticClass:"twolist-hidden",on:{click:function(e){t.detailLink(t.routerName,s.goods_id)}}},[""!=s.country_icon?i("img",{staticClass:"country_icon",attrs:{src:s.country_icon}}):t._e(),s.is_promote>0?i("em",{staticClass:"em-promotion em-special-sale"},[t._v(t._s(t.$t("lang.special_sale")))]):t._e(),t._v(t._s(s.goods_name)+"\n\t\t\t\t\t\t\t\t")]),i("currency-price",{staticStyle:{padding:"6px 0 8px"},attrs:{price:s.shop_price,delPrice:s.is_promote>0?s.market_price:"",size:16}}),t.productOuter?t._e():i("div",{staticClass:"outer"},[s.user_id>0&&1==s.self_run||0==s.user_id?i("em",{staticClass:"tag"},[t._v(t._s(t.$t("lang.self_support")))]):i("em",{staticClass:"tag",on:{click:function(e){t.shopUrl(s.user_id)}}},[t._v(t._s(t.$t("lang.into_shop")))]),i("span",[t._v(t._s(s.sales_volume)+t._s(t.$t("lang.a_have_purchased")))])]),1==s.prod?[t.productOuter?t._e():i("a",{staticClass:"add_cart",attrs:{href:"javascript:void(0)"},on:{click:function(e){t.addCart(s.goods_id,o)}}},[i("span",{staticClass:"add_num",class:{show:1==t.addCartClass&&o==t.curIndex},attrs:{id:"popone"}},[t._v("+1")]),i("i",{staticClass:"iconfont icon-cart"})])]:[t.productOuter?t._e():i("div",{staticClass:"add_cart",on:{click:function(e){t.detailLink(t.routerName,s.goods_id)}}},[i("i",{staticClass:"iconfont icon-cart"})])]],2)])}))}),i("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)],1)]:t._l(t.data,function(s,o){return i("div",{key:o,staticClass:"prolist-item"},["team-detail"==t.routerName?[i("div",{staticClass:"pro-img",on:{click:function(e){t.detailLink(t.routerName,s.goods_id)}}},[i("div",{staticClass:"img-box"},[s.goods_thumb?i("img",{staticClass:"img",attrs:{src:s.goods_thumb}}):i("img",{staticClass:"img",attrs:{src:e("d9e6")}}),s.goods_label_suspension&&s.goods_label_suspension.formated_label_image?i("div",{staticClass:"goods-label-suspension"},[i("img",{staticClass:"img",attrs:{src:s.goods_label_suspension.formated_label_image}})]):t._e()])]),i("div",{staticClass:"pro-info",on:{click:function(e){t.detailLink(t.routerName,s.goods_id)}}},[i("h4",{staticClass:"twolist-hidden"},[""!=s.country_icon?i("img",{staticClass:"country_icon",attrs:{src:s.country_icon}}):t._e(),t._v(t._s(s.goods_name)+"\n\t\t\t\t\t\t")]),i("div",{staticClass:"dis-box cont"},[i("div",{staticClass:"f-02 color-9 box-flex"},[t._v(t._s(t.$t("lang.single_purchase_price"))),i("span",{domProps:{innerHTML:t._s(s.shop_price_formated)}})])]),i("div",{staticClass:"dis-box m-top10"},[i("div",{staticClass:"f-05 color-red"},[t._v(t._s(s.team_num)+t._s(t.$t("lang.one_group")))]),i("div",{staticClass:"box-flex f-06 color-red f-weight p-l1",domProps:{innerHTML:t._s(s.team_price)}})])])]:[i("div",{staticClass:"pro-img",on:{click:function(e){t.detailLink(t.routerName,s.goods_id)}}},[i("div",{staticClass:"img-box"},[s.goods_thumb?i("img",{staticClass:"img",attrs:{src:s.goods_thumb}}):i("img",{staticClass:"img",attrs:{src:e("d9e6")}}),s.goods_label_suspension&&s.goods_label_suspension.formated_label_image?i("div",{staticClass:"goods-label-suspension"},[i("img",{staticClass:"img",attrs:{src:s.goods_label_suspension.formated_label_image}})]):t._e()])]),i("div",{staticClass:"pro-info"},[i("h4",{staticClass:"twolist-hidden",on:{click:function(e){t.detailLink(t.routerName,s.goods_id)}}},[""!=s.country_icon?i("img",{staticClass:"country_icon",attrs:{src:s.country_icon}}):t._e(),s.is_promote>0?i("em",{staticClass:"em-promotion em-special-sale"},[t._v(t._s(t.$t("lang.special_sale")))]):t._e(),t._v(t._s(s.goods_name)+"\n\t\t\t\t\t\t")]),i("currency-price",{staticStyle:{padding:"6px 0 8px"},attrs:{price:s.shop_price,delPrice:s.is_promote>0?s.market_price:"",size:16}}),t.productOuter?t._e():i("div",{staticClass:"outer outer_teshu"},[s.user_id>0&&1==s.self_run||0==s.user_id?i("em",{staticClass:"tag"},[t._v(t._s(t.$t("lang.self_support")))]):i("em",{staticClass:"tag",on:{click:function(e){t.shopUrl(s.user_id)}}},[t._v(t._s(t.$t("lang.into_shop")))]),s.goods_label?i("div",{staticClass:"label-list"},t._l(s.goods_label,function(t,s){return i("div",{key:s,staticClass:"label-img"},[i("a",{attrs:{href:t.label_url?t.label_url:"javascript:;"}},[i("img",{attrs:{src:t.formated_label_image}})])])})):t._e()]),t.productOuter?t._e():i("div",{staticClass:"outer"},[i("span",[t._v(t._s(s.sales_volume)+t._s(t.$t("lang.a_have_purchased")))]),1==s.prod?[t.productOuter?t._e():i("a",{staticClass:"add_cart",attrs:{href:"javascript:void(0)"},on:{click:function(e){t.addCart(s.goods_id,o)}}},[i("span",{staticClass:"add_num",class:{show:1==t.addCartClass&&o==t.curIndex},attrs:{id:"popone"}},[t._v("+1")]),i("i",{staticClass:"iconfont icon-cart"})])]:[t.productOuter?t._e():i("div",{staticClass:"add_cart",on:{click:function(e){t.detailLink(t.routerName,s.goods_id)}}},[i("i",{staticClass:"iconfont icon-cart"})])]],2)],1)]],2)})]:[i("NotCont")]],2)},o=[],a=(e("ac6a"),e("88d8")),n=(e("7f7f"),e("e7e5"),e("d399")),r=e("6f38"),c=e("7212"),l={props:{data:Array,routerName:{type:String,default:"goods"},productOuter:{type:Boolean,default:!1},styleType:{type:String,default:""}},data:function(){return{addCartClass:!1,curIndex:null,swiperOption:{notNextTick:!0,pagination:{el:".swiper-pagination"},lazyLoading:!0,autoplay:5600}}},components:Object(a["a"])({swiper:c["swiper"],swiperSlide:c["swiperSlide"],NotCont:r["a"]},n["a"].name,n["a"]),computed:{goodslist:function(){for(var t=[],s=0;s<this.data.length;s+=6)t.push(this.data.slice(s,s+6));return t}},methods:{addCart:function(t,s){var e=this;this.addCartClass=!1,this.curIndex=null,this.$store.dispatch("setAddCart",{goods_id:t,num:1,spec:[],warehouse_id:"0",area_id:"0",parent_id:"0"}).then(function(t){1==t&&(e.addCartClass=!0,e.curIndex=s,n["a"].success({duration:1e3,message:e.$t("lang.goods_been_add_cart")}))})},shopUrl:function(t){this.$router.push({name:"shopHome",params:{id:t}})},detailLink:function(t,s){var e=this;"goods"==t?this.data.forEach(function(t){t.goods_id==s&&(t.get_presale_activity?e.$router.push({name:"presale-detail",params:{act_id:t.get_presale_activity.act_id}}):e.$router.push({name:"goods",params:{id:s}}))}):"team-detail"==t&&this.$router.push({name:"team-detail",query:{goods_id:s,team_id:0}})}}},d=l,u=(e("72a1"),e("2877")),_=Object(u["a"])(d,i,o,!1,null,"19a5c039",null);_.options.__file="ProductList.vue";s["a"]=_.exports},"20d6":function(t,s,e){"use strict";var i=e("5ca1"),o=e("0a49")(6),a="findIndex",n=!0;a in[]&&Array(1)[a](function(){n=!1}),i(i.P+i.F*n,"Array",{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),e("9c6c")(a)},2662:function(t,s,e){},"28a2":function(t,s,e){"use strict";var i=e("c31d"),o=e("2b0e"),a=e("2638"),n=e.n(a),r=e("a142"),c=e("db78"),l=e("6605"),d=e("3875"),u=e("5596"),_=e("2bb1"),h=Object(r["j"])("image-preview"),g=h[0],p=h[1];function m(t){return Math.sqrt(Math.abs((t[0].clientX-t[1].clientX)*(t[0].clientY-t[1].clientY)))}var f,v=g({mixins:[l["a"],d["a"]],props:{images:Array,className:null,lazyLoad:Boolean,asyncClose:Boolean,startPosition:Number,showIndicators:Boolean,loop:{type:Boolean,default:!0},overlay:{type:Boolean,default:!0},showIndex:{type:Boolean,default:!0},minZoom:{type:Number,default:1/3},maxZoom:{type:Number,default:3},overlayClass:{type:String,default:"van-image-preview__overlay"},closeOnClickOverlay:{type:Boolean,default:!0}},data:function(){return{scale:1,moveX:0,moveY:0,moving:!1,zooming:!1,active:0}},computed:{imageStyle:function(){var t=this.scale,s={transition:this.zooming||this.moving?"":".3s all"};return 1!==t&&(s.transform="scale3d("+t+", "+t+", 1) translate("+this.moveX/t+"px, "+this.moveY/t+"px)"),s}},watch:{value:function(){this.active=this.startPosition},startPosition:function(t){this.active=t}},methods:{onWrapperTouchStart:function(){this.touchStartTime=new Date},onWrapperTouchEnd:function(t){Object(c["c"])(t);var s=new Date-this.touchStartTime,e=this.$refs.swipe||{},i=e.offsetX,o=void 0===i?0:i,a=e.offsetY,n=void 0===a?0:a;if(s<300&&o<10&&n<10){var r=this.active;this.resetScale(),this.$emit("close",{index:r,url:this.images[r]}),this.asyncClose||this.$emit("input",!1)}},startMove:function(t){var s=t.currentTarget,e=s.getBoundingClientRect(),i=window.innerWidth,o=window.innerHeight;this.touchStart(t),this.moving=!0,this.startMoveX=this.moveX,this.startMoveY=this.moveY,this.maxMoveX=Math.max(0,(e.width-i)/2),this.maxMoveY=Math.max(0,(e.height-o)/2)},startZoom:function(t){this.moving=!1,this.zooming=!0,this.startScale=this.scale,this.startDistance=m(t.touches)},onTouchStart:function(t){var s=t.touches,e=this.$refs.swipe||{},i=e.offsetX,o=void 0===i?0:i;1===s.length&&1!==this.scale?this.startMove(t):2!==s.length||o||this.startZoom(t)},onTouchMove:function(t){var s=t.touches;if((this.moving||this.zooming)&&Object(c["c"])(t,!0),this.moving){this.touchMove(t);var e=this.deltaX+this.startMoveX,i=this.deltaY+this.startMoveY;this.moveX=Object(r["i"])(e,-this.maxMoveX,this.maxMoveX),this.moveY=Object(r["i"])(i,-this.maxMoveY,this.maxMoveY)}if(this.zooming&&2===s.length){var o=m(s),a=this.startScale*o/this.startDistance;this.scale=Object(r["i"])(a,this.minZoom,this.maxZoom)}},onTouchEnd:function(t){if(this.moving||this.zooming){var s=!0;this.moving&&this.startMoveX===this.moveX&&this.startMoveY===this.moveY&&(s=!1),t.touches.length||(this.moving=!1,this.zooming=!1,this.startMoveX=0,this.startMoveY=0,this.startScale=1,this.scale<1&&this.resetScale()),s&&Object(c["c"])(t,!0)}},onChange:function(t){this.resetScale(),this.active=t,this.$emit("change",t)},resetScale:function(){this.scale=1,this.moveX=0,this.moveY=0}},render:function(t){var s=this;if(this.value){var e=this.active,i=this.images,o=this.showIndex&&t("div",{class:p("index")},[this.slots("index")||e+1+"/"+i.length]),a=t(u["a"],{ref:"swipe",attrs:{loop:this.loop,indicatorColor:"white",initialSwipe:this.startPosition,showIndicators:this.showIndicators},on:{change:this.onChange}},[i.map(function(i,o){var a={class:p("image"),style:o===e?s.imageStyle:null,on:{touchstart:s.onTouchStart,touchmove:s.onTouchMove,touchend:s.onTouchEnd,touchcancel:s.onTouchEnd}};return t(_["a"],[s.lazyLoad?t("img",n()([{directives:[{name:"lazy",value:i}]},a])):t("img",n()([{attrs:{src:i}},a]))])})]);return t("transition",{attrs:{name:"van-fade"}},[t("div",{class:[p(),this.className],on:{touchstart:this.onWrapperTouchStart,touchend:this.onWrapperTouchEnd,touchcancel:this.onWrapperTouchEnd}},[o,a])])}}}),b={images:[],loop:!0,value:!0,minZoom:1/3,maxZoom:3,className:"",lazyLoad:!1,showIndex:!0,asyncClose:!1,startPosition:0,showIndicators:!1},C=function(){f=new(o["default"].extend(v))({el:document.createElement("div")}),document.body.appendChild(f.$el)},k=function(t,s){if(void 0===s&&(s=0),!r["g"]){f||C();var e=Array.isArray(t)?{images:t,startPosition:s}:t;return Object(i["a"])(f,b,e),f.$once("input",function(t){f.value=t}),e.onClose&&f.$once("close",e.onClose),f}};k.install=function(){o["default"].use(v)};s["a"]=k},"2d1d":function(t,s,e){},"342a":function(t,s,e){"use strict";e("68ef"),e("bff0")},"398e":function(t,s,e){"use strict";var i=e("9db2"),o=e.n(i);o.a},"3d69":function(t,s,e){},"3e7c":function(t,s,e){"use strict";var i,o=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("header",{staticClass:"goods-shop-info padding-all"},[e("section",{staticClass:"dis-box"},[e("div",{staticClass:"g-s-i-img",on:{click:function(s){t.shopDetail(t.shopInfo[t.index].ru_id)}}},[e("img",{staticClass:"img",attrs:{src:t.shopInfo[t.index].logo}})]),e("div",{staticClass:"g-s-i-title box-flex",on:{click:function(s){t.shopDetail(t.shopInfo[t.index].ru_id)}}},[e("h3",[t._v(t._s(t.shopInfo[t.index].shopName)),e("van-icon",{attrs:{name:"shop"}})],1),e("p",[t._v(t._s(t.$t("lang.collection_one"))+" "),e("span",[t._v(t._s(t.shopInfo[t.index].count_gaze))]),t._v(" "+t._s(t.$t("lang.collection_two")))])]),e("div",{staticClass:"g-s-info-add"},[e("a",{class:{active:0==t.shopInfo[t.index].is_collect_shop},attrs:{href:"javascript:void(0);"},on:{click:function(s){t.collectHandle(t.shopInfo[t.index].ru_id)}}},[1==t.shopInfo[t.index].is_collect_shop?e("span",[t._v(t._s(t.$t("lang.followed")))]):e("span",[t._v(t._s(t.$t("lang.did_not_concern")))])])])]),t.shopScore?[e("div",{staticClass:"goods-shop-score dis-box"},[e("p",{staticClass:"box-flex"},[e("label",{staticClass:"fl"},[t._v(t._s(t.$t("lang.goods")))]),e("span",{staticClass:"color-red margin-lr fl"},[t._v(t._s(t.shopInfo[t.index].commentrank))]),e("em",{staticClass:"em-promotion fl"},[t._v(t._s(t.shopInfo[t.index].commentrank_font))])]),e("p",{staticClass:"box-flex"},[e("label",{staticClass:"fl"},[t._v(t._s(t.$t("lang.service")))]),e("span",{staticClass:"color-low margin-lr fl"},[t._v(t._s(t.shopInfo[t.index].commentserver))]),e("em",{staticClass:"em-promotion em-p-low fl"},[t._v(t._s(t.shopInfo[t.index].commentserver_font))])]),e("p",{staticClass:"box-flex"},[e("label",{staticClass:"fl"},[t._v(t._s(t.$t("lang.commentdelivery")))]),e("span",{staticClass:"color-center margin-lr fl"},[t._v(t._s(t.shopInfo[t.index].commentdelivery))]),e("em",{staticClass:"em-promotion em-p-center fl"},[t._v(t._s(t.shopInfo[t.index].commentdelivery_font))])])])]:t._e()],2)},a=[],n=(e("ac6a"),e("88d8")),r=(e("c3a6"),e("ad06")),c=(e("7f7f"),e("e17f"),e("2241")),l={props:["shopInfo","index","shopScore"],data:function(){return{distance:!1}},components:(i={},Object(n["a"])(i,c["a"].name,c["a"]),Object(n["a"])(i,r["a"].name,r["a"]),i),created:function(){},computed:{isLogin:function(){return null!=localStorage.getItem("token")},shopCollectStatue:function(){return this.$store.state.user.shopCollectStatue},is_collect_shop:function(){return this.shopInfo[this.index].is_collect_shop},ru_id:function(){return this.shopInfo[this.index].ru_id}},methods:{shopDetail:function(t){this.$router.push({name:"shopHome",params:{id:t}})},collectHandle:function(t){if(this.isLogin)this.$store.dispatch("setCollectShop",{ru_id:t,status:this.is_collect_shop});else{var s=this.$t("lang.fill_in_user_collect_goods");this.notLogin(s)}},notLogin:function(t){var s=this;c["a"].confirm({message:t,className:"text-center"}).then(function(){s.$router.push({path:"/login",query:{redirect:{name:"shopDetail",params:{id:s.ru_id}}}})}).catch(function(){})}},watch:{shopCollectStatue:function(){var t=this;this.shopCollectStatue.forEach(function(s){s.id==t.ru_id&&t.$emit("update",{is_collect_shop:s.status})})}}},d=l,u=e("2877"),_=Object(u["a"])(d,o,a,!1,null,null,null);_.options.__file="ShopHeader.vue";s["a"]=_.exports},"42d1":function(t,s,e){"use strict";var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return t.dscLoading?e("div",{staticClass:"cloading",style:{height:t.clientHeight+"px"},on:{touchmove:function(t){t.preventDefault()},mousewheel:function(t){t.preventDefault()}}},[e("div",{staticClass:"cloading-mask"}),t._t("text",[t._m(0)])],2):t._e()},o=[function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"cloading-main"},[i("img",{attrs:{src:e("f8b2")}})])}],a=e("88d8"),n=(e("7f7f"),e("ac1e"),e("543e")),r={props:["dscLoading"],data:function(){return{clientHeight:""}},components:Object(a["a"])({},n["a"].name,n["a"]),created:function(){},mounted:function(){this.clientHeight=document.documentElement.clientHeight},methods:{}},c=r,l=(e("a637"),e("2877")),d=Object(l["a"])(c,i,o,!1,null,"9a0469b6",null);d.options.__file="DscLoading.vue";s["a"]=d.exports},"45a6":function(t,s,e){"use strict";var i=e("2d1d"),o=e.n(i);o.a},4662:function(t,s,e){"use strict";e("68ef"),e("4d75"),e("8270"),e("786d"),e("504b")},"4f13":function(t,s,e){e("28a5");var i={errorImg:null,filter:null,highlight:null,onText:null,entities:{quot:'"',apos:"'",semi:";",nbsp:" ",ensp:" ",emsp:" ",ndash:"–",mdash:"—",middot:"·",lsquo:"‘",rsquo:"’",ldquo:"“",rdquo:"”",bull:"•",hellip:"…"},blankChar:o(" , ,\t,\r,\n,\f"),boolAttrs:o("allowfullscreen,autoplay,autostart,controls,ignore,loop,muted"),blockTags:o("address,article,aside,body,caption,center,cite,footer,header,html,nav,pre,section"),ignoreTags:o("area,base,canvas,frame,iframe,input,link,map,meta,param,script,source,style,svg,textarea,title,track,wbr"),richOnlyTags:o("a,colgroup,fieldset,legend"),selfClosingTags:o("area,base,br,col,circle,ellipse,embed,frame,hr,img,input,line,link,meta,param,path,polygon,rect,source,track,use,wbr"),trustTags:o("a,abbr,ad,audio,b,blockquote,br,code,col,colgroup,dd,del,dl,dt,div,em,fieldset,h1,h2,h3,h4,h5,h6,hr,i,img,ins,label,legend,li,ol,p,q,source,span,strong,sub,sup,table,tbody,td,tfoot,th,thead,tr,title,ul,video"),userAgentStyles:{address:"font-style:italic",big:"display:inline;font-size:1.2em",blockquote:"background-color:#f6f6f6;border-left:3px solid #dbdbdb;color:#6c6c6c;padding:5px 0 5px 10px",caption:"display:table-caption;text-align:center",center:"text-align:center",cite:"font-style:italic",dd:"margin-left:40px",mark:"background-color:yellow",pre:"font-family:monospace;white-space:pre;overflow:scroll",s:"text-decoration:line-through",small:"display:inline;font-size:0.8em",u:"text-decoration:underline"}};function o(t){for(var s=Object.create(null),e=t.split(","),i=e.length;i--;)s[e[i]]=!0;return s}t.exports=i},"504b":function(t,s,e){},5246:function(t,s,e){"use strict";e("68ef"),e("8a0b")},5487:function(t,s,e){"use strict";var i=e("db78"),o=e("023d"),a="@@Waterfall",n=300;function r(){var t=this.el,s=this.scrollEventTarget;if(!this.disabled){var e=Object(o["d"])(s),i=Object(o["e"])(s),a=e+i;if(i){var n=!1;if(t===s)n=s.scrollHeight-a<this.offset;else{var r=Object(o["a"])(t)-Object(o["a"])(s)+Object(o["e"])(t);n=r-i<this.offset}n&&this.cb.lower&&this.cb.lower({target:s,top:e});var c=!1;if(t===s)c=e<this.offset;else{var l=Object(o["a"])(t)-Object(o["a"])(s);c=l+this.offset>0}c&&this.cb.upper&&this.cb.upper({target:s,top:e})}}}function c(){var t=this;if(!this.el[a].binded){this.el[a].binded=!0,this.scrollEventListener=r.bind(this),this.scrollEventTarget=Object(o["c"])(this.el);var s=this.el.getAttribute("waterfall-disabled"),e=!1;s&&(this.vm.$watch(s,function(s){t.disabled=s,t.scrollEventListener()}),e=Boolean(this.vm[s])),this.disabled=e;var c=this.el.getAttribute("waterfall-offset");this.offset=Number(c)||n,Object(i["b"])(this.scrollEventTarget,"scroll",this.scrollEventListener,!0),this.scrollEventListener()}}function l(t){var s=t[a];s.vm.$nextTick(function(){c.call(t[a])})}function d(t){var s=t[a];s.vm._isMounted?l(t):s.vm.$on("hook:mounted",function(){l(t)})}var u=function(t){return{bind:function(s,e,i){s[a]||(s[a]={el:s,vm:i.context,cb:{}}),s[a].cb[t]=e.value,d(s)},update:function(t){var s=t[a];s.scrollEventListener&&s.scrollEventListener()},unbind:function(t){var s=t[a];s.scrollEventTarget&&Object(i["a"])(s.scrollEventTarget,"scroll",s.scrollEventListener)}}};u.install=function(t){t.directive("WaterfallLower",u("lower")),t.directive("WaterfallUpper",u("upper"))};s["a"]=u},"565f":function(t,s,e){"use strict";var i=e("2638"),o=e.n(i),a=e("c31d"),n=e("ad06"),r=e("7744"),c=e("dfaf"),l=e("a142"),d=e("db78"),u=e("023d"),_=e("90c6"),h=Object(l["j"])("field"),g=h[0],p=h[1];s["a"]=g({inheritAttrs:!1,props:Object(a["a"])({},c["a"],{error:Boolean,leftIcon:String,rightIcon:String,readonly:Boolean,clearable:Boolean,labelWidth:[String,Number],labelAlign:String,inputAlign:String,onIconClick:Function,autosize:[Boolean,Object],errorMessage:String,errorMessageAlign:String,type:{type:String,default:"text"}}),data:function(){return{focused:!1}},watch:{value:function(){this.$nextTick(this.adjustSize)}},mounted:function(){this.format(),this.$nextTick(this.adjustSize)},computed:{showClear:function(){return this.clearable&&this.focused&&""!==this.value&&Object(l["c"])(this.value)&&!this.readonly},listeners:function(){return Object(a["a"])({},this.$listeners,{input:this.onInput,keypress:this.onKeypress,focus:this.onFocus,blur:this.onBlur})},labelStyle:function(){var t=this.labelWidth;if(t){var s=Object(_["a"])(String(t))?t+"px":t;return{maxWidth:s,minWidth:s}}}},methods:{focus:function(){this.$refs.input&&this.$refs.input.focus()},blur:function(){this.$refs.input&&this.$refs.input.blur()},format:function(t){void 0===t&&(t=this.$refs.input);var s=t,e=s.value,i=this.$attrs.maxlength;return"number"===this.type&&Object(l["c"])(i)&&e.length>i&&(e=e.slice(0,i),t.value=e),e},onInput:function(t){this.$emit("input",this.format(t.target))},onFocus:function(t){this.focused=!0,this.$emit("focus",t),this.readonly&&this.blur()},onBlur:function(t){this.focused=!1,this.$emit("blur",t),Object(l["d"])()&&window.scrollTo(0,Object(u["b"])())},onClickLeftIcon:function(){this.$emit("click-left-icon")},onClickRightIcon:function(){this.$emit("click-icon"),this.$emit("click-right-icon"),this.onIconClick&&this.onIconClick()},onClear:function(t){Object(d["c"])(t),this.$emit("input",""),this.$emit("clear")},onKeypress:function(t){if("number"===this.type){var s=t.keyCode,e=-1===String(this.value).indexOf("."),i=s>=48&&s<=57||46===s&&e||45===s;i||Object(d["c"])(t)}"search"===this.type&&13===t.keyCode&&this.blur(),this.$emit("keypress",t)},adjustSize:function(){var t=this.$refs.input;if("textarea"===this.type&&this.autosize&&t){t.style.height="auto";var s=t.scrollHeight;if(Object(l["f"])(this.autosize)){var e=this.autosize,i=e.maxHeight,o=e.minHeight;i&&(s=Math.min(s,i)),o&&(s=Math.max(s,o))}s&&(t.style.height=s+"px")}},renderInput:function(){var t=this.$createElement,s={ref:"input",class:p("control",this.inputAlign),domProps:{value:this.value},attrs:Object(a["a"])({},this.$attrs,{readonly:this.readonly}),on:this.listeners};return"textarea"===this.type?t("textarea",o()([{},s])):t("input",o()([{attrs:{type:this.type}},s]))},renderLeftIcon:function(){var t=this.$createElement,s=this.slots("left-icon")||this.leftIcon;if(s)return t("div",{class:p("left-icon"),on:{click:this.onClickLeftIcon}},[this.slots("left-icon")||t(n["a"],{attrs:{name:this.leftIcon}})])},renderRightIcon:function(){var t=this.$createElement,s=this.slots,e=s("right-icon")||s("icon")||this.rightIcon||this.icon;if(e)return t("div",{class:p("right-icon"),on:{click:this.onClickRightIcon}},[s("right-icon")||s("icon")||t(n["a"],{attrs:{name:this.rightIcon||this.icon}})])}},render:function(t){var s,e=this.slots,i=this.labelAlign,o={icon:this.renderLeftIcon};return e("label")&&(o.title=function(){return e("label")}),t(r["a"],{attrs:{icon:this.leftIcon,size:this.size,title:this.label,center:this.center,border:this.border,isLink:this.isLink,required:this.required,titleStyle:this.labelStyle,titleClass:p("label",i)},class:p((s={error:this.error,disabled:this.$attrs.disabled},s["label-"+i]=i,s["min-height"]="textarea"===this.type&&!this.autosize,s)),scopedSlots:o},[t("div",{class:p("body")},[this.renderInput(),this.showClear&&t(n["a"],{attrs:{name:"clear"},class:p("clear"),on:{touchstart:this.onClear}}),this.renderRightIcon(),e("button")&&t("div",{class:p("button")},[e("button")])]),this.errorMessage&&t("div",{class:p("error-message",this.errorMessageAlign)},[this.errorMessage])])}})},"5d17":function(t,s,e){"use strict";e("68ef")},"66fd":function(t,s,e){"use strict";var i=e("2638"),o=e.n(i),a=e("a142"),n=e("ba31"),r=e("a3e2"),c=Object(a["j"])("card"),l=c[0],d=c[1];function u(t,s,e,i){var c=s.thumb,l=e.thumb||c,u=e.tag||s.tag,_=e.num||Object(a["c"])(s.num),h=e.price||Object(a["c"])(s.price),g=e["origin-price"]||Object(a["c"])(s.originPrice),p=_||h||g,m=function(){Object(n["a"])(i,"click-thumb")},f=l&&t("a",{attrs:{href:s.thumbLink},class:d("thumb"),on:{click:m}},[e.thumb?e.thumb():s.lazyLoad?t("img",{class:d("img"),directives:[{name:"lazy",value:c}]}):t("img",{class:d("img"),attrs:{src:c}}),u&&t("div",{class:d("tag")},[e.tag?e.tag():t(r["a"],{attrs:{mark:!0,type:"danger"}},[s.tag])])]),v=e.title?e.title():s.title&&t("div",{class:d("title")},[s.title]),b=e.desc?e.desc():s.desc&&t("div",{class:[d("desc"),"van-ellipsis"]},[s.desc]),C=h&&t("div",{class:d("price")},[e.price?e.price():s.currency+" "+s.price]),k=g&&t("div",{class:d("origin-price")},[e["origin-price"]?e["origin-price"]():s.currency+" "+s.originPrice]),y=_&&t("div",{class:d("num")},[e.num?e.num():"x "+s.num]),w=e.footer&&t("div",{class:d("footer")},[e.footer()]);return t("div",o()([{class:d()},Object(n["b"])(i,!0)]),[t("div",{class:d("header")},[f,t("div",{class:d("content",{centered:s.centered})},[v,b,e.tags&&e.tags(),p&&t("div",{class:"van-card__bottom"},[C,k,y,e.bottom&&e.bottom()])])]),w])}u.props={tag:String,desc:String,thumb:String,title:String,centered:Boolean,lazyLoad:Boolean,thumbLink:String,num:[Number,String],price:[Number,String],originPrice:[Number,String],currency:{type:String,default:"¥"}},s["a"]=l(u)},"6b41":function(t,s,e){"use strict";var i=e("2638"),o=e.n(i),a=e("a142"),n=e("ba31"),r=e("ad06"),c=Object(a["j"])("nav-bar"),l=c[0],d=c[1];function u(t,s,e,i){return t("div",o()([{class:[d({fixed:s.fixed}),{"van-hairline--bottom":s.border}],style:{zIndex:s.zIndex}},Object(n["b"])(i)]),[t("div",{class:d("left"),on:{click:i.listeners["click-left"]||a["h"]}},[e.left?e.left():[s.leftArrow&&t(r["a"],{class:d("arrow"),attrs:{name:"arrow-left"}}),s.leftText&&t("span",{class:d("text")},[s.leftText])]]),t("div",{class:[d("title"),"van-ellipsis"]},[e.title?e.title():s.title]),t("div",{class:d("right"),on:{click:i.listeners["click-right"]||a["h"]}},[e.right?e.right():s.rightText&&t("span",{class:d("text")},[s.rightText])])])}u.props={title:String,fixed:Boolean,leftText:String,rightText:String,leftArrow:Boolean,border:{type:Boolean,default:!0},zIndex:{type:Number,default:1}},s["a"]=l(u)},"715a":function(t,s,e){"use strict";var i=e("3d69"),o=e.n(i);o.a},"72a1":function(t,s,e){"use strict";var i=e("ed06"),o=e.n(i);o.a},"8a0b":function(t,s,e){},"8f80":function(t,s,e){"use strict";var i=e("c31d"),o=e("a142"),a=Object(o["j"])("uploader"),n=a[0],r=a[1];s["a"]=n({inheritAttrs:!1,props:{disabled:Boolean,beforeRead:Function,afterRead:Function,accept:{type:String,default:"image/*"},resultType:{type:String,default:"dataUrl"},maxSize:{type:Number,default:Number.MAX_VALUE}},computed:{detail:function(){return{name:this.$attrs.name||""}}},methods:{onChange:function(t){var s=this,e=t.target.files;!this.disabled&&e.length&&(e=1===e.length?e[0]:[].slice.call(e,0),!e||this.beforeRead&&!this.beforeRead(e,this.detail)?this.resetInput():Array.isArray(e)?Promise.all(e.map(this.readFile)).then(function(t){var i=!1,o=e.map(function(o,a){return o.size>s.maxSize&&(i=!0),{file:e[a],content:t[a]}});s.onAfterRead(o,i)}):this.readFile(e).then(function(t){s.onAfterRead({file:e,content:t},e.size>s.maxSize)}))},readFile:function(t){var s=this;return new Promise(function(e){var i=new FileReader;i.onload=function(t){e(t.target.result)},"dataUrl"===s.resultType?i.readAsDataURL(t):"text"===s.resultType&&i.readAsText(t)})},onAfterRead:function(t,s){s?this.$emit("oversize",t):this.afterRead&&this.afterRead(t,this.detail),this.resetInput()},resetInput:function(){this.$refs.input&&(this.$refs.input.value="")}},render:function(t){var s=this.accept,e=this.disabled;return t("div",{class:r()},[this.slots(),t("input",{attrs:Object(i["a"])({},this.$attrs,{type:"file",accept:s,disabled:e}),ref:"input",class:r("input"),on:{change:this.onChange}})])}})},"90c6":function(t,s,e){"use strict";function i(t){return/^\d+$/.test(t)}e.d(s,"a",function(){return i})},"9cb7b":function(t,s,e){"use strict";e("68ef"),e("9b7e"),e("ea82")},"9db2":function(t,s,e){},a637:function(t,s,e){"use strict";var i=e("2662"),o=e.n(i);o.a},bcd3:function(t,s,e){},bff0:function(t,s,e){},d10a:function(t,s,e){},d222:function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{directives:[{name:"waterfall-lower",rawName:"v-waterfall-lower",value:t.loadMore,expression:"loadMore"}],ref:"box",staticClass:"con con_main goods_details_content",attrs:{"waterfall-disabled":"wDisabled","waterfall-offset":"300"}},[t.dscLoading?t._e():[i("header",{staticClass:"header-nav-content",class:{"header-nav-fixed":!t.scrollState}},[i("van-nav-bar",{attrs:{"left-arrow":""},on:{"click-left":t.onClickLeft}},[i("ul",{staticClass:"nav-con-warp",attrs:{slot:"title"},slot:"title"},t._l(t.navTabs,function(s,e){return i("li",{key:e,class:{active:t.navActive==e}},[i("span",{on:{click:function(s){t.jump(e)}}},[t._v(t._s(s))])])})),i("section",{staticClass:"header_right",attrs:{slot:"right"},slot:"right"},[i("div",{staticClass:"ico_box",class:{curr:1==t.is_collect}},[i("i",{staticClass:"iconfont icon-guanzhu2",on:{click:t.collection}})]),i("div",{staticClass:"ico_box",on:{click:t.showShortcutHandle}},[i("i",{staticClass:"iconfont icon-gengduo1"}),t.showShortcut?i("ul",{staticClass:"shortcut"},t._l(t.shortcutData,function(s,e){return i("li",{key:e,staticClass:"shortcut_item",on:{click:function(e){t.routerLink(s.path)}}},[i("i",{class:[s.ico]}),i("span",[t._v(t._s(s.name))])])})):t._e()])])])],1),i("section",{ref:"goodsinfo",staticClass:"goods_info"},[i("div",{staticClass:"goods_photo_layer d_jump"},[i("div",{staticClass:"goods_photo"},[i("div",{staticClass:"goods_photo_warp"},[i("van-swipe",{ref:"goods_photo",attrs:{height:t.swipe_height},on:{change:t.onSwipeChange}},[t.gallery_list&&t.gallery_list.length>0?[t._l(t.gallery_list,function(s,o){return i("van-swipe-item",{key:o,staticStyle:{position:"relative"}},[i("img",s?{staticClass:"imgalt",attrs:{src:s},on:{click:function(s){t.previewImgs(o,t.gallery_list)}}}:{staticClass:"imgalt",attrs:{src:e("d9e6")}}),0==o&&t.goodsInfo.goods_label_suspension&&t.goodsInfo.goods_label_suspension.formated_label_image?i("div",{staticClass:"goods-label-suspension"},[i("img",{staticClass:"img",attrs:{src:t.goodsInfo.goods_label_suspension.formated_label_image}})]):t._e()])}),i("div",{staticClass:"custom-indicator goods-custom-indicator",attrs:{slot:"indicator"},slot:"indicator"},[i("span",{staticClass:"size_18"},[t._v(t._s(t.currentSwipeItem+1))]),t._v("/"+t._s(t.gallery_list.length)+"\n\t\t\t\t\t\t\t\t\t")])]:[i("van-swipe-item",{staticStyle:{position:"relative"}},[t.goodsInfo.goods_img?i("img",{staticClass:"imgalt",attrs:{src:t.goodsInfo.goods_img}}):i("img",{staticClass:"imgalt",attrs:{src:e("d9e6")}}),0==t.index&&t.goodsInfo.goods_label_suspension&&t.goodsInfo.goods_label_suspension.formated_label_image?i("div",{staticClass:"goods-label-suspension"},[i("img",{staticClass:"img",attrs:{src:t.goodsInfo.goods_label_suspension.formated_label_image}})]):t._e()])]],2),t.goodsInfo.goods_video&&0===t.index?i("div",{staticClass:"watch_video",on:{click:function(s){t.videoShow=!0}}},[i("i",{staticClass:"iconfont icon-bofang"}),i("span",[t._v(t._s(t.$t("lang.goods_watchvideo")))])]):t._e()],1)]),t.attrColorList.length>0?i("div",{staticClass:"goods-attr-img-list"},[i("div",{staticClass:"describe"},[t._v(t._s(t.attrColorList.length)+t._s(t.$t("lang.goods_color_option")))]),i("swiper",{staticClass:"imgs_scroll",attrs:{options:t.imgScrollOption}},t._l(t.attrColorList,function(s,e){return s.img_flie?i("swiper-slide",{key:e,staticClass:"com_img",class:{active:t.attrColorIndex==e}},[i("img",{staticClass:"img",attrs:{src:s.img_flie},on:{click:function(i){t.onSelectImg(s,e)}}})]):t._e()}))],1):t._e()]),t.goodsInfo.promote_end_date>0&&t.goodsInfo.promote_start_date>0?[i("div",{staticClass:"activity_img_warp"},[i("img",{staticClass:"activity_img",attrs:{src:e("0563")}}),i("div",{staticClass:"activity_left"},[i("currency-price",{attrs:{price:t.regionGoodsPirce?t.regionGoodsPirce:t.goodsPriceManage,delPrice:1==t.goodsInfo.show_marketprice?t.goodsMarketPriceManage:0,size:26,delSize:14,color:"#fff",delColor:"#fff"}})],1),i("div",{staticClass:"activity_right"},[i("p",{staticClass:"count_down_txt"},[t._v(t._s(t.$t("lang.promote_end")))]),void 0!=t.goodsInfo.promote_start_date&&void 0!=t.goodsInfo.promote_end_date?[i("count-down",{staticClass:"seckill-time",attrs:{mini:!0,endTime:t.goodsInfo.promote_end_date,endText:t.$t("lang.activity_end")}})]:t._e()],2)])]:t._e(),0==t.goodsInfo.promote_end_date&&0==t.goodsInfo.promote_start_date?i("div",{staticClass:"goods-price ai_fs"},[i("div",{staticClass:"goods_price_wrap"},[i("currency-price",{attrs:{price:t.regionGoodsPirce?t.regionGoodsPirce:t.goodsPriceManage,delPrice:1==t.goodsInfo.show_marketprice?t.goodsMarketPriceManage:0,size:24,delSize:14}}),i("span",{staticClass:"sold_out"},[t._v(t._s(t.$t("lang.goods_soltout"))+" "+t._s(t.goodsInfo.sales_volume)+" "+t._s(t.$t("lang.jian")))])],1),1==t.goodsInfo.is_show_drp&&t.goodsInfo.is_drp>0&&0!=t.goodsInfo.commission_money&&1==t.goodsInfo.is_distribution?i("div",{staticClass:"drp-share flex_box jc_center fd_column ai_center",on:{click:t.onGoodsShare}},[i("i",{staticClass:"iconfont icon-share"}),i("span",{staticClass:"m-top04"},[i("span",{staticClass:"m-r05"},[t._v(t._s(t.$t("lang.share_zhuan_alt")))]),i("span",{domProps:{innerHTML:t._s(t.goodsInfo.commission_money)}})])]):i("div",{staticClass:"drp-share flex_box jc_center fd_column ai_center",on:{click:t.onGoodsShare}},[i("i",{staticClass:"iconfont icon-share"}),i("span",[t._v(t._s(t.$t("lang.share")))])])]):t._e(),t.goodsInfo.ru_id>0&&1==t.goodsInfo.is_kj?i("div",{staticClass:"goods-price goods_rate"},[t.goodsInfo.goods_rate>0?i("div",{staticClass:"goods_price_wrap"},[i("span",{staticClass:"sold_out rate"},[t._v(t._s(t.$t("lang.import_tax")))]),i("currency-price",{attrs:{price:t.goodsRate,size:12}})],1):i("div",{staticClass:"goods_price_wrap"},[i("span",{staticClass:"sold_out rate"},[t._v(t._s(t.$t("lang.import_tax"))+"："+t._s(t.$t("lang.goods_tax_included")))])])]):t._e(),i("section",{staticClass:"goods_module_wrap border_radius_0"},[i("div",{staticClass:"goods_title",class:{goods_title_active:t.goodsInfo.promote_end_date>0&&t.goodsInfo.promote_start_date>0}},[t.goodsInfo.goods_label?i("div",{staticClass:"label-list"},t._l(t.goodsInfo.goods_label,function(t,s){return i("div",{key:s,staticClass:"label-img"},[i("a",{attrs:{href:t.label_url?t.label_url:"javascript:;"}},[i("img",{attrs:{src:t.formated_label_image}})])])})):t._e(),i("div",{staticClass:"goods_name_wrap"},[i("h3",{staticClass:"flex_1"},[1==t.goodsInfo.is_kj?i("span",{staticClass:"span_block"},[i("em",{staticClass:"em-promotion ziying",staticStyle:{background:"#7a45e5"}},[t._v(t._s(t.$t("lang.cross_goods")))]),""!=t.goodsInfo.country_icon?i("img",{staticClass:"country_icon",attrs:{src:t.goodsInfo.country_icon}}):t._e(),i("em",{staticClass:"em_font"},[t._v(t._s(t.goodsInfo.country_name))])]):t._e(),i("span",{staticClass:"span_block"},[0==t.goodsInfo.user_id?i("em",{staticClass:"em-promotion ziying self_support"},[t._v(t._s(t.$t("lang.self_support")))]):t._e(),t._v(t._s(t.goodsInfo.goods_name))])]),t.goodsInfo.promote_end_date>0&&t.goodsInfo.promote_start_date>0?[1==t.goodsInfo.is_show_drp&&t.goodsInfo.is_drp>0&&0!=t.goodsInfo.commission_money&&1==t.goodsInfo.is_distribution?i("div",{staticClass:"drp-share flex_box jc_center fd_column ai_center",on:{click:t.onGoodsShare}},[i("i",{staticClass:"iconfont icon-share"}),i("span",{staticClass:"m-top04"},[i("span",{staticClass:"m-r05"},[t._v(t._s(t.$t("lang.share_zhuan_alt")))]),i("span",{domProps:{innerHTML:t._s(t.goodsInfo.commission_money)}})])]):i("div",{staticClass:"drp-share flex_box jc_center fd_column ai_center",on:{click:t.onGoodsShare}},[i("i",{staticClass:"iconfont icon-share"}),i("span",[t._v(t._s(t.$t("lang.share")))])])]:t._e()],2),t.goodsInfo.goods_brief?i("p",{staticClass:"f-05 color_999 m-top02"},[t._v(t._s(t.goodsInfo.goods_brief))]):t._e()]),1==t.goodsInfo.is_show_drp&&t.goodsInfo.is_drp&&0==t.goodsInfo.drp_shop?i("div",{staticClass:"hig-vip",class:{pt10:t.goodsInfo.promote_end_date>0&&t.goodsInfo.promote_start_date>0}},[i("div",{staticClass:"hig-vip-warp"},[i("div",{staticClass:"text"},[t._m(0),t.goodsInfo.membership_card_discount_price>0?[i("span",[t._v(t._s(t.$t("lang.high_grade_vip_tips_1")))]),i("currency-price",{attrs:{price:t.goodsInfo.membership_card_discount_price,color:"#333"}})]:[t._v(t._s(t.$t("lang.high_grade_vip_tips_1")))]],2),i("div",{staticClass:"vip-register"},[t.goodsInfo.drp_shop_membership_card_id&&t.goodsInfo.drp_shop_membership_card_id>0?[t.isLogin?i("a",{attrs:{href:"javascript:;"},on:{click:function(s){t.onVipRepurchase(t.goodsInfo.drp_shop_membership_card_id)}}},[i("span",[t._v(t._s(t.$t("lang.re_purchase")))]),i("i",{staticClass:"iconfont icon-more"})]):t._e()]:[t.isLogin?i("a",{attrs:{href:"javascript:;"},on:{click:t.onVipRegister}},[i("span",[t._v(t._s(t.$t("lang.immediately_opened")))]),i("i",{staticClass:"iconfont icon-more"})]):i("router-link",{attrs:{to:{name:"login"}}},[i("span",[t._v(t._s(t.$t("lang.immediately_opened")))]),i("i",{staticClass:"iconfont icon-more"})])]],2)])]):t._e()]),t.formatDiscountsData.length>0||t.activityData.length>0?i("section",{staticClass:"goods_module_wrap m-top08"},[t.formatDiscountsData.length>0?i("div",{staticClass:"activity_content",on:{click:function(s){t.showDiscount=!0}}},[i("div",{staticClass:"title"},[t._v(t._s(t.$t("lang.goods_discounts")))]),i("div",{staticClass:"activity_main"},[i("div",{staticClass:"activity_item"},[i("img",{attrs:{src:e("1869")}}),i("span",[t._v(t._s(t.$t("lang.activities_option")))])]),t._l(t.formatDiscountsData,function(s,e){return i("div",{key:e,staticClass:"activity_item"},[e<2?[i("span",{staticClass:"activity_bg"},[t._v(t._s(s.label))]),0!=s.acttype?i("span",{staticClass:"flex_1 activity_tips"},[t._v(t._s(s.value))]):t._e(),0==s.acttype?t._l(s.value,function(s,e){return i("span",{key:e,staticClass:"coupon_bg_wrap"},[i("span",{staticClass:"coupon_bg"},[t._v(t._s(s.cou_man)+" "+t._s(t.$t("lang.man"))+" "+t._s(s.cou_money)+" "+t._s(t.$t("lang.minus")))])])}):t._e()]:t._l(s,function(s,e){return i("span",{key:e,staticClass:"activity_bg"},[t._v(t._s(s.label))])})],2)})],2),t._m(1)]):t._e(),t.activityData.length>0?i("div",{staticClass:"activity_content",on:{click:function(s){t.showActivity=!0}}},[i("div",{staticClass:"title"},[t._v(t._s(t.$t("lang.goods_activity")))]),i("div",{staticClass:"activity_main"},t._l(t.activityData,function(s,e){return i("div",{key:e,class:["activity_item",0==e?"activity_item_mt":""]},[i("span",{staticClass:"activity_bg"},[t._v(t._s(s.label))]),i("span",{staticClass:"activity_tips"},[t._v(t._s(s.value))])])})),t._m(2)]):t._e()]):t._e(),i("section",{staticClass:"goods_module_wrap m-top08"},[i("div",{staticClass:"activity_content",on:{click:t.skuLink}},[i("div",{staticClass:"title"},[t._v(t._s(t.$t("lang.label_selected_2")))]),i("div",{staticClass:"activity_main"},[t._v(t._s(t.attr_name))]),t._m(3)]),1==t.goodsInfo.is_kj&&""!=t.goodsInfo.cross_warehouse_name?i("div",{staticClass:"activity_content"},[i("div",{staticClass:"title"},[t._v(t._s(t.$t("lang.place_of_shipment")))]),i("div",{staticClass:"activity_main"},[t._v(t._s(t.goodsInfo.cross_warehouse_name))])]):t._e(),i("div",{staticClass:"activity_content",on:{click:t.showRegionShow}},[i("div",{staticClass:"title"},[t._v(t._s(t.$t("lang.label_send_to_2")))]),i("div",{staticClass:"activity_main"},[i("div",{staticClass:"location_wrap"},[i("img",{staticClass:"location_ico",attrs:{src:e("6b7f")}}),t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.regionSplic)+"\n\t\t\t\t\t\t\t")])]),t._m(4)]),t.shipping_fee.store_count>0&&t.shipping_fee.store_info?i("div",{staticClass:"activity_content",on:{click:t.handleStore}},[i("div",{staticClass:"title"},[t._v(t._s(t.$t("lang.store")))]),i("div",{staticClass:"activity_main"},[i("div",{staticClass:"store_wrap"},[i("div",{staticClass:"store_name"},[i("img",{staticClass:"store_ico",attrs:{src:e("fa99")}}),t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(t.shipping_fee.store_info.stores_name)+"\n\t\t\t\t\t\t\t\t")]),i("div",{staticClass:"address_text"},[t._v(t._s(t.shipping_fee.store_info.stores_address))])])]),t._m(5)]):t._e(),i("div",{staticClass:"activity_content yunfei"},[i("div",{staticClass:"title"},[t._v(t._s(t.$t("lang.label_freight_2")))]),i("div",{staticClass:"activity_main"},[1==t.goodsInfo.is_shipping||1==t.freeShipping?i("span",{staticStyle:{color:"#AF743A"}},[t._v(t._s(t.$t("lang.pinkage")))]):i("span",{domProps:{innerHTML:t._s(t.freight)}}),t.shipping_fee.shipping_title&&0!=t.shipping_fee.shipping_title?i("span",{staticClass:"color-red"},[t._v("("+t._s(t.shipping_fee.shipping_title)+")")]):t._e()])]),t.goodsInfo.goods_services_label&&t.goodsInfo.goods_services_label.length?i("div",{staticClass:"activity_content server",on:{click:function(s){t.showServerPop=!0}}},[i("div",{staticClass:"title"},[t._v(t._s(t.$t("lang.service")))]),i("div",{staticClass:"activity_main flex_box fw_w"},t._l(t.goodsInfo.goods_services_label,function(s,e){return i("div",{key:e,staticClass:"server_item"},[i("img",{staticClass:"server_ico",attrs:{src:s.formated_label_image}}),i("span",{staticClass:"text_1"},[t._v(t._s(s.label_name))])])})),t._m(6)]):t._e()]),this.goodsInfo.shop_can_comment>0?i("section",{staticClass:"goods_module_wrap m-top08 comment_wrap"},[i("div",{staticClass:"goods_comment d_jump"},[i("div",{staticClass:"title_box"},[i("div",{staticClass:"title_text"},[i("span",[t._v(t._s(t.commentTotal.total>0?t.$t("lang.comment"):t.$t("lang.no_comment")))]),t.commentTotal.total>0?i("span",{staticClass:"comment_count"},[t._v(t._s(t.commentTotal.total)+t._s(t.$t("lang.tiao")))]):t._e()]),i("div",{on:{click:t.commentHandle}},[t.commentTotal.total>0?i("span",{staticClass:"drgree_of_praise"},[t._v(t._s(t.$t("lang.high_praise"))+t._s(t.commentTotal.good))]):t._e(),i("i",{staticClass:"iconfont icon-more size_12"})])]),t.goodsComment.length>0?i("div",{staticClass:"comment-items"},[t._l(t.goodsComment,function(s,o){return i("div",{key:o,staticClass:"comitem"},[i("div",{staticClass:"item_header"},[s.user_picture?i("img",{staticClass:"head_l",attrs:{src:s.user_picture}}):i("img",{staticClass:"head_l",attrs:{src:e("68fa")}}),i("div",{staticClass:"head_r"},[i("div",{staticClass:"com_name"},[t._v(t._s(s.user_name))]),i("div",{staticClass:"com_time"},[i("div",{staticClass:"rate_wrap"},t._l(5,function(t,e){return i("i",{key:e,class:["iconfont","icon-wujiaoxing","size_12",t<=s.rank?"color_red":""]})})),i("span",{staticClass:"comment_time"},[t._v(t._s(s.add_time))])])])]),i("div",{staticClass:"item_body"},[i("div",{staticClass:"comment_con"},[t._v(t._s(s.content))]),i("swiper",{staticClass:"imgs_scroll",attrs:{options:t.imgScrollOption}},t._l(s.comment_img,function(o,a){return i("swiper-slide",{key:a,staticClass:"com_img"},[i("img",o?{attrs:{src:o},on:{click:function(e){t.previewImgs(a,s.comment_img)}}}:{attrs:{src:e("d9e6")}})])}))],1),s.goods_attr?i("div",{staticClass:"item_footer"},[t._v(t._s(s.goods_attr))]):t._e()])}),t.goodsComment.length>1?i("div",{staticClass:"flex_box jc_center"},[i("div",{staticClass:"goods_module_btn",on:{click:t.commentHandle}},[t._v(t._s(t.$t("lang.view_all_comments")))])]):t._e()],2):t._e()]),i("div",{staticClass:"goods_discover"},[i("div",{staticClass:"title_box"},[i("div",{staticClass:"title_text"},[i("span",[t._v(t._s(t.$t("lang.discuss_circle")))])]),i("div",{on:{click:t.onDiscover}},[i("span",{staticClass:"drgree_of_praise"},[t._v(t._s(t.$t("lang.view_all")))]),i("i",{staticClass:"iconfont icon-more size_12"})])]),t.friendDis.length>0?i("div",{staticClass:"friend_discuss",on:{click:t.onDiscover}},t._l(t.friendDis,function(s,e){return i("div",{key:e,staticClass:"discuss_item"},[1==s.dis_type?i("span",{staticClass:"dis_label"},[t._v(t._s(t.$t("lang.discuss")))]):i("span",{staticClass:"dis_label"},[t._v(t._s(t.$t("lang.interlocution")))]),i("span",{staticClass:"dis_value"},[t._v(t._s(s.dis_title))]),i("span",{staticClass:"dis_time"},[t._v(t._s(s.add_time))])])})):i("div",{staticClass:"no_dis"},[i("div",{staticClass:"no_dis_title"},[t._v(t._s(t.$t("lang.no_discuss_tops")))]),i("div",{staticClass:"goods_module_btn",on:{click:t.onDiscover}},[t._v(t._s(t.$t("lang.initiate_a_topic")))])])])]):t._e(),t.goodsInfo.user_id?i("section",{staticClass:"goods_module_wrap m-top08",on:{click:function(s){t.goLink({name:"shopHome",params:{id:t.shopDetail.ru_id}})}}},[i("div",{staticClass:"store_hade"},[i("img",{staticClass:"store_logo",attrs:{src:t.shopDetail.shop_logo}}),i("div",{staticClass:"store_name_rate"},[i("div",{staticClass:"sto_name"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.shopDetail.shop_name)+" "),t.goodsInfo.cross_source?i("em",{staticStyle:{color:"#AF743A","font-weight":"normal","font-size":"1.2rem"}},[t._v(t._s(t.goodsInfo.cross_source))]):t._e()]),i("div",{staticClass:"sto_rate_wrap"},[i("div",{staticClass:"sto_rate"},[i("span",[t._v(t._s(t.$t("lang.store_star")))]),t._l(5,function(s,e){return i("i",{key:e,class:["iconfont","icon-wujiaoxing","size_12",e<t.storeRate?"color_red":""]})})],2)])]),i("i",{staticClass:"iconfont icon-more size_12"})]),i("div",{staticClass:"store_body"},[i("div",{staticClass:"count_item"},[i("div",{staticClass:"count_text"},[t._v(t._s(t.shopDetail.count_gaze))]),i("div",[t._v(t._s(t.$t("lang.follow_number")))])]),i("div",{staticClass:"count_item"},[i("div",{staticClass:"count_text"},[t._v(t._s(t.shopDetail.count_goods))]),i("div",[t._v(t._s(t.$t("lang.all_goods")))])]),i("div",{staticClass:"count_item"},[i("div",{staticClass:"serve_rate"},[i("span",[t._v(t._s(t.$t("lang.comment")))]),i("span",{class:[t.shopDetail.commentrank&&t.shopDetail.commentrank.slice(0,1)<3?"color_green":"color_red"]},[t._v(t._s(t.shopDetail.commentrank)+" "+t._s(t.shopDetail.commentrank_font))])]),i("div",{staticClass:"serve_rate"},[i("span",[t._v(t._s(t.$t("lang.logistics")))]),i("span",{class:[t.shopDetail.commentrank&&t.shopDetail.commentdelivery.slice(0,1)<3?"color_green":"color_red"]},[t._v(t._s(t.shopDetail.commentdelivery)+" "+t._s(t.shopDetail.commentdelivery_font))])]),i("div",{staticClass:"serve_rate"},[i("span",[t._v(t._s(t.$t("lang.after_sales")))]),i("span",{class:[t.shopDetail.commentrank&&t.shopDetail.commentserver.slice(0,1)<3?"color_green":"color_red"]},[t._v(t._s(t.shopDetail.commentserver)+" "+t._s(t.shopDetail.commentserver_font))])])])]),i("div",{staticClass:"store_footer"},[i("div",{staticClass:"store_btn",class:{cur:1==t.is_collect_shop},on:{click:function(s){s.stopPropagation(),t.collectHandle(t.shopDetail.ru_id)}}},[0==t.is_collect_shop?i("img",{attrs:{src:e("da27")}}):i("img",{attrs:{src:e("4eac")}}),t._v("\n\t\t\t\t\t\t\t"+t._s(1==t.is_collect_shop?t.$t("lang.followed"):t.$t("lang.attention_store"))+"\n\t\t\t\t\t\t")]),i("div",{staticClass:"store_btn"},[i("img",{attrs:{src:e("b3a1")}}),t._v("\n\t\t\t\t\t\t\t"+t._s(t.$t("lang.go_shopping"))+"\n\t\t\t\t\t\t")])])]):t._e(),i("section",{staticClass:"goods_module_wrap recomment_wrap m-top08"},[i("div",{staticClass:"search"},[i("div",{staticClass:"search_wrap",on:{click:function(s){t.routerLink("search")}}},[i("div",{staticClass:"search_input"},[i("i",{staticClass:"iconfont icon-home-search size_20"}),t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.$t("lang.search_goods_placeholder"))+"\n\t\t\t\t\t\t\t")]),i("div",{staticClass:"search_btn"},[t._v(t._s(t.$t("lang.search")))])]),t.search_keywords.length>0?i("div",{staticClass:"top_search"},[i("div",{staticClass:"top_search_lable"},[t._v(t._s(t.$t("lang.hot_search"))+"：")]),t._l(t.search_keywords,function(s,e){return i("div",{key:e,staticClass:"top_search_keyword",on:{click:function(e){t.goLink({name:"searchList",query:{keywords:s}})}}},[t._v(t._s(s))])})],2):t._e()]),t.recommentTabs.length>0?i("div",{staticClass:"recomment"},[i("div",{staticClass:"re_tabs"},t._l(t.recommentTabs,function(s,e){return i("div",{key:e,class:["re_tabs_item",t.currenTab==e?"active_tab":""],on:{click:function(s){t.changeTab(e)}}},[t._v(t._s(s.title))])})),t._l(t.goodsGuessList,function(s,o){return i("div",{key:o,staticClass:"goods_list_wrap"},[t.currenTab==o?[i("van-swipe",{attrs:{"show-indicators":!1,loop:!1},on:{change:t.onChangeRecomment}},[t._l(Math.ceil(s.length/6),function(o,a){return i("van-swipe-item",{key:a},[i("section",{staticClass:"glist",style:t.swipeItemHeight},t._l(s.slice(6*a,6*o),function(s,o){return i("div",{key:o,staticClass:"gitem",on:{click:function(e){t.detailLink(s)}}},[s.goods_thumb?i("img",{attrs:{src:s.goods_thumb}}):i("img",{staticClass:"img",attrs:{src:e("d9e6")}}),i("p",[""!=s.country_icon?i("img",{staticClass:"country_icon_image",staticStyle:{width:"2.4rem",display:"inline-block"},attrs:{src:s.country_icon}}):t._e(),t._v(t._s(s.goods_name))]),i("currency-price",{staticStyle:{padding:"6px 0 8px"},attrs:{price:s.shop_price,size:16}})],1)}))])}),i("ul",{staticClass:"custom-indicator recomment-custom-indicator",attrs:{slot:"indicator"},slot:"indicator"},t._l(Math.ceil(s.length/6),function(s,e){return i("li",{key:e,class:["indicator",e==t.reCurSwipeItem?"active_indicator":""]})}))],2)]:t._e()],2)})],2):t._e()]),t.goodsInfo.goods_article_list&&t.goodsInfo.goods_article_list.length>0?i("section",{staticClass:"goods_module_wrap article_wrap m-top08"},[i("div",{staticClass:"title_box"},[i("div",{staticClass:"title_text"},[i("span",[t._v(t._s(t.$t("lang.Recommended_articles")))])])]),t._l(t.goodsInfo.goods_article_list,function(s,e){return i("div",{key:e,class:["article_item",e>0?"acticle_border":""],on:{click:function(e){t.goLink({name:"articleDetail",params:{id:s.article_id}})}}},[s.file_url?i("img",{staticClass:"article_img",attrs:{src:s.file_url}}):t._e(),i("div",{staticClass:"article_content"},[i("p",[t._v(t._s(s.title))]),i("span",[t._v(t._s(s.add_time))])])])})],2):t._e(),i("section",{staticClass:"goods_module_wrap goods_detail_wrap m-top08 d_jump"},[i("div",{staticClass:"title_box"},[i("div",{staticClass:"title_text"},[i("span",[t._v(t._s(t.$t("lang.detail")))])])]),t.goodsInfo.goods_desc?[i("div",{staticClass:"image_text"},[i("div",{staticClass:"image_text_title"},[i("img",{attrs:{src:e("0db0")}}),i("span",[t._v(t._s(t.$t("lang.goods_img_txt")))])]),i("div",{staticClass:"goods_desc"},[i("u-parse",{attrs:{html:t.goodsInfo.goods_desc,"lazy-load":!1,"tag-style":{video:"width: 100%!important; height: auto!important; margin: 0!important;"}}})],1)])]:t._e(),t.goodsInfo.attr_parameter?[i("div",{staticClass:"image_text_title"},[i("img",{attrs:{src:e("2405")}}),i("span",[t._v(t._s(t.$t("lang.commodity_parameters")))])]),i("div",{staticClass:"goods_attr_parameter"},[i("table",{class:["Ptable","param_table",t.isViewMore?"":"attr_wrap"],attrs:{cellpadding:"0",cellspacing:"1",width:"100%",border:"0"}},[1==t.goodsInfo.show_goodssn?i("tbody",[i("tr",[i("td",[t._v(t._s(t.$t("lang.goods_sn")))]),i("td",[t._v(t._s(t.goodsInfo.goods_sn))])])]):t._e(),i("tbody",[i("tr",[i("th",{staticClass:"tdTitle",attrs:{colspan:"2"}},[t._v(t._s(t.$t("lang.basic_info")))])]),1==t.goodsInfo.show_brand?i("tr",[i("td",[t._v(t._s(t.$t("lang.brand")))]),i("td",[t._v(t._s(t.goodsInfo.brand_name))])]):t._e(),1==t.goodsInfo.show_goodsweight?i("tr",[i("td",[t._v(t._s(t.$t("lang.goods_weight")))]),i("td",[t._v(t._s(t.goodsInfo.goods_weight)+"kg")])]):t._e(),1==t.goodsInfo.show_addtime?i("tr",[i("td",[t._v(t._s(t.$t("lang.add_time")))]),i("td",[t._v(t._s(t.goodsInfo.add_time_format))])]):t._e(),t._l(t.goodsInfo.attr_parameter,function(s){return i("tr",[i("td",[t._v(t._s(s.attr_name))]),i("td",[t._v(t._s(s.attr_value))])])})],2)]),t.moreAttr?i("div",{staticClass:"flex_box jc_center"},[i("div",{staticClass:"view_more_btn",on:{click:function(s){t.isViewMore=!t.isViewMore}}},[t._v(t._s(t.isViewMore?t.$t("lang.shouqi"):t.$t("lang.zhankai"))),i("i",{class:["iconfont",t.isViewMore?"icon-less":"icon-moreunfold","size_12"]})])]):t._e()])]:t._e()],2),t.guessList.length>0?i("section",{staticClass:"goods-detail-guess text-center d_jump"},[i("h5",{staticClass:"title-hrbg"},[i("span",[t._v(t._s(t.$t("lang.same_style")))]),i("hr")]),i("section",{staticClass:"product-list product-list-medium"},[i("ProductList",{attrs:{data:t.guessList,routerName:"goods",productOuter:!0}}),t.isOver?i("div",{staticClass:"footer-cont"},[t._v(t._s(t.$t("lang.no_more")))]):t._e(),!t.isOver&&t.guessList.length>=10?[i("van-loading",{attrs:{type:"spinner",color:"black"}})]:t._e()],2)]):t._e(),i("dsc-copyright"),i("van-popup",{staticClass:"show-popup-common show-popup-coupon",attrs:{position:"bottom"},model:{value:t.showDiscount,callback:function(s){t.showDiscount=s},expression:"showDiscount"}},[i("section",{staticClass:"pop_content",attrs:{id:"pop_content"}},[i("header",{staticClass:"pop_header"},[i("span",[t._v(t._s(t.$t("lang.goods_discounts")))]),i("div",{staticClass:"pop_close",on:{click:function(s){t.showDiscount=!1}}},[i("i",{staticClass:"iconfont icon-close size_12"})])]),i("div",{staticClass:"pop_main"},[i("div",{staticClass:"label_text"},[t._v(t._s(t.$t("lang.promotion")))]),t._l(t.discountsData,function(s,e){return i("div",{key:e,staticClass:"pop_activity_item"},[0!=s.acttype?[i("span",{staticClass:"activity_bg"},[t._v(t._s(s.label))]),i("span",{staticClass:"flex_1 activity_tips"},[t._v(t._s(s.value))])]:t._e()],2)}),t.goodsCouponList&&t.goodsCouponList.length>0?[i("div",{staticClass:"label_text"},[t._v(t._s(t.$t("lang.coupons_available")))]),i("div",{staticClass:"coupons-list"},[i("ul",t._l(t.goodsCouponList,function(s,e){return i("li",{key:e},[i("div",{staticClass:"left"},[i("div",{staticClass:"coupon-price"},[t._v(t._s(t.currency)+t._s(s.cou_money))]),i("div",{staticClass:"coupon-desc"},[t._v(t._s(t.$t("lang.man"))+t._s(s.cou_man)+t._s(t.$t("lang.available_full")))])]),i("div",{staticClass:"right"},[i("div",{staticClass:"coupon-tit"},[i("em",{staticClass:"tag"},[t._v(t._s(t.$t("lang.coupon_tab_2")))]),i("span",[t._v(t._s(t.$t("lang.limit"))+t._s(s.shop_name)+t._s(t.$t("lang.usable"))+"["+t._s(s.cou_goods_name)+"]")])]),i("div",{staticClass:"time get_coupon"},[i("div",{staticClass:"time_text"},[t._v(t._s(s.cou_start_time)+" - "+t._s(s.cou_end_time))]),1==s.cou_is_receive&&t.isLogin?i("div",{staticClass:"coupon_btn u-reset-disabled"},[t._v(t._s(t.$t("lang.receive_hove")))]):s.enable_ling>0?i("div",{staticClass:"coupon_btn u-reset-disabled"},[t._v(t._s(t.$t("lang.brought_up")))]):i("div",{staticClass:"coupon_btn",on:{click:function(e){t.handelReceive(s.cou_id)}}},[t._v(t._s(t.$t("lang.click_to_collect")))])])])])}))])]:t._e()],2)])]),i("van-popup",{staticClass:"show-popup-common show-popup-coupon",attrs:{position:"bottom"},model:{value:t.showActivity,callback:function(s){t.showActivity=s},expression:"showActivity"}},[i("section",{staticClass:"pop_content activity_pop"},[i("header",{staticClass:"pop_header"},[i("span",[t._v(t._s(t.$t("lang.goods_activity")))]),i("div",{staticClass:"pop_close",on:{click:function(s){t.showActivity=!1}}},[i("i",{staticClass:"iconfont icon-close size_12"})])]),i("div",{staticClass:"pop_main"},t._l(t.activityData,function(s,e){return i("div",{key:e,staticClass:"act_item",on:{click:function(e){t.goLink(s.path)}}},[i("div",{staticClass:"act_main"},[i("div",{staticClass:"act_label"},[t._v(t._s(s.label))]),2==s.acttype?i("div",{staticClass:"act_value"},[i("div",[t._v(t._s(s.value))]),i("div",{staticClass:"recommend_title"},[t._v(t._s(t.$t("lang.recommended_accessories"))+" "+t._s(t.$t("lang.hig_discount"))+" "),i("span",{staticClass:"activity_price"},[t._v(t._s(t.spare_price))]),t._v(" "+t._s(t.$t("lang.yuan")))]),i("div",{staticClass:"set_meal"},[i("div",{staticClass:"img_wrap"},[i("img",{attrs:{src:t.goodsInfo.goods_thumb}})]),t._l(t.goodsInfo.fittings,function(s,e){return[e<3?i("div",{key:e,staticClass:"img_wrap"},[i("img",{attrs:{src:s.goods_thumb}})]):t._e()]}),t.goodsInfo.fittings.length>3?i("i",{staticClass:"iconfont icon-gengduo1"}):t._e()],2)]):i("div",{staticClass:"act_value"},[t._v(t._s(s.value))])]),i("div",{staticClass:"act_ico"},[i("i",{staticClass:"iconfont icon-more size_12"})])])}))])]),i("van-popup",{staticClass:"show-popup-common show-popup-coupon",attrs:{position:"bottom"},on:{"click-overlay":function(s){t.regionShow=!1}},model:{value:t.showAddredd,callback:function(s){t.showAddredd=s},expression:"showAddredd"}},[i("section",{staticClass:"pop_content address_pop"},[i("header",{staticClass:"pop_header"},[t.isBack?i("div",{staticClass:"pop_back",on:{click:t.selectAddresss}},[i("i",{staticClass:"iconfont icon-back size_14"})]):t._e(),i("span",[t._v(t._s(t.$t("lang.delivery_to_the")))]),i("div",{staticClass:"pop_close",on:{click:t.addressClose}},[i("i",{staticClass:"iconfont icon-close size_12"})])]),i("div",{staticClass:"pop_main address_pop_main"},[i("van-swipe",{ref:"swiperAddress",attrs:{touchable:!1,"initial-swipe":t.initialSwipe,loop:!1,"show-indicators":!1}},[t.isLogin?i("van-swipe-item",[i("div",{staticClass:"address_wrap"},[i("div",{staticClass:"address_main"},[i("van-radio-group",{model:{value:t.selectAddress,callback:function(s){t.selectAddress=s},expression:"selectAddress"}},t._l(t.addressList,function(s,e){return i("van-cell",{key:e,on:{click:function(e){t.changeAddressRadio(s)}}},[i("div",{staticClass:"address_item",attrs:{slot:"title"},slot:"title"},[i("van-radio",{attrs:{name:s.id}}),i("span",{staticClass:"address_val"},[t._v(t._s(s.province_name)+" "+t._s(s.city_name)+" "+t._s(s.district_name)+" "+t._s(s.street_name)+" "+t._s(s.address))])],1)])}))],1),i("div",{staticClass:"select_btn van-hairline--top"},[i("van-button",{attrs:{round:""},on:{click:t.selectAddresss}},[t._v(t._s(t.$t("lang.choose_another_address")))])],1)])]):t._e(),i("van-swipe-item",[t.regionLoading?i("Region",{attrs:{isPrice:t.isPrice,display:t.regionShow,regionType:"goods",regionOptionDate:t.regionOptionDate},on:{"update:isPrice":function(s){t.isPrice=s},updateDisplay:t.getRegionShow,updateRegionDate:t.getRegionOptionDate}}):t._e()],1)],1)],1)])]),i("van-popup",{staticClass:"show-popup-common show-popup-coupon",attrs:{position:"bottom"},on:{"click-overlay":function(s){t.showServerPop=!1}},model:{value:t.showServerPop,callback:function(s){t.showServerPop=s},expression:"showServerPop"}},[i("section",{staticClass:"pop_content address_pop"},[i("header",{staticClass:"pop_header"},[i("span",[t._v(t._s(t.$t("lang.service")))]),i("div",{staticClass:"pop_close",on:{click:function(s){t.showServerPop=!1}}},[i("i",{staticClass:"iconfont icon-close size_12"})])]),i("div",{staticClass:"pop_main address_pop_main"},[i("div",{staticClass:"address_wrap",staticStyle:{height:"100%"}},[i("div",{staticClass:"address_main"},t._l(t.goodsInfo.goods_services_label,function(s,e){return i("div",{key:e,staticClass:"server_list"},[i("div",{staticClass:"server_item"},[i("img",{staticClass:"server_ico",attrs:{src:s.formated_label_image}}),i("span",[t._v(t._s(s.label_name))])]),i("p",{staticClass:"color_999"},[t._v(t._s(s.label_explain))])])})),i("div",{staticClass:"select_btn van-hairline--top"},[i("van-button",{attrs:{round:""},on:{click:function(s){t.showServerPop=!1}}},[t._v(t._s(t.$t("lang.confirm")))])],1)])])])]),i("footer",{staticClass:"submit_bar ipx-padding-bottom van-hairline-shadow--top"},[t.is_alone_sale||!(t.regionGoodsNumberFormated?t.regionGoodsNumberFormated:t.goodsNumberManage>0)||1==t.goodsInfo.is_show_drp&&t.goodsInfo.is_drp>0&&0!=t.goodsInfo.commission_money&&1==t.goodsInfo.is_distribution?i("div",{staticClass:"stockout"},[t.is_alone_sale?i("p",[t._v(t._s(t.$t("lang.no_alone_sale")))]):(t.regionGoodsNumberFormated?t.regionGoodsNumberFormated:t.goodsNumberManage>0)?1==t.goodsInfo.is_show_drp&&t.goodsInfo.is_drp>0&&0!=t.goodsInfo.commission_money&&1==t.goodsInfo.is_distribution?i("p",[t._v(t._s(t.$t("lang.share_goods_tips")))]):t._e():i("p",[t._v(t._s(t.$t("lang.no_goods_tips")))])]):t._e(),i("div",{staticClass:"submit_bar_warp"},[t.ru_id>0?i("div",{staticClass:"function_item",on:{click:function(s){t.goLink({name:"shopHome",params:{id:t.ru_id}})}}},[i("img",{attrs:{src:e("fa99")}}),i("span",[t._v(t._s(t.$t("lang.shop")))])]):t._e(),i("div",{staticClass:"function_item",on:{click:function(s){t.onChat(t.goods_id,t.goodsInfo.user_id)}}},[i("img",{attrs:{src:e("04a1")}}),i("span",[t._v(t._s(t.$t("lang.customer_service")))])]),i("div",{staticClass:"function_item badge_parent",on:{click:function(s){t.goLink({name:"cart"})}}},[t.cart_number>0?i("div",{staticClass:"info_num"},[t._v(t._s(t.cart_number))]):t._e(),i("img",{attrs:{src:e("cf9b")}}),i("span",[t._v(t._s(t.$t("lang.cart")))])]),t.is_on_sale?[i("van-button",{staticClass:"cur_btn",attrs:{round:""}},[t._v(t._s(t.$t("lang.goods_sold_out")))])]:t.is_alone_sale?[i("van-button",{staticClass:"cur_btn",attrs:{round:""},on:{click:t.goodsAloneSale}},[t._v(t._s(t.$t("lang.goods_alone_sale")))])]:[(t.regionGoodsNumberFormated?t.regionGoodsNumberFormated:t.goodsNumberManage>0)?[i("van-button",{staticClass:"cur_btn",attrs:{round:""},on:{click:function(s){t.onSku(0)}}},[t._v(t._s(t.$t("lang.add_cart")))]),i("van-button",{staticClass:"buynow",attrs:{round:"",loading:t.loading,disabled:t.disabled},on:{click:function(s){t.onSku(1)}}},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(t.goodsInfo.best_price&&t.goodsInfo.best_price.cou_id>0?t.$t("lang.coupon_purchase"):t.$t("lang.button_buy"))+"\n\t\t\t\t\t\t\t\t\t"),t.goodsInfo.best_price.price>=0?i("div",{staticClass:"jiage"},[t._v(t._s(t.$t("lang.on_hand_price"))+" "+t._s(t.goodsInfo.best_price.formated_price))]):t._e()])]:[i("van-button",{staticClass:"cur_btn",attrs:{round:""}},[t._v(t._s(t.$t("lang.understock")))])]]],2)])],2)],i("van-popup",{staticClass:"attr-goods-box",attrs:{position:"bottom"},model:{value:t.showBase,callback:function(s){t.showBase=s},expression:"showBase"}},[i("div",{staticClass:"attr-goods-header"},[""!=t.attr?[i("div",{staticClass:"attr-img",on:{click:function(s){t.previewImgs(0,t.goodsAttrOper.attr_img?t.goodsAttrOper.attr_img:t.goodsInfo.goods_img)}}},[t.goodsAttrOper.attr_img?i("img",{staticClass:"img",attrs:{src:t.goodsAttrOper.attr_img}}):i("img",{staticClass:"img",attrs:{src:t.goodsInfo.goods_img}})]),i("div",{staticClass:"attr-info"},[i("div",{staticClass:"attr-price"},[i("currency-price",{attrs:{price:t.goodsAttrOper.goods_price,size:26}})],1),i("div",{staticClass:"attr-other"},[t._v(t._s(t.$t("lang.label_selected"))+t._s(t.goodsAttrOper.attr_name)+" "+t._s(t.num)+t._s(t.goodsInfo.goods_unit))]),i("div",{staticClass:"attr-stock flex_box"},[t.goodsInfo.show_goodsnumber>0?i("span",{staticStyle:{flex:"none","margin-right":"10px"}},[t._v(t._s(t.$t("lang.label_stock"))+t._s(t.goodsAttrOper.stock))]):t._e(),t.goodsInfo.goods_sn&&1==t.goodsInfo.show_goodssn?i("span",[t._v(t._s(t.$t("lang.commodity_number"))+"："+t._s(t.goodsInfo.goods_sn))]):t._e()])])]:[i("div",{staticClass:"attr-img",on:{click:function(s){t.previewImgs(0,t.goodsInfo.goods_img)}}},[i("img",{staticClass:"img",attrs:{src:t.goodsInfo.goods_img}})]),i("div",{staticClass:"attr-info"},[i("div",{staticClass:"attr-name twolist-hidden"},[t._v(t._s(t.goodsInfo.goods_name))]),i("div",{staticClass:"attr-price",domProps:{innerHTML:t._s(t.goodsPriceManage)}},[t._v(t._s(t.goodsPriceManage))]),i("div",{staticClass:"attr-stock flex_box"},[t.goodsInfo.show_goodsnumber>0?i("span",{staticStyle:{flex:"none","margin-right":"10px"}},[t._v(t._s(t.$t("lang.label_stock"))+t._s(t.goodsInfo.goods_number))]):t._e(),t.goodsInfo.goods_sn&&1==t.goodsInfo.show_goodssn?i("span",[t._v(t._s(t.$t("lang.commodity_number"))+"："+t._s(t.goodsInfo.goods_sn))]):t._e()])])],i("div",{staticClass:"close"},[i("i",{staticClass:"iconfont icon-close",on:{click:t.closeSku}})])],2),""!=t.attr?i("div",{staticClass:"attr-goods-content"},[t._l(t.attr,function(s,e){return 1==s.attr_type?i("van-radio-group",{key:e,staticClass:"sku-item",model:{value:t.goodsAttrInit[e],callback:function(s){t.$set(t.goodsAttrInit,e,s)},expression:"goodsAttrInit[index]"}},[i("div",{staticClass:"sku-tit"},[t._v(t._s(s.name))]),i("div",{staticClass:"sku-list"},[t._l(s.attr_key,function(s,o){return[i("van-radio",{staticClass:"option",class:{active:t.goodsAttrInit[e]==s.goods_attr_id},attrs:{name:s.goods_attr_id}},[t._v(t._s(s.attr_value)+"\n                            ")])]})],2)]):t._e()}),t._l(t.attr,function(s,e){return 2==s.attr_type?i("van-checkbox-group",{key:e,staticClass:"sku-item",model:{value:t.goodsAttrInit,callback:function(s){t.goodsAttrInit=s},expression:"goodsAttrInit"}},[i("div",{staticClass:"sku-tit"},[t._v(t._s(s.name))]),i("div",{staticClass:"sku-list"},[t._l(s.attr_key,function(s,e){return[i("van-checkbox",{staticClass:"option",class:{active:-1!=t.goodsAttrInit.indexOf(s.goods_attr_id)},attrs:{name:s.goods_attr_id}},[t._v(t._s(s.attr_value)+"\n                            ")])]})],2)]):t._e()})],2):t._e(),i("div",{staticClass:"attr-goods-number dis-box"},[i("span",{staticClass:"tit"},[i("span",[t._v(t._s(t.$t("lang.number")))]),i("span",[t.goodsInfo.is_minimum>0?i("em",[t._v("("+t._s(t.goodsInfo.minimum)+t._s(t.goodsInfo.goods_unit)+t._s(t.$t("lang.label_minimum_2"))+")")]):t._e(),t.goodsInfo.xiangou_num>0&&t.goodsInfo.xiangou_end_date>t.goodsInfo.current_time?i("em",[t._v("("+t._s(t.$t("lang.purchase_only"))+t._s(t.goodsInfo.xiangou_num)+t._s(t.goodsInfo.goods_unit)+")")]):t._e()])]),i("div",{staticClass:"stepper"},[i("van-stepper",{attrs:{integer:"",min:t.goodsInfo.is_minimum>0?t.goodsInfo.minimum:1,max:t.goodsInfo.xiangou_num>0&&t.goodsInfo.xiangou_end_date>t.goodsInfo.current_time?t.goodsInfo.xiangou_num:t.stock},model:{value:t.number,callback:function(s){t.number=s},expression:"number"}})],1)]),i("div",{staticClass:"submit_bar ipx-padding-bottom"},[t.storeBtn?[i("van-button",{attrs:{round:""},on:{click:t.onStoreClicked}},[t._v(t._s(t.$t("lang.private_store")))])]:[t.zFittingAttr?[i("van-button",{attrs:{round:""},on:{click:t.onFittingAttr}},[t._v(t._s(t.$t("lang.confirm")))])]:[t.is_on_sale?[i("van-button",{staticClass:"cur_btn",attrs:{round:""}},[t._v(t._s(t.$t("lang.goods_sold_out")))])]:t.is_alone_sale?[i("van-button",{staticClass:"cur_btn",attrs:{round:""}},[t._v(t._s(t.$t("lang.goods_alone_sale")))])]:[t.stock?[1==t.addType||""==t.addType?i("van-button",{staticClass:"cur_btn",attrs:{round:""},on:{click:function(s){t.onAddCartClicked(0)}}},[t._v(t._s(t.$t("lang.add_cart")))]):t._e(),2==t.addType||""==t.addType?i("van-button",{attrs:{round:""},on:{click:function(s){t.onAddCartClicked(10)}}},[t._v(t._s(t.$t("lang.button_buy")))]):t._e()]:[i("van-button",{staticClass:"cur_btn",attrs:{round:""}},[t._v(t._s(t.$t("lang.understock")))])]]]]],2)]),i("van-popup",{staticClass:"show-popup-bottom show-goods-coupon",attrs:{position:"bottom"},model:{value:t.couponShow,callback:function(s){t.couponShow=s},expression:"couponShow"}},[i("section",{staticClass:"goods-show-title padding-all"},[i("h3",{staticClass:"fl"},[t._v(t._s(t.$t("lang.receive_coupon"))+" ("+t._s(t.goodsInfo.coupon_count)+")")]),i("i",{staticClass:"iconfont icon-close fr",on:{click:function(s){t.handelClose("coupon")}}})]),i("swiper",{staticClass:"goods-show-con",attrs:{options:t.swiperOption}},[i("swiper-slide",[i("div",{staticClass:"padding-all"},[t.conpouLoading?i("van-loading",{attrs:{type:"spinner",color:"white"}}):[t.goodsCouponList&&t.goodsCouponList.length>0?i("ul",t._l(t.goodsCouponList,function(s,e){return i("li",{staticClass:"new-coupons-box dis-box"},[i("div",{staticClass:"remark-all box-flex"},[i("div",{staticClass:"q-type"},[i("div",{staticClass:"b-r-a-price"},[i("em",[t._v(t._s(t.currency))]),i("strong",{staticClass:"coupons-money"},[t._v(t._s(s.cou_money))]),i("div",{staticClass:"couons-text"},[i("span",[t._v(t._s(t.$t("lang.man"))+t._s(s.cou_man)+t._s(t.$t("lang.available_full")))])])]),i("div",{staticClass:"b-r-a-con"},[i("div",{staticClass:"range-item"},[t._v(t._s(s.cou_name))]),i("div",{staticClass:"range-item"},[t._v(t._s(s.cou_start_time)+" "+t._s(t.$t("lang.zhi"))+" "+t._s(s.cou_end_time)),i("em",{staticClass:"color-red"},[t._v("("+t._s(t.$t("lang.cou_user_receive_hove"))+t._s(s.cou_user_num)+t._s(t.$t("lang.zhang"))+")")])])])]),i("b",{staticClass:"semi-circle"}),1==s.cou_is_receive?i("div",{staticClass:"print-img"}):t._e()]),s.enable_ling>0?i("a",{staticClass:"b-r-a-btn tb-lr-center",attrs:{href:"javascript:void(0);"}},[t._v(t._s(t.$t("lang.brought_up")))]):i("a",{staticClass:"b-r-a-btn tb-lr-center",attrs:{href:"javascript:void(0);"},on:{click:function(e){t.handelReceive(s.cou_id)}}},[1==s.cou_is_receive&&1==t.isLogin?[t._v(t._s(t.$t("lang.receive_hove")))]:[t._v(t._s(t.$t("lang.receive")))]],2)])})):i("div",{staticClass:"notic-coupons"},[t._v(t._s(t.$t("lang.no_coupon_yet")))])]],2)])],1)],1),i("van-popup",{staticClass:"show-popup-bottom show-goods-promotion",attrs:{position:"bottom"},model:{value:t.promotionShow,callback:function(s){t.promotionShow=s},expression:"promotionShow"}},[i("section",{staticClass:"goods-show-title padding-all"},[i("h3",{staticClass:"fl"},[t._v(t._s(t.$t("lang.promotion")))]),i("i",{staticClass:"iconfont icon-close fr",on:{click:function(s){t.handelClose("promotion")}}})]),i("swiper",{staticClass:"goods-show-con",attrs:{options:t.swiperOption}},[i("swiper-slide",[i("div",{staticClass:"padding-all"},[t.goods_promotion&&t.goods_promotion.length>0?i("ul",{staticClass:"promotion-popup-list m-b10"},t._l(t.goods_promotion,function(s,e){return i("li",{key:e,staticClass:"promotion-popup-item"},[0==s.act_type?[i("router-link",{attrs:{to:{name:"activity-detail",params:{act_id:s.act_id}}}},[i("em",{staticClass:"em-sales"},[t._v(t._s(t.$t("lang.with_a_gift")))]),i("span",[t._v(t._s(s.act_name))])])]:t._e(),1==s.act_type?[i("router-link",{attrs:{to:{name:"activity-detail",params:{act_id:s.act_id}}}},[i("em",{staticClass:"em-sales"},[t._v(t._s(t.$t("lang.lijian")))]),i("span",[t._v(t._s(s.act_name))])])]:t._e(),2==s.act_type?[i("router-link",{attrs:{to:{name:"activity-detail",params:{act_id:s.act_id}}}},[i("em",{staticClass:"em-sales"},[t._v(t._s(t.$t("lang.discount")))]),i("span",[t._v(t._s(s.act_name))])])]:t._e(),3==s.act_type?[i("router-link",{attrs:{to:{name:"groupbuy-detail",params:{group_buy_id:s.act_id}}}},[i("em",{staticClass:"em-sales"},[t._v(t._s(t.$t("lang.group_buy")))]),i("span",[t._v(t._s(s.act_name))])])]:t._e(),4==s.act_type?[i("router-link",{attrs:{to:{name:"auction-detail",params:{act_id:s.act_id}}}},[i("em",{staticClass:"em-sales"},[t._v(t._s(t.$t("lang.auction")))]),i("span",[t._v(t._s(s.act_name))])])]:t._e(),5==s.act_type?[i("a",{staticClass:"color-red",attrs:{href:"javascript:;"}},[i("em",{staticClass:"em-sales"},[t._v(t._s(t.$t("lang.full_reduction")))]),i("span",[t._v(t._s(s.act_name))])])]:t._e()],2)})):t._e(),t.goodsInfo.fittings?i("van-cell",{staticClass:"not_padding_lr",class:{"my-top":t.goodsInfo.goods_promotion&&t.goodsInfo.goods_promotion.length>0},attrs:{"is-link":""},on:{click:t.handleFitting}},[i("div",{staticClass:"promotion-popup-list"},[i("div",{staticClass:"promotion-popup-item"},[i("em",{staticClass:"em-sales"},[t._v(t._s(t.$t("lang.combined_package")))]),i("div",{staticClass:"prom_flex_box"},[i("span",[t._v(t._s(t.$t("lang.hig_discount"))),i("div",{staticClass:"color-red",domProps:{innerHTML:t._s(t.spare_price)}}),t._v(t._s(t.$t("lang.yuan")))]),i("div",{staticClass:"scroll_box"},[i("div",{staticClass:"scroll_box_item"},[i("span",{staticClass:"scroll_box_item_good"},[i("img",{attrs:{src:t.goodsInfo.goods_thumb}})]),i("span",{staticClass:"scroll_box_item_plus"}),t._l(t.goodsInfo.fittings,function(s,e){return[e<2?[i("span",{staticClass:"scroll_box_item_good"},[i("img",{attrs:{src:s.goods_thumb}})]),e!=t.goodsInfo.fittings.length-1?i("span",{staticClass:"scroll_box_item_plus"}):t._e()]:t._e()]}),i("span",{staticClass:"scroll_box_item_last"},[t._v("...")])],2)])])])])]):t._e()],1)])],1)],1),i("van-popup",{staticStyle:{width:"80%"},model:{value:t.videoShow,callback:function(s){t.videoShow=s},expression:"videoShow"}},[i("video-player",{ref:"videoPlayer",staticClass:"video-player-box",attrs:{options:t.playerOptions,playsinline:!0}})],1),i("van-popup",{staticClass:"fitting-show",staticStyle:{height:"100%",width:"100%"},model:{value:t.fittingShow,callback:function(s){t.fittingShow=s},expression:"fittingShow"}},[i("van-nav-bar",{staticClass:"btyes",attrs:{title:t.$t("lang.combined_package"),"left-arrow":""},on:{"click-left":t.onFittingLeft}}),i("van-collapse",{staticClass:"fitting-coll",attrs:{accordion:""},model:{value:t.fittingNames,callback:function(s){t.fittingNames=s},expression:"fittingNames"}},t._l(t.fittingInfo.comboTab,function(s,o){return i("van-collapse-item",{attrs:{title:s.text,name:s.group_id}},[i("div",{staticClass:"card-act-goods"},[i("div",{staticClass:"card-goods__item"},[i("van-checkbox",{attrs:{disabled:t.checkDisabled},model:{value:t.checked,callback:function(s){t.checked=s},expression:"checked"}}),i("div",{staticClass:"van-checkbox__con"},[i("van-card",{staticClass:"cart-goods-info"},[i("template",{slot:"thumb"},[t.fittingInfo.goods.goods_thumb?i("img",{attrs:{src:t.fittingInfo.goods.goods_thumb}}):i("img",{staticClass:"img",attrs:{src:e("d9e6")}})]),i("div",{staticClass:"goods-title twolist-hidden",attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.fittingInfo.goods.goods_name))]),i("div",{staticClass:"goods-price",attrs:{slot:"tags"},domProps:{innerHTML:t._s(t.goodsPriceManage)},slot:"tags"}),t.fittingInfo.goods.attr.length>0?i("div",{staticClass:"goods-attr",attrs:{slot:"tags"},slot:"tags"},[i("div",{staticClass:"property-box",on:{click:function(s){t.fittingAttrHandle()}}},[i("span",[t._v(t._s(t.$t("lang.label_attr")))]),i("span",[t._v(t._s(t.attr_name))]),i("i",{staticClass:"iconfont icon-moreunfold fr"})])]):t._e()],2)],1)],1),i("van-checkbox-group",{model:{value:t.fittingsCheckModel,callback:function(s){t.fittingsCheckModel=s},expression:"fittingsCheckModel"}},t._l(t.fittingInfo.fittings,function(o,a){return i("div",{staticClass:"card-goods__item",attrs:{index:a}},[s.group_id==o.group_id?[i("div",{on:{click:function(s){t.fittingsCheckChange(o.goods_id)}}},[i("van-checkbox",{ref:"checkboxes",refInFor:!0,attrs:{name:o.goods_id}})],1),i("div",{staticClass:"van-checkbox__con"},[i("van-card",{staticClass:"cart-goods-info"},[i("template",{slot:"thumb"},[o.goods_thumb?i("img",{attrs:{src:o.goods_thumb}}):i("img",{staticClass:"img",attrs:{src:e("d9e6")}}),i("em",{staticClass:"activity-tag"},[i("img",{attrs:{src:e("b2e2")}})])]),i("div",{staticClass:"goods-title twolist-hidden",attrs:{slot:"title"},slot:"title"},[t._v(t._s(o.goods_name))]),i("div",{staticClass:"goods-price",attrs:{slot:"tags"},domProps:{innerHTML:t._s(o.fittings_price)},slot:"tags"}),o.attr&&o.attr.length>0?i("div",{staticClass:"goods-attr",attrs:{slot:"tags"},slot:"tags"},[i("div",{staticClass:"property-box",on:{click:function(s){t.fittingAttrHandle(o.goods_id,a)}}},[i("span",[t._v(t._s(t.$t("lang.label_attr")))]),i("span",[t._v(t._s(o.attr_name))]),i("i",{staticClass:"iconfont icon-moreunfold fr"})])]):t._e()],2)],1)]:t._e()],2)}))],1)])})),i("div",{staticClass:"goods-suit-btn"},[i("div",{staticClass:"gns_item"},[i("em",{staticClass:"color-red"},[t._v("("+t._s(t.$t("lang.gb_limited"))+" "+t._s(t.fittingInfo.goods.group_number)+" "+t._s(t.$t("lang.cover"))+")")]),i("span",[t._v(t._s(t.$t("lang.label_buy")))]),i("div",{staticClass:"stepper"},[i("van-stepper",{attrs:{integer:"",min:t.fittingPriceData.limit_number,max:t.fittingInfo.goods.group_number},model:{value:t.fittingNum,callback:function(s){t.fittingNum=s},expression:"fittingNum"}})],1),i("span",[t._v(t._s(t.$t("lang.cover")))])])]),i("div",{staticClass:"cart-submit van-submit-bar cart-submit-not-bot"},[i("div",{staticClass:"van-submit-bar__bar"},[i("div",{staticClass:"van-submit-bar__text"},[i("p",[i("span",[t._v(t._s(t.$t("lang.label_package_price")))]),i("span",{staticClass:"van-submit-bar__price",domProps:{innerHTML:t._s(t.fittings_minMax)}})]),i("p",{staticClass:"van-submit-bar__sub"},[t._v(t._s(t.$t("lang.sheng"))+"："),i("span",{domProps:{innerHTML:t._s(t.save_minMaxPrice)}})])]),i("van-button",{attrs:{type:"danger"},on:{click:t.fittingsAddCart}},[t._v(t._s(t.$t("lang.add_cart")))])],1)])],1),i("van-popup",{staticClass:"attr-goods-box",attrs:{position:"bottom"},model:{value:t.fittingShowBase,callback:function(s){t.fittingShowBase=s},expression:"fittingShowBase"}},[i("div",{staticClass:"attr-goods-header"},[i("div",{staticClass:"attr-img"},[t.fittingImg?i("img",{staticClass:"img",attrs:{src:t.fittingImg}}):i("img",{staticClass:"img",attrs:{src:e("d9e6")}})]),i("div",{staticClass:"attr-info"},[i("div",{staticClass:"attr-price",domProps:{innerHTML:t._s(t.fittingPrice)}}),i("div",{staticClass:"attr-stock"},[t._v(t._s(t.$t("lang.label_stock"))+t._s(t.fittingAttrNumber))]),i("div",{staticClass:"attr-other"},[t._v(t._s(t.$t("lang.label_selected"))+t._s(t.fittingAttrName))])]),i("i",{staticClass:"iconfont icon-close",on:{click:t.closeFitting}})]),""!=t.fittingAttr?i("div",{staticClass:"attr-goods-content"},t._l(t.fittingAttr,function(s,e){return i("van-radio-group",{key:e,staticClass:"sku-item",on:{change:function(s){t.fittingLoad(0)}},model:{value:t.fittingAttrInit[e],callback:function(s){t.$set(t.fittingAttrInit,e,s)},expression:"fittingAttrInit[index]"}},[i("div",{staticClass:"sku-tit"},[t._v(t._s(s.attr_name))]),i("div",{staticClass:"sku-list"},[t._l(s.attr_key,function(s,o){return[i("van-radio",{staticClass:"option",class:{active:t.fittingAttrInit[e]==s.goods_attr_id},attrs:{name:s.goods_attr_id}},[t._v(t._s(s.attr_value)+"\n                            ")])]})],2)])})):t._e(),i("div",{staticClass:"attr-goods-number dis-box"}),i("div",{staticClass:"van-sku-actions"},[i("van-button",{staticClass:"van-button--bottom-action",attrs:{type:"primary"},on:{click:t.closeFitting}},[t._v(t._s(t.$t("lang.confirm")))])],1)]),i("div",{staticClass:"shopping-prompt ts-2",class:{active:t.drpShareActive},on:{click:t.shoppingPromptHandle}},[i("img",{attrs:{src:e("788e")}})]),i("van-popup",{staticClass:"shareImg",attrs:{"overlay-class":"shareImg-overlay"},model:{value:t.shareImgShow,callback:function(s){t.shareImgShow=s},expression:"shareImgShow"}},[t.shareImg?i("img",{staticClass:"img",attrs:{src:t.shareImg}}):i("span",[t._v(t._s(t.$t("lang.error_generating_image")))])]),i("ec-filter-top",{attrs:{scrollState:t.scrollState,outerClass:"true"}}),i("DscLoading",{attrs:{dscLoading:t.dscLoading}})],2)},o=[function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("i",[i("img",{staticClass:"img",attrs:{src:e("60c6")}})])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"activity_ico"},[e("i",{staticClass:"iconfont icon-gengduo2"})])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"activity_ico"},[e("i",{staticClass:"iconfont icon-gengduo2"})])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"activity_ico"},[e("i",{staticClass:"iconfont icon-gengduo2"})])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"activity_ico"},[e("i",{staticClass:"iconfont icon-gengduo2"})])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"activity_ico store_arrow_ico"},[e("i",{staticClass:"iconfont icon-more size_12"})])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"activity_ico"},[e("i",{staticClass:"iconfont icon-gengduo2"})])}],a=(e("20d6"),e("f210")),n=(e("ac6a"),e("9395")),r=(e("28a5"),e("a481"),e("96cf"),e("cb0c")),c=e("88d8"),l=(e("a909"),e("3acc")),d=(e("3c32"),e("417e")),u=(e("9cb7b"),e("66fd")),_=(e("342a"),e("1437")),h=(e("5d17"),e("f9bd")),g=(e("c3a6"),e("ad06")),p=(e("e17f"),e("2241")),m=(e("e7e5"),e("d399")),f=(e("4ddd"),e("9f14")),v=(e("a44c"),e("e27c")),b=(e("ac1e"),e("543e")),C=(e("66b9"),e("b650")),k=(e("f06a"),e("20fb")),y=(e("8a58"),e("e41f")),w=(e("68ef"),e("4d75"),e("b258"),e("8270"),e("786d"),e("504b"),e("fb6c"),e("1146"),e("bcd3"),e("d10a"),e("c31d")),I=e("2b0e"),x=e("28a2"),$=e("2638"),S=e.n($),O=e("a142"),A=e("ba31"),T=Object(O["j"])("sku-header"),L=T[0],j=T[1];function F(t,s){var e=s.s1;if(e){var i=t.tree.filter(function(t){return"s1"===t.k_s})[0]||{};if(i.v){var o=i.v.filter(function(t){return t.id===e})[0];if(o)return o.imgUrl||o.img_url}}}function D(t,s,e,i){var o=s.sku,a=s.goods,n=s.skuEventBus,r=s.selectedSku,c=F(o,r)||a.picture,l=function(){n.$emit("sku:previewImage",c)};return t("div",S()([{class:[j(),"van-hairline--bottom"]},Object(A["b"])(i)]),[t("div",{class:j("img-wrap"),on:{click:l}},[t("img",{attrs:{src:c}})]),t("div",{class:j("goods-info")},[t("div",{class:"van-sku__goods-name van-ellipsis"},[a.title]),e["default"]&&e["default"](),t(g["a"],{attrs:{name:"close"},class:"van-sku__close-icon",on:{click:function(){n.$emit("sku:close")}}})])])}D.props={sku:Object,goods:Object,skuEventBus:Object,selectedSku:Object};var N=L(D),E=Object(O["j"])("sku-row"),M=E[0],P=E[1];function z(t,s,e,i){return t("div",S()([{class:P()},Object(A["b"])(i)]),[t("div",{class:P("title")},[s.skuRow.k,"："]),e["default"]&&e["default"]()])}z.props={skuRow:Object};var B=M(z),R={QUOTA_LIMIT:0,STOCK_LIMIT:1},H="",q={LIMIT_TYPE:R,UNSELECTED_SKU_VALUE_ID:H},G=function(t){var s={};return t.forEach(function(t){s[t.k_s]=t.v}),s},V=function(t,s){var e=Object.keys(s).filter(function(t){return s[t]!==H});return t.length===e.length},U=function(t,s){var e=t.filter(function(t){return Object.keys(s).every(function(e){return String(t[e])===String(s[e])})});return e[0]},Y=function(t,s){var e=G(t);return Object.keys(s).reduce(function(t,i){var o=e[i],a=s[i];if(a!==H){var n=o.filter(function(t){return t.id===a})[0];n&&t.push(n)}return t},[])},X=function(t,s,e){var i,o=e.key,a=e.valueId,n=Object(w["a"])({},s,(i={},i[o]=a,i)),r=Object.keys(n).filter(function(t){return n[t]!==H}),c=t.filter(function(t){return r.every(function(s){return String(n[s])===String(t[s])})}),l=c.reduce(function(t,s){return t+=s.stock_num,t},0);return l>0},W={normalizeSkuTree:G,getSkuComb:U,getSelectedSkuValues:Y,isAllSelected:V,isSkuChoosable:X},K=Object(O["j"])("sku-row-item"),Q=K[0],Z=Q({props:{skuList:Array,skuValue:Object,skuKeyStr:String,skuEventBus:Object,selectedSku:Object},computed:{choosable:function(){return X(this.skuList,this.selectedSku,{key:this.skuKeyStr,valueId:this.skuValue.id})}},methods:{onSelect:function(){this.choosable&&this.skuEventBus.$emit("sku:select",Object(w["a"])({},this.skuValue,{skuKeyStr:this.skuKeyStr}))}},render:function(t){var s=this.skuValue.id===this.selectedSku[this.skuKeyStr];return t("span",{class:["van-sku-row__item",{"van-sku-row__item--active":s,"van-sku-row__item--disabled":!this.choosable}],on:{click:this.onSelect}},[this.skuValue.name])}}),J=Object(O["j"])("sku-stepper"),tt=J[0],st=R.QUOTA_LIMIT,et=R.STOCK_LIMIT,it=tt({props:{quota:Number,quotaUsed:Number,hideStock:Boolean,skuEventBus:Object,skuStockNum:Number,selectedSku:Object,selectedNum:Number,stepperTitle:String,hideQuotaText:Boolean,selectedSkuComb:Object,disableStepperInput:Boolean,customStepperConfig:Object},data:function(){return{currentNum:this.selectedNum,limitType:et}},watch:{currentNum:function(t){this.skuEventBus.$emit("sku:numChange",t)},stepperLimit:function(t){t<this.currentNum&&(this.currentNum=t)}},computed:{stock:function(){var t=this.customStepperConfig.stockNum;return void 0!==t?t:this.selectedSkuComb?this.selectedSkuComb.stock_num:this.skuStockNum},stockText:function(){var t=this.customStepperConfig.stockFormatter;return t?t(this.stock):"剩余"+this.stock+"件"},quotaText:function(){var t=this.customStepperConfig,s=t.quotaText,e=t.hideQuotaText;if(e)return"";var i="";return s?i=s:this.quota>0&&(i="每人限购"+this.quota+"件"),i},stepperLimit:function(){var t,s=this.quota-this.quotaUsed;return this.quota>0&&s<=this.stock?(t=s<0?0:s,this.limitType=st):(t=this.stock,this.limitType=et),t}},methods:{setCurrentNum:function(t){this.currentNum=t},onOverLimit:function(t){this.skuEventBus.$emit("sku:overLimit",{action:t,limitType:this.limitType,quota:this.quota,quotaUsed:this.quotaUsed})},onChange:function(t){var s=this.customStepperConfig.handleStepperChange;s&&s(t),this.$emit("change",t)}},render:function(t){var s=this;return t("div",{class:"van-sku-stepper-stock"},[t("div",{class:"van-sku-stepper-container"},[t("div",{class:"van-sku__stepper-title"},[this.stepperTitle||"购买数量","："]),t(k["a"],{class:"van-sku__stepper",attrs:{max:this.stepperLimit,disableInput:this.disableStepperInput},on:{overlimit:this.onOverLimit,change:this.onChange},model:{value:s.currentNum,callback:function(t){s.currentNum=t}}})]),!this.hideStock&&t("div",{class:"van-sku__stock"},[this.stockText]),!this.hideQuotaText&&this.quotaText&&t("div",{class:"van-sku__quota"},[this.quotaText])])}}),ot=e("7744"),at=e("34e9"),nt=e("565f");function rt(t){var s=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i;return s.test(t)}var ct=e("90c6"),lt=e("8f80"),dt=Object(O["j"])("sku-img-uploader"),ut=dt[0],_t=dt[1],ht=ut({props:{value:String,uploadImg:Function,maxSize:{type:Number,default:6}},data:function(){return{paddingImg:""}},computed:{imgList:function(){return this.value&&!this.paddingImg?[this.value]:[]}},methods:{afterReadFile:function(t){var s=this;this.paddingImg=t.content,this.uploadImg(t.file,t.content).then(function(t){s.$emit("input",t),s.$nextTick(function(){s.paddingImg=""})})["catch"](function(){s.paddingImg=""})},onOversize:function(){this.$toast("最大可上传图片为"+this.maxSize+"MB，请尝试压缩图片尺寸")}},render:function(t){var s=this,e=this.imgList,i=this.paddingImg,o=(i||e.length>0)&&t("div",{class:"van-clearfix"},[e.map(function(e){return t("div",{class:_t("img")},[t("img",{attrs:{src:e}}),t(g["a"],{attrs:{name:"clear"},class:_t("delete"),on:{click:function(){s.$emit("input","")}}})])}),i&&t("div",{class:_t("img")},[t("img",{attrs:{src:i}}),t(b["a"],{attrs:{type:"spinner"},class:_t("uploading")})])]);return t("div",{class:_t()},[t(lt["a"],{attrs:{disabled:!!i,afterRead:this.afterReadFile,maxSize:1024*this.maxSize*1024},on:{oversize:this.onOversize}},[t("div",{class:_t("header")},[i?t("div",["正在上传..."]):[t(g["a"],{attrs:{name:"photograph"}}),t("span",{class:"label"},[this.value?"重拍":"拍照"," 或 "]),t(g["a"],{attrs:{name:"photo"}}),t("span",{class:"label"},[this.value?"重新选择照片":"选择照片"])]])]),o])}}),gt=Object(O["j"])("sku-messages"),pt=gt[0],mt=gt[1],ft={id_no:"输入身份证号码",text:"输入文本",tel:"输入数字",email:"输入邮箱",date:"点击选择日期",time:"点击选择时间",textarea:"点击填写段落文本",mobile:"输入手机号码"},vt=pt({props:{messages:Array,messageConfig:Object,goodsId:[Number,String]},data:function(){return{messageValues:this.resetMessageValues(this.messages)}},watch:{messages:function(t){this.messageValues=this.resetMessageValues(t)}},methods:{resetMessageValues:function(t){return(t||[]).map(function(){return{value:""}})},getType:function(t){return 1===+t.multiple?"textarea":"id_no"===t.type?"text":t.datetime>0?"datetime-local":t.type},getMessages:function(){var t=this,s={};return this.messageValues.forEach(function(e,i){var o=e.value;t.messages[i].datetime>0&&(o=o.replace(/T/g," ")),s["message_"+i]=o}),s},getCartMessages:function(){var t=this,s={};return this.messageValues.forEach(function(e,i){var o=e.value,a=t.messages[i];a.datetime>0&&(o=o.replace(/T/g," ")),s[a.name]=o}),s},getPlaceholder:function(t){var s=1===+t.multiple?"textarea":t.type,e=this.messageConfig.placeholderMap||{};return e[s]||ft[s]},validateMessages:function(){for(var t=this.messageValues,s=0;s<t.length;s++){var e=t[s].value,i=this.messages[s];if(""===e){if("1"===String(i.required)){var o="image"===i.type?"请上传":"请填写";return o+i.name}}else{if("tel"===i.type&&!Object(ct["a"])(e))return"请填写正确的数字格式留言";if("mobile"===i.type&&!/^\d{6,20}$/.test(e))return"手机号长度为6-20位数字";if("email"===i.type&&!rt(e))return"请填写正确的邮箱";if("id_no"===i.type&&(e.length<15||e.length>18))return"请填写正确的身份证号码"}}}},render:function(t){var s=this;return t(at["a"],{class:mt()},[this.messages.map(function(e,i){return"image"===e.type?t(ot["a"],{class:mt("image-cell"),attrs:{label:"仅限一张",title:e.name,required:"1"===String(e.required)},key:s.goodsId+"-"+i},[t(ht,{attrs:{uploadImg:s.messageConfig.uploadImg,maxSize:s.messageConfig.uploadMaxSize},model:{value:s.messageValues[i].value,callback:function(t){s.messageValues[i].value=t}}})]):t(nt["a"],{attrs:{maxlength:"200",label:e.name,required:"1"===String(e.required),placeholder:s.getPlaceholder(e),type:s.getType(e)},key:s.goodsId+"-"+i,model:{value:s.messageValues[i].value,callback:function(t){s.messageValues[i].value=t}}})})])}}),bt=Object(O["j"])("sku-actions"),Ct=bt[0],kt=bt[1];function yt(t,s,e,i){var o=function(t){return function(){s.skuEventBus.$emit(t)}};return t("div",S()([{class:kt()},Object(A["b"])(i)]),[s.showAddCartBtn&&t(C["a"],{attrs:{bottomAction:!0,text:"加入购物车"},on:{click:o("sku:addCart")}}),t(C["a"],{attrs:{type:"primary",bottomAction:!0,text:s.buyText||"立即购买"},on:{click:o("sku:buy")}})])}yt.props={buyText:String,skuEventBus:Object,showAddCartBtn:Boolean};var wt=Ct(yt),It=Object(O["j"])("sku"),xt=It[0],$t=R.QUOTA_LIMIT,St=xt({props:{sku:Object,goods:Object,quota:Number,value:Boolean,buyText:String,quotaUsed:Number,goodsId:[Number,String],hideStock:Boolean,hideQuotaText:Boolean,stepperTitle:String,getContainer:Function,customSkuValidator:Function,closeOnClickOverlay:Boolean,disableStepperInput:Boolean,resetStepperOnHide:Boolean,resetSelectedSkuOnHide:Boolean,initialSku:{type:Object,default:function(){return{}}},showSoldoutSku:{type:Boolean,default:!0},showAddCartBtn:{type:Boolean,default:!0},bodyOffsetTop:{type:Number,default:200},messageConfig:{type:Object,default:function(){return{placeholderMap:{},uploadImg:function(){return Promise.resolve()},uploadMaxSize:5}}},customStepperConfig:{type:Object,default:function(){return{}}}},data:function(){return{selectedSku:{},selectedNum:1,show:this.value}},watch:{show:function(t){if(this.$emit("input",t),!t){var s=Y(this.sku.tree,this.selectedSku);this.$emit("sku-close",{selectedSkuValues:s,selectedNum:this.selectedNum,selectedSkuComb:this.selectedSkuComb}),this.resetStepperOnHide&&this.resetStepper(),this.resetSelectedSkuOnHide&&this.resetSelectedSku(this.skuTree)}},value:function(t){this.show=t},skuTree:function(t){this.resetSelectedSku(t)}},computed:{skuGroupClass:function(){return["van-sku-group-container","van-hairline--bottom",{"van-sku-group-container--hide-soldout":!this.showSoldoutSku}]},bodyStyle:function(){if(!this.$isServer){var t=window.innerHeight-this.bodyOffsetTop;return{maxHeight:t+"px"}}},isSkuCombSelected:function(){return V(this.sku.tree,this.selectedSku)},isSkuEmpty:function(){return 0===Object.keys(this.sku).length},hasSku:function(){return!this.sku.none_sku},selectedSkuComb:function(){return this.hasSku?this.isSkuCombSelected?U(this.sku.list,this.selectedSku):null:{id:this.sku.collection_id,price:Math.round(100*this.sku.price),stock_num:this.sku.stock_num}},price:function(){return this.selectedSkuComb?(this.selectedSkuComb.price/100).toFixed(2):this.sku.price},skuTree:function(){return this.sku.tree||[]},imageList:function(){var t=[this.goods.picture];if(this.skuTree.length>0){var s=this.skuTree.filter(function(t){return"s1"===t.k_s})[0]||{};if(!s.v)return;s.v.forEach(function(s){var e=s.imgUrl||s.img_url;e&&t.push(e)})}return t}},created:function(){var t=new I["default"];this.skuEventBus=t,t.$on("sku:close",this.onClose),t.$on("sku:select",this.onSelect),t.$on("sku:numChange",this.onNumChange),t.$on("sku:previewImage",this.onPreviewImage),t.$on("sku:overLimit",this.onOverLimit),t.$on("sku:addCart",this.onAddCart),t.$on("sku:buy",this.onBuy),this.resetStepper(),this.resetSelectedSku(this.skuTree),this.$emit("after-sku-create",t)},methods:{resetStepper:function(){var t=this.$refs.skuStepper,s=this.initialSku.selectedNum,e=Object(O["c"])(s)?s:1;t?t.setCurrentNum(e):this.selectedNum=e},resetSelectedSku:function(t){var s=this;this.selectedSku={},t.forEach(function(t){s.selectedSku[t.k_s]=s.initialSku[t.k_s]||H}),t.forEach(function(t){var e=t.k_s,i=t.v[0].id;1===t.v.length&&X(s.sku.list,s.selectedSku,{key:e,valueId:i})&&(s.selectedSku[e]=i)})},getSkuMessages:function(){return this.$refs.skuMessages?this.$refs.skuMessages.getMessages():{}},getSkuCartMessages:function(){return this.$refs.skuMessages?this.$refs.skuMessages.getCartMessages():{}},validateSkuMessages:function(){return this.$refs.skuMessages?this.$refs.skuMessages.validateMessages():""},validateSku:function(){if(0===this.selectedNum)return"商品已经无法购买啦";if(this.isSkuCombSelected)return this.validateSkuMessages();if(this.customSkuValidator){var t=this.customSkuValidator(this);if(t)return t}return"请先选择商品规格"},onClose:function(){this.show=!1},onSelect:function(t){var s,e;this.selectedSku=this.selectedSku[t.skuKeyStr]===t.id?Object(w["a"])({},this.selectedSku,(s={},s[t.skuKeyStr]=H,s)):Object(w["a"])({},this.selectedSku,(e={},e[t.skuKeyStr]=t.id,e)),this.$emit("sku-selected",{skuValue:t,selectedSku:this.selectedSku,selectedSkuComb:this.selectedSkuComb})},onNumChange:function(t){this.selectedNum=t},onPreviewImage:function(t){var s=this,e=this.imageList.findIndex(function(s){return s===t}),i={index:e,imageList:this.imageList,indexImage:t};this.$emit("preview-on",i),Object(x["a"])({images:this.imageList,startPosition:e,onClose:function(){s.$emit("preview-close",i)}})},onOverLimit:function(t){var s=t.action,e=t.limitType,i=t.quota,o=t.quotaUsed,a=this.customStepperConfig.handleOverLimit;if(a)a(t);else if("minus"===s)Object(m["a"])("至少选择一件");else if("plus"===s)if(e===$t){var n="限购"+i+"件";o>0&&(n+="，你已购买"+o+"件"),Object(m["a"])(n)}else Object(m["a"])("库存不足")},onAddCart:function(){this.onBuyOrAddCart("add-cart")},onBuy:function(){this.onBuyOrAddCart("buy-clicked")},onBuyOrAddCart:function(t){var s=this.validateSku();s?Object(m["a"])(s):this.$emit(t,this.getSkuData())},getSkuData:function(){return{goodsId:this.goodsId,selectedNum:this.selectedNum,selectedSkuComb:this.selectedSkuComb,messages:this.getSkuMessages(),cartMessages:this.getSkuCartMessages()}}},render:function(t){var s=this;if(!this.isSkuEmpty){var e=this.sku,i=this.goods,o=this.price,a=this.skuEventBus,n=this.selectedSku,r=this.selectedNum,c=this.stepperTitle,l=this.hideQuotaText,d=this.selectedSkuComb,u={price:o,selectedNum:r,skuEventBus:a,selectedSku:n,selectedSkuComb:d},_=function(t){return s.slots(t,u)},h=_("sku-header")||t(N,{attrs:{sku:e,goods:i,skuEventBus:a,selectedSku:n}},[_("sku-header-price")||t("div",{class:"van-sku__goods-price"},[t("span",{class:"van-sku__price-symbol"},["￥"]),t("span",{class:"van-sku__price-num"},[o])])]),g=_("sku-group")||this.hasSku&&t("div",{class:this.skuGroupClass},[this.skuTree.map(function(s){return t(B,{attrs:{skuRow:s}},[s.v.map(function(i){return t(Z,{attrs:{skuList:e.list,skuValue:i,selectedSku:n,skuEventBus:a,skuKeyStr:s.k_s}})})])})]),p=_("sku-stepper")||t(it,{ref:"skuStepper",attrs:{quota:this.quota,hideStock:this.hideStock,quotaUsed:this.quotaUsed,skuEventBus:a,selectedNum:r,selectedSku:n,stepperTitle:c,skuStockNum:e.stock_num,hideQuotaText:l,selectedSkuComb:d,disableStepperInput:this.disableStepperInput,customStepperConfig:this.customStepperConfig},on:{change:function(t){s.$emit("stepper-change",t)}}}),m=_("sku-messages")||t(vt,{ref:"skuMessages",attrs:{goodsId:this.goodsId,messageConfig:this.messageConfig,messages:e.messages}}),f=_("sku-actions")||t(wt,{attrs:{buyText:this.buyText,skuEventBus:a,showAddCartBtn:this.showAddCartBtn}});return t(y["a"],{attrs:{position:"bottom",getContainer:this.getContainer,closeOnClickOverlay:this.closeOnClickOverlay},class:"van-sku-container",model:{value:s.show,callback:function(t){s.show=t}}},[h,t("div",{class:"van-sku-body",style:this.bodyStyle},[_("sku-body-top"),g,_("extra-sku-group"),p,m]),f])}}});St.SkuActions=wt,St.SkuHeader=N,St.SkuMessages=vt,St.SkuStepper=it,St.SkuRow=B,St.SkuRowItem=Z,St.skuHelper=W,St.skuConstants=q;var Ot=St,At=(e("f908"),e("b528")),Tt=(e("19de"),e("234f")),Lt=(e("93ac"),e("bb33")),jt=(e("bda7"),e("5e46")),Ft=(e("da3c"),e("0b33")),Dt=(e("0653"),e("c194"),e("4b0a"),e("2bb1")),Nt=(e("7844"),e("5596")),Et=(e("7f7f"),e("5246"),e("6b41")),Mt=(e("d49c"),e("5487")),Pt=(e("4662"),e("cadf"),e("551c"),e("097d"),e("2f62")),zt=e("7212"),Bt=e("3e7c"),Rt=e("6f38"),Ht=e("d567"),qt=e("5608"),Gt=e("1c14"),Vt=e("42d1"),Ut=e("f27a"),Yt=(e("09d6"),e("a454")),Xt=e("e753"),Wt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[t.nodes.length?t._e():t._t("default"),e("div",{style:t.showAm+(t.selectable?";user-select:text;-webkit-user-select:text":""),attrs:{id:"_top"}},[e("div",{attrs:{id:"rtf"+t.uid}})])],2)},Kt=[],Qt=(e("ac4d"),e("8a81"),e("4917"),e("6762"),e("2fdb"),document.body.clientWidth),Zt=e("4f13");I["default"].use(x["a"]);var Jt={name:"parser",data:function(){return{uid:this._uid,showAm:"",nodes:[]}},props:{html:String,autopause:{type:Boolean,default:!0},autoscroll:Boolean,autosetTitle:{type:Boolean,default:!0},domain:String,lazyLoad:Boolean,selectable:Boolean,tagStyle:Object,showWithAnimation:Boolean,useAnchor:Boolean},watch:{html:function(t){this.setContent(t)}},created:function(){this.imgList=[],this.imgList.each=function(t){for(var s=0,e=this.length;s<e;s++)this.setItem(s,t(this[s],s,this))},this.imgList.setItem=function(t,s){if(void 0!=t&&s){if(0==s.indexOf("http")&&this.includes(s)){for(var e,i=s.split("://")[0],o=i.length;e=s[o];o++){if("/"==e&&"/"!=s[o-1]&&"/"!=s[o+1])break;i+=Math.random()>.5?e.toUpperCase():e}return i+=s.substr(o),this[t]=i}if(this[t]=s,s.includes("data:image")){var a=s.match(/data:image\/(\S+?);(\S+?),(.+)/);if(!a)return}}}},mounted:function(){this.document=document.getElementById("rtf"+this._uid),this.html&&this.setContent(this.html)},beforeDestroy:function(){this._observer&&this._observer.disconnect(),clearInterval(this._timer)},methods:{setContent:function(t,s){var e=this;if(t){var i=document.createElement("div");s?this.rtf?this.rtf.appendChild(i):this.rtf=i:(this.rtf&&this.rtf.parentNode.removeChild(this.rtf),this.rtf=i),i.innerHTML=this._handleHtml(t,s);for(var o,a=this.rtf.getElementsByTagName("style"),n=0;o=a[n++];)o.innerHTML=o.innerHTML.replace(/body/g,"#rtf"+this._uid),o.setAttribute("scoped","true");!this._observer&&this.lazyLoad&&IntersectionObserver&&(this._observer=new IntersectionObserver(function(t){for(var s,i=0;s=t[i++];)s.isIntersecting&&(s.target.src=s.target.getAttribute("data-src"),s.target.removeAttribute("data-src"),e._observer.unobserve(s.target))},{rootMargin:"500px 0px 500px 0px"}));var r=this,c=this.rtf.getElementsByTagName("title");c.length&&this.autosetTitle&&uni.setNavigationBarTitle({title:c[0].innerText}),this.imgList.length=0;for(var l,d=this.rtf.getElementsByTagName("img"),u=0,_=0;l=d[u];u++){parseInt(l.style.width||l.getAttribute("width"))>Qt&&(l.style.height="auto");var h=l.getAttribute("src");this.domain&&h&&("/"==h[0]?"/"==h[1]?l.src=(this.domain.includes("://")?this.domain.split("://")[0]:"")+":"+h:l.src=this.domain+h:h.includes("://")||(l.src=this.domain+"/"+h)),l.hasAttribute("ignore")||"A"==l.parentElement.nodeName||(l.i=_++,r.imgList.push(l.getAttribute("original-src")||l.src||l.getAttribute("data-src")),l.onclick=function(){var t=!0;this.ignore=function(){return t=!1},r.$emit("imgtap",this),t&&Object(x["a"])({images:r.imgList,startPosition:this.i})}),l.onerror=function(){Zt.errorImg&&(r.imgList[this.i]=this.src=Zt.errorImg),r.$emit("error",{source:"img",target:this})},r.lazyLoad&&this._observer&&l.src&&0!=l.i&&(l.setAttribute("data-src",l.src),l.removeAttribute("src"),this._observer.observe(l))}var g=this.rtf.getElementsByTagName("a"),p=!0,m=!1,f=void 0;try{for(var v,b=g[Symbol.iterator]();!(p=(v=b.next()).done);p=!0){var C=v.value;C.onclick=function(){var t=!0,s=this.getAttribute("href");if(r.$emit("linkpress",{href:s,ignore:function(){return t=!1}}),t&&s)if("#"==s[0])r.useAnchor&&r.navigateTo({id:s.substr(1)});else{if(0==s.indexOf("http")||0==s.indexOf("//"))return!0;uni.navigateTo({url:s})}return!1}}}catch(t){m=!0,f=t}finally{try{p||null==b.return||b.return()}finally{if(m)throw f}}var k=this.rtf.getElementsByTagName("video");r.videoContexts=k;for(var y,w=0;y=k[w++];)y.style.maxWidth="100%",y.onerror=function(){r.$emit("error",{source:"video",target:this})},y.onplay=function(){if(r.autopause)for(var t,s=0;t=r.videoContexts[s++];)t!=this&&t.pause()};var I=this.rtf.getElementsByTagName("audio"),$=!0,S=!1,O=void 0;try{for(var A,T=I[Symbol.iterator]();!($=(A=T.next()).done);$=!0){var L=A.value;L.onerror=function(){r.$emit("error",{source:"audio",target:this})}}}catch(t){S=!0,O=t}finally{try{$||null==T.return||T.return()}finally{if(S)throw O}}if(this.autoscroll){var j=this.rtf.getElementsByTagName("table"),F=!0,D=!1,N=void 0;try{for(var E,M=j[Symbol.iterator]();!(F=(E=M.next()).done);F=!0){var P=E.value,z=document.createElement("div");z.style.overflow="scroll",P.parentNode.replaceChild(z,P),z.appendChild(P)}}catch(t){D=!0,N=t}finally{try{F||null==M.return||M.return()}finally{if(D)throw N}}}s||this.document.appendChild(this.rtf),this.$nextTick(function(){e.nodes=[1],e.$emit("load")}),setTimeout(function(){return e.showAm=""},500),clearInterval(this._timer),this._timer=setInterval(function(){e.rect=e.rtf.getBoundingClientRect()},350),this.showWithAnimation&&!s&&(this.showAm="animation:_show .5s")}else this.rtf&&!s&&this.rtf.parentNode.removeChild(this.rtf)},getText:function(){arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.nodes;var t="";return t=this.rtf.innerText,t},in:function(t){t.page&&t.selector&&t.scrollTop&&(this._in=t)},navigateTo:function(t){var s=this;if(!this.useAnchor)return t.fail&&t.fail("Anchor is disabled");var e=" ",i=uni.createSelectorQuery().in(this._in?this._in.page:this).select((this._in?this._in.selector:"#_top")+(t.id?"".concat(e,"#").concat(t.id,",").concat(this._in?this._in.selector:"#_top").concat(e,".").concat(t.id):"")).boundingClientRect();this._in?i.select(this._in.selector).scrollOffset().select(this._in.selector).boundingClientRect():i.selectViewport().scrollOffset(),i.exec(function(e){if(!e[0])return t.fail&&t.fail("Label not found");var i=e[1].scrollTop+e[0].top-(e[2]?e[2].top:0)+(t.offset||0);s._in?s._in.page[s._in.scrollTop]=i:uni.pageScrollTo({scrollTop:i,duration:300}),t.success&&t.success()})},getVideoContext:function(t){if(!t)return this.videoContexts;for(var s=this.videoContexts.length;s--;)if(this.videoContexts[s].id==t)return this.videoContexts[s]},_handleHtml:function(t,s){if(!s){var e="<style>@keyframes _show{0%{opacity:0}100%{opacity:1}}img{max-width:100%}";for(var i in Zt.userAgentStyles)e+="".concat(i,"{").concat(Zt.userAgentStyles[i],"}");for(i in this.tagStyle)e+="".concat(i,"{").concat(this.tagStyle[i],"}");e+="</style>",t=e+t}return t.includes("rpx")&&(t=t.replace(/[0-9.]+\s*rpx/g,function(t){return parseFloat(t)*Qt/750+"px"})),t}}},ts=Jt,ss=(e("715a"),e("2877")),es=Object(ss["a"])(ts,Wt,Kt,!1,null,null,null);es.options.__file="u-parse.vue";var is,os=es.exports,as=(e("fda2"),e("d6d3")),ns=e("4328"),rs=e.n(ns);I["default"].use(x["a"]);var cs={mixins:[Ut["a"]],directives:{WaterfallLower:Object(Mt["a"])("lower")},data:function(){return{navActive:0,active:0,tabs:[this.$t("lang.goods_detail_info"),this.$t("lang.specification_parameter")],showBase:!1,num:1,swiperOption:{direction:"vertical",slidesPerView:"auto",freeMode:!0},couponShow:!1,currency:"₸",promotionShow:!1,scrollState:!1,conpouLoading:!0,goods_id:this.$route.params.id,shopScore:!0,index:0,addCartClass:!1,storeBtn:!1,videoShow:!1,drpShareActive:!1,playerOptions:{autoplay:!1,muted:!0,loop:!0,language:"zh-CN",fluid:!0,playbackRates:[.7,1,1.5,2],sources:[{type:"video/mp4",src:null}]},shareImg:"",shareImgShow:!1,routerName:"goods",productOuter:!0,fittingShow:!1,fittingNames:"",checked:!0,checkDisabled:!0,fittingsCheckModel:[],fittingNum:1,fittings_minMax:0,save_minMaxPrice:0,zFittingAttr:!1,fittingShowBase:!1,fitting_index:"",fittingAttr:[],fittingAttrInit:[],fittingAttrId:"",fittingAttrNumber:"",fittingGoodsAttrId:"",fittingAttrName:"",fittingPrice:0,fittingImg:"",volumePriceShow:!1,rankPriceShow:!1,dscLoading:!0,isPrice:0,regionGoodsPirceFormated:"",regionGoodsNumberFormated:"",activityRouterPath:"",platform:this.$route.query.platform?this.$route.query.platform:"",disabled:!1,loading:!1,page:1,size:30,shipping_region:"",currentSwipeItem:0,reCurSwipeItem:0,friendDis:[],goodsGuessList:[],commentTotal:{},showShortcut:!1,showDiscount:!1,showActivity:!1,showAddredd:!1,isViewMore:!1,currenTab:0,search_keywords:[],isBack:!1,addressRadio:"",swipeItemHeight:{minHeight:0},goodsComment:[],recommentTabs:[],shortcutData:[{name:this.$t("lang.home"),ico:"iconfont icon-zhuye",path:"home"},{name:this.$t("lang.search"),ico:"iconfont icon-search",path:"search"},{name:this.$t("lang.category"),ico:"iconfont icon-menu",path:"catalog"},{name:this.$t("lang.cart"),ico:"iconfont icon-cart",path:"cart"},{name:this.$t("lang.personal_center"),ico:"iconfont icon-gerenzhongxin",path:"user"}],addType:"",initialSwipe:0,stockout:!0,imgScrollOption:{notNextTick:!0,watchSlidesProgress:!0,watchSlidesVisibility:!0,slidesPerView:"auto",lazyLoading:!0},attrColorIndex:0,guessList:[],isOver:!1,wDisabled:!1,showServerPop:!1}},components:(is={},Object(c["a"])(is,Et["a"].name,Et["a"]),Object(c["a"])(is,Nt["a"].name,Nt["a"]),Object(c["a"])(is,Dt["a"].name,Dt["a"]),Object(c["a"])(is,ot["a"].name,ot["a"]),Object(c["a"])(is,at["a"].name,at["a"]),Object(c["a"])(is,Ft["a"].name,Ft["a"]),Object(c["a"])(is,jt["a"].name,jt["a"]),Object(c["a"])(is,Lt["a"].name,Lt["a"]),Object(c["a"])(is,Tt["a"].name,Tt["a"]),Object(c["a"])(is,At["a"].name,At["a"]),Object(c["a"])(is,Ot.name,Ot),Object(c["a"])(is,y["a"].name,y["a"]),Object(c["a"])(is,k["a"].name,k["a"]),Object(c["a"])(is,C["a"].name,C["a"]),Object(c["a"])(is,b["a"].name,b["a"]),Object(c["a"])(is,v["a"].name,v["a"]),Object(c["a"])(is,f["a"].name,f["a"]),Object(c["a"])(is,m["a"].name,m["a"]),Object(c["a"])(is,p["a"].name,p["a"]),Object(c["a"])(is,g["a"].name,g["a"]),Object(c["a"])(is,h["a"].name,h["a"]),Object(c["a"])(is,_["a"].name,_["a"]),Object(c["a"])(is,u["a"].name,u["a"]),Object(c["a"])(is,d["a"].name,d["a"]),Object(c["a"])(is,l["a"].name,l["a"]),Object(c["a"])(is,"ShopHeader",Bt["a"]),Object(c["a"])(is,"swiper",zt["swiper"]),Object(c["a"])(is,"swiperSlide",zt["swiperSlide"]),Object(c["a"])(is,"CountDown",qt["a"]),Object(c["a"])(is,"CommonNav",Ht["a"]),Object(c["a"])(is,"videoPlayer",as["videoPlayer"]),Object(c["a"])(is,"ProductList",Gt["a"]),Object(c["a"])(is,"NotCont",Rt["a"]),Object(c["a"])(is,"DscLoading",Vt["a"]),Object(c["a"])(is,"EcFilterTop",Xt["a"]),Object(c["a"])(is,"uParse",os),is),created:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var s,e,i,o,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(s=this,setTimeout(function(){uni.getEnv(function(t){(t.plus||t.miniprogram)&&uni.redirectTo({url:"../../pagesC/goodsDetail/goodsDetail?id="+s.goods_id})})},100),e=JSON.parse(sessionStorage.getItem("configData")),e&&(this.currency=e.currency_format.replace("%s",""),this.search_keywords=e.search_keywords.split(",")),!this.getRegionData){t.next=8;break}this.regionOptionDate=this.getRegionData,t.next=15;break;case 8:return t.next=10,this.$store.dispatch("setPosition");case 10:i=t.sent,o=i.data,a={province:{id:o.province_id,name:o.province},city:{id:o.city_id,name:o.city},district:{id:o.district_id,name:o.district},street:{id:o.street_id||"",name:o.street||""},postion:{}},a.regionSplic="".concat(o.province," ").concat(o.city," ").concat(o.district," ").concat(o.street),this.regionOptionDate=a;case 15:this.loadGoodsInfo(this.goods_id),this.getCommentList(),this.getFriendDiscuss(),this.isLogin?this.$store.dispatch("userAddress"):this.regionShow=!0;case 19:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),mounted:function(){var t=this;this.$nextTick(function(){window.addEventListener("scroll",t.onScroll)}),setTimeout(function(){!(t.regionGoodsNumberFormated?t.regionGoodsNumberFormated:t.goodsNumberManage>0)&&t.goodsInfo.is_drp>0&&1==t.goodsInfo.is_distribution&&(t.stockout=!1)},3e3)},computed:Object(n["a"])({},Object(Pt["c"])({addressList:function(t){return t.user.addressList},goodsInfo:function(t){return t.goods.goodsInfo},goodsCouponList:function(t){return t.goods.goodsCouponList},shopDetail:function(t){return t.shop.shopDetail},fittingInfo:function(t){return t.goods.fittingInfo},fittingPriceData:function(t){return t.goods.fittingPriceData},shipping_fee:function(t){return t.shopping.shipping_fee}}),{selectAddress:{get:function(){return this.addressRadio},set:function(t){this.addressRadio=t}},gallery_list:function(){var t=[],s=this.$store.state.goods.goodsInfo.gallery_list;return s.forEach(function(s){t.push(s.img_url)}),t},attr:function(){return this.$store.state.goods.goodsInfo.attr},attrColorList:function(){var t=this.attr.filter(function(t){return 1===t.is_checked}),s=[];return t.length>0&&(s=t[0].attr_key.filter(function(t){return""!==t.img_flie})),s.length>0&&t[0].attr_key.length>0?t[0].attr_key:[]},goodsAttrInit:{get:function(){return this.$store.state.goods.goodsAttrInit?this.$store.state.goods.goodsAttrInit:""},set:function(t){this.$store.state.goods.goodsAttrInit=t}},goodsAttrOper:function(){return this.$store.state.goods.goodsAttrOper},stock:function(){return""!=this.attr?this.goodsAttrOper.stock:this.goodsInfo.goods_number},isLogin:function(){return null!=localStorage.getItem("token")},ru_id:function(){return this.$store.state.goods.goodsInfo.user_id},goodsRate:function(){return this.goodsInfo.goods_rate},number:{get:function(){return this.goodsInfo.is_minimum>0?this.goodsInfo.minimum:1},set:function(t){this.num=t}},is_collect_shop:{get:function(){return this.shopDetail.is_collect_shop},set:function(t){this.shopDetail.is_collect_shop=t}},count_gaze:{get:function(){return this.shopDetail.count_gaze},set:function(t){this.shopDetail.count_gaze=t}},shopInfo:function(){var t=[];return t[this.index]={shopName:this.shopDetail.shop_name,logo:this.shopDetail.logo_thumb,ru_id:this.shopDetail.ru_id,commentdelivery:this.shopDetail.commentdelivery,commentdelivery_font:this.shopDetail.commentdelivery_font,commentrank:this.shopDetail.commentrank,commentrank_font:this.shopDetail.commentrank_font,commentserver:this.shopDetail.commentserver,commentserver_font:this.shopDetail.commentserver_font,count_gaze:this.count_gaze,is_collect_shop:this.is_collect_shop},t},shopCollectStatue:function(){return this.$store.state.user.shopCollectStatue},goodsCollectStatue:function(){return this.$store.state.user.goodsCollectStatue},freight:function(){return null!=this.shipping_fee&&this.shipping_fee.is_shipping>0?this.shipping_fee.shipping_fee_formated:"<span class='color-red'>"+this.$t("lang.is_shipping_area")+"</span>"},freeShipping:function(){return null!=this.shipping_fee&&this.shipping_fee.free_shipping?this.shipping_fee.free_shipping:0},is_on_sale:function(){return 0==this.$store.state.goods.goodsInfo.is_on_sale},is_alone_sale:function(){return 0==this.$store.state.goods.goodsInfo.is_alone_sale},collect_icon:function(){return 1==this.is_collect?"like":"like-o"},is_collect:{get:function(){return this.$store.state.goods.goodsInfo.is_collect},set:function(t){this.$store.state.goods.goodsInfo.is_collect=t}},cart_number:{get:function(){return this.$store.state.goods.goodsInfo.cart_number},set:function(t){this.$store.state.goods.goodsInfo.cart_number=t}},attr_name:{get:function(){return""!=this.attr?"‘"+this.$store.state.goods.goodsInfo.attr_name+"’"+this.num+this.goodsInfo.goods_unit:this.num+""+this.goodsInfo.goods_unit},set:function(t){this.$store.state.goods.goodsInfo.attr_name=t}},player:function(){return this.$refs.videoPlayer.player},regionGoodsPirce:{get:function(){return this.shipping_fee.goods?this.shipping_fee.goods.goods_price:0},set:function(t){this.shipping_fee.goods&&(this.shipping_fee.goods.goods_price=t)}},regionGoodsNumber:{get:function(){return this.shipping_fee.goods?this.shipping_fee.goods.stock:0},set:function(t){this.shipping_fee.goods&&(this.regionGoodsNumberFormated=t)}},goodsPriceManage:function(){var t="";return t=this.goodsAttrOper.goods_price?this.goodsAttrOper.goods_price:this.goodsInfo.promote_start_date>0&&this.goodsInfo.promote_end_date>0?this.goodsInfo.promote_price:this.goodsInfo.shop_price_original,t},goodsMarketPriceManage:function(){var t="";return t=this.goodsAttrOper.market_price?this.goodsAttrOper.market_price:this.goodsInfo.market_price,t},goodsNumberManage:function(){var t=0;return t=this.goodsAttrOper.stock?this.goodsAttrOper.stock:this.goodsInfo.goods_number,t},goods_promotion:function(){var t=this,s=this.goodsInfo.goods_promotion,e="",i="",o=[],a={};if(s&&s.length>0&&s.forEach(function(s){"favourable"==s.type?(i=s.act_type,e=s.act_name):"group_buy"==s.type?(i=3,e=t.$t("lang.group_buy")):"auction"==s.type&&(i=4,e=t.$t("lang.auction")),a={act_type:i,act_name:e,act_id:s.act_id},o.push(a)}),this.goodsInfo.consumption&&this.goodsInfo.consumption.length>0){var n="",r="";this.goodsInfo.consumption.forEach(function(s){r=t.$t("lang.man")+s.cfull+t.$t("lang.minus")+s.creduce,n+=r+","}),a={act_type:5,act_name:n},o.push(a)}return o},spare_price:function(){return this.goodsInfo.fittings[0].spare_price},navTabs:function(){var t=[];return t=this.goodsInfo.shop_can_comment>0?[this.$t("lang.goods"),this.$t("lang.comment_alt"),this.$t("lang.detail"),this.$t("lang.recommend")]:[this.$t("lang.goods"),this.$t("lang.detail"),this.$t("lang.recommend")],t},provinceName:function(){var t=this.goodsInfo.basic_info.city_name,s=this.goodsInfo.basic_info.province_name;return t==s?t:t+s},discountsData:function(){var t=this,s=[];if(this.goodsCouponList&&this.goodsCouponList.length>0&&s.push({acttype:0,label:this.$t("lang.get_coupon_2"),value:this.goodsCouponList}),this.goodsInfo.consumption&&this.goodsInfo.consumption.length>0){var e="",i="";this.goodsInfo.consumption.forEach(function(s){i=t.$t("lang.man")+s.cfull+t.$t("lang.minus")+s.creduce,e+=i+","}),s.push({acttype:1,label:this.$t("lang.full_reduction"),value:e.substr(0,e.length-1)})}if(this.goodsInfo.goods_promotion&&this.goodsInfo.goods_promotion.length>0&&this.goodsInfo.goods_promotion.forEach(function(e){0==e.act_type?(e.label=t.$t("lang.with_a_gift"),e.value=e.act_name,e.acttype=3,s.push(e)):1==e.act_type?(e.label=t.$t("lang.full_reduction"),e.value=e.act_name,e.acttype=1,s.push(e)):2==e.act_type&&(e.label=t.$t("lang.discount"),e.value=e.act_name,e.acttype=2,s.push(e))}),this.goodsInfo.give_integral>0&&1==this.goodsInfo.show_give_integral&&s.push({acttype:4,label:this.$t("lang.label_give_integral_2"),value:"".concat(this.$t("lang.buy_the_product_as_a_gift")).concat(this.goodsInfo.give_integral).concat(this.$t("lang.integral"))}),this.goodsInfo.integral>0&&s.push({acttype:5,label:this.$t("lang.points_deduction"),value:"".concat(this.$t("lang.you_can_use_up_to")).concat(this.goodsInfo.integral).concat(this.$t("lang.integral"))}),this.goodsInfo.volume_price_list&&this.goodsInfo.volume_price_list.length>0){var o="";this.goodsInfo.volume_price_list.forEach(function(s){o+="".concat(t.$t("lang.the_purchase_of_this_product_is_full")).concat(s.number).concat(t.$t("lang.jian"),"，").concat(t.$t("lang.the_purchase_of_this_product_is_full_2")," ").concat(s.format_price," \n")}),s.push({acttype:6,label:this.$t("lang.buy_more_discount"),value:o})}return s},formatDiscountsData:function(){return this.discountsData.length>2?Object(a["a"])(this.discountsData.slice(0,2)).concat([this.discountsData.slice(2)]):this.discountsData},activityData:function(){var t=this,s=[];return this.goodsInfo.goods_promotion&&this.goodsInfo.goods_promotion.length>0&&this.goodsInfo.goods_promotion.forEach(function(e){"group_buy"==e.type?(e.label=t.$t("lang.group_buy"),e.value=t.$t("lang.in_group_buying_activities"),e.acttype=0,e.path={name:"groupbuy-detail",params:{group_buy_id:e.act_id}},s.push(e)):"auction"==e.type?(e.label=t.$t("lang.auction"),e.value=t.$t("lang.the_goods_are_being_auctioned"),e.acttype=1,e.path={name:"auction-detail",params:{act_id:e.act_id}},s.push(e)):"team"==e.type?(e.label=t.$t("lang.team"),e.value=t.$t("lang.participating_in_group_activities"),e.acttype=3,e.path={name:"team-detail",query:{goods_id:e.goods_id,team_id:e.team_id}},s.push(e)):"bargain"==e.type&&(e.label=t.$t("lang.bargain"),e.value=t.$t("lang.participating_in_bargaining_activities"),e.acttype=4,e.path={name:"bargain-detail",params:{id:e.bargain_id}},s.push(e))}),this.goodsInfo.fittings&&s.push({acttype:2,label:this.$t("lang.discount_package"),value:"".concat(this.$t("lang.the_goods_are_in_common")).concat(this.tabList).concat(this.$t("lang.special_package")),path:{name:"goodsSetmeal",params:{id:this.goods_id}}}),s},tabList:function(){var t=0,s=0,e=0,i=[];return this.goodsInfo.fittings.forEach(function(e){1==e.group_id?t++:s++}),i=[t,s],i.forEach(function(t){t>0&&e++}),e},moreAttr:function(){var t=0;return this.goodsInfo.attr_parameter&&(1==this.goodsInfo.show_brand&&(t+=1),1==this.goodsInfo.show_goodsweight&&(t+=1),1==this.goodsInfo.show_addtime&&(t+=1),t+=this.goodsInfo.attr_parameter.length),t>5},storeRate:function(){var t=this.shopDetail,s=t.commentrank,e=t.commentdelivery,i=t.commentserver,o=0;return s&&(o+=parseInt(s.slice(0,1))||0),e&&(o+=parseInt(e.slice(0,1))||0),i&&(o+=parseInt(i.slice(0,1))||0),o/=3,Math.round(o)}}),methods:{onSwipeChange:function(t){this.currentSwipeItem=t},onChangeRecomment:function(t){this.reCurSwipeItem=t},changeTab:function(t){this.currenTab!=t&&(this.currenTab=t,this.reCurSwipeItem=0,this.$nextTick(function(){this.getELHeight()}))},showShortcutHandle:function(){this.showShortcut=!this.showShortcut},showRegionShow:function(){this.showAddredd=!0,this.regionShow=!0},addressClose:function(){this.showAddredd=!1,this.regionShow=!1},goLink:function(t){this.$router.push(t)},changeAddressRadio:function(t){var s=t.province_name==t.city_name?"".concat(t.province_name).concat(t.district_name).concat(t.street_name).concat(t.address):"".concat(t.province_name).concat(t.city_name).concat(t.district_name).concat(t.street_name).concat(t.address),e={province:{id:t.province,name:t.province_name},city:{id:t.city,name:t.city_name},district:{id:t.district,name:t.district_name},street:{id:t.street,name:t.street_name},regionSplic:s};this.regionSplic=e,this.addressRadio=t.id,this.showAddredd=!1},getRegionShow:function(){this.showAddredd=!1,this.regionShow=!1,this.isBack=!1,this.regionShow=!1,this.$refs.swiperAddress.swipeTo(0),this.selectAddress=""},collectHandle:function(t){if(this.isLogin)this.$store.dispatch("setCollectShop",{ru_id:t,status:this.is_collect_shop});else{var s=this.$t("lang.fill_in_user_collect_goods");this.storeNotLogin(s)}},storeNotLogin:function(t){var s=this;p["a"].confirm({message:t,className:"text-center"}).then(function(){s.$router.push({path:"/login",query:{redirect:{name:"shopDetail",params:{id:s.ru_id}}}})}).catch(function(){})},selectAddresss:function(){this.isBack?(this.isBack=!1,this.regionShow=!1,this.$refs.swiperAddress.swipeTo(0)):(this.isBack=!0,this.regionShow=!0,this.$refs.swiperAddress.swipeTo(1))},detailLink:function(t){t.get_presale_activity?this.$router.push({name:"presale-detail",params:{act_id:t.get_presale_activity.act_id}}):this.$router.push({name:"goods",params:{id:t.goods_id}})},getCoupon:function(t){this.handelReceive(t.cou_id)},getCommentList:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var s,e,i,o,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.post("".concat(window.ROOT_URL,"api/comment/title"),rs.a.stringify({goods_id:this.goods_id}));case 2:return s=t.sent,e=s.data,"success"==e.status&&(this.commentTotal={total:e.data.all||0,good:parseInt(e.data.good/e.data.all*100)+"%"}),t.next=8,this.$store.dispatch("getGoodsCommentById",{goods_id:this.goods_id,rank:"all",page:1,size:2});case 8:i=t.sent,o=i.data,a=Yt["a"].trimSpace(o),Array.isArray(a)&&(this.goodsComment=a);case 12:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getFriendDiscuss:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var s,e,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("setDiscoverCommentList",{goods_id:this.goods_id,dis_type:"all",page:1,size:2,id:0});case 2:s=t.sent,e=s.data,i=s.status,"success"==i&&(this.friendDis=e);case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getShopGoodsList:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var s,e,i,o,a,n,r,c,l;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(s=[],e=this.goodsInfo,i=e.ru_id,e.basic_info,e.get_seller_shop_info,!(i>0)){t.next=12;break}return t.next=5,this.$http.post("".concat(window.ROOT_URL,"/api/shop/shopgoodslist"),rs.a.stringify({store_best:1,store_id:i,page:1,size:30}));case 5:o=t.sent,a=o.data,n=a.data,a.status,s=n,t.next=19;break;case 12:return t.next=14,this.$http.post("".concat(window.ROOT_URL,"/api/catalog/goodslist"),rs.a.stringify({type:!0,intro:"best",page:1,size:30}));case 14:r=t.sent,c=r.data,l=c.data,c.status,s=l;case 19:this.getRelatedGoodsList(s);case 20:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getGoodsGuessList:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var s,e,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return s=this.guessList.length/10,s=Math.ceil(s)+1,t.next=4,this.$store.dispatch("getGoodsGuessList",{page:s,size:10});case 4:e=t.sent,i=e.data,Array.isArray(i)&&(this.guessList=Object(a["a"])(this.guessList).concat(Object(a["a"])(i))),i.length<10&&(this.isOver=!0);case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getRelatedGoodsList:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var s,e,i,o,a,n=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return s=n.length>0&&void 0!==n[0]?n[0]:[],t.next=3,this.$http.post("".concat(window.ROOT_URL,"api/goods/linkgoods"),rs.a.stringify({goods_id:this.goods_id}));case 3:e=t.sent,i=e.data.data,Array.isArray(i)&&(o=s||[],a=i||[],this.recommentTabs=[],o.length>0&&(this.recommentTabs.push({title:this.$t("lang.recommended_by_our_shop"),id:1}),this.goodsGuessList.push(o)),a.length>0&&(this.recommentTabs.push({title:this.$t("lang.guess_love"),id:2}),this.goodsGuessList.push(a)),this.$nextTick(function(){this.getELHeight()}));case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getELHeight:function(){var t=this;this.swipeItemHeight={minHeight:0},new Promise(function(s,e){var i=document.querySelector(".glist");i&&i.offsetHeight>0?t.swipeItemHeight={minHeight:"".concat(i.offsetHeight,"px")}:setTimeout(function(){t.getELHeight()},10)})},previewImgs:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s=arguments.length>1?arguments[1]:void 0,e=[];if(s){var i=function(t){t.preventDefault()};"string"==typeof s&&e.push(s),document.body.addEventListener("touchmove",i,{passive:!1}),Object(x["a"])({images:e.length>0?e:s,startPosition:t,onClose:function(){document.body.removeEventListener("touchmove",i,{passive:!1})}})}},routerLink:function(t){var s=this;"home"==t||"catalog"==t||"search"==t||"user"==t?setTimeout(function(){uni.getEnv(function(e){e.plus||e.miniprogram?"home"==t?uni.reLaunch({url:"../../pages/index/index"}):"catalog"==t?uni.reLaunch({url:"../../pages/category/category"}):"search"==t?uni.reLaunch({url:"../../pages/search/search"}):"user"==t&&uni.reLaunch({url:"../../pages/user/user"}):"search"==t?s.$router.push({name:"search"}):s.$router.push({name:t})})},100):s.$router.push({name:t})},loadGoodsInfo:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(s){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$route.query.parent_id?this.$route.query.parent_id:null,t.next=3,this.$store.dispatch("setGoodsInfo",{goods_id:s,warehouse_id:0,area_id:0,is_delete:0,is_on_sale:1,parent_id:e});case 3:case"end":return t.stop()}},t,this)}));return function(s){return t.apply(this,arguments)}}(),onAddCartClicked:function(t){var s=this,e=[];this.addCartClass=!1,10==t&&(this.loading=!0,this.disabled=!0),this.attr.length>0&&(e=this.goodsAttrInit),this.$store.dispatch("setAddCart",{goods_id:this.goods_id,num:this.num,spec:e,warehouse_id:"0",area_id:"0",parent_id:"0",rec_type:t,cou_id:this.goodsInfo.best_price.cou_id>0?this.goodsInfo.best_price.cou_id:0}).then(function(e){var i=e.uc_id>=0?e.status:e;if(1==i)if(10==t){if(s.isLogin)s.$router.push({name:"checkout",query:{rec_type:t,uc_id:e.uc_id>0?e.uc_id:0}});else{var o=s.$t("lang.login_user_invalid");s.notLogin(o)}s.loading=!1,s.disabled=!1}else s.addCartClass=!0,m["a"].success({duration:1e3,message:s.$t("lang.added_to_cart")}),s.cart_number=parseInt(s.cart_number)+s.num,s.closeSku();else Object(m["a"])(e.msg),s.loading=!1,s.disabled=!1})},onBuyClicked:function(){this.onAddCartClicked(10)},skuLink:function(){this.showBase=!0,this.storeBtn=!1,this.addType="",this.changeAttr()},onSku:function(t){this.addType=0==t?1:2,this.attr.length>0?(this.showBase=!0,this.changeAttr()):2==this.addType?this.onAddCartClicked(10):this.onAddCartClicked(0)},handelClose:function(t){"coupon"==t?this.couponShow=!1:"promotion"==t&&(this.promotionShow=!1)},onClickLeft:function(){this.$router.go(-1)},closeSku:function(){this.showBase=!1,this.storeBtn=!1},changeAttr:function(){this.$store.dispatch("setGoodsAttrOper",{goods_id:this.goods_id,num:this.num,attr_id:this.goodsAttrInit})},handleCoupon:function(){var t=this;this.couponShow=!0,this.$store.dispatch("setGoodsCouponList",{goods_id:this.goods_id,ru_id:this.goodsInfo.user_id}).then(function(){t.conpouLoading=!1})},handleVolumePrice:function(){this.volumePriceShow=!0},handleRankPrice:function(){this.rankPriceShow=!0},handlePromotion:function(){this.promotionShow=!0},handelReceive:function(t){var s=this;this.$store.dispatch("setGoodsCouponReceive",{cou_id:t}).then(function(t){var e=t.data;Object(m["a"])({message:e.msg,duration:1e3}),s.$store.dispatch("setGoodsCouponList",{goods_id:s.goods_id,ru_id:s.goodsInfo.user_id})})},shippingFee:function(t,s){this.$store.dispatch("setShippingFee",{goods_id:this.goods_id,position:t,goods_attr_id:s,is_price:this.isPrice})},historyAdd:function(){var t=(new Date).getTime(),s=this.goodsInfo.shop_price_formated;this.$store.dispatch("setHistoryAdd",{id:this.goods_id,name:this.goodsInfo.goods_name,img:this.goodsInfo.goods_thumb,price:s,addtime:t})},collection:function(){if(this.isLogin)this.$store.dispatch("setCollectGoods",{goods_id:this.goods_id,status:this.is_collect});else{var t=this.$t("lang.fill_in_user_collect_goods");this.notLogin(t)}},updateInfo:function(t){this.is_collect_shop=t.is_collect_shop,this.count_gaze=1==this.is_collect_shop?this.count_gaze+1:this.count_gaze-1},handleStore:function(){this.changeAttr(),this.showBase=!0,this.storeBtn=!0},onStoreClicked:function(){if(this.isLogin)this.showBase=!1,this.storeBtn=!1,this.$router.push({name:"storeGoods",query:{id:this.goods_id,attr_id:this.goodsAttrInit,num:this.num,isSingle:"goods"}});else{var t=this.$t("lang.login_user_not");this.notLogin(t)}},commentHandle:function(){this.$router.push({name:"goodsComment",id:this.goods_id})},notLogin:function(t){var s=this,e=window.location.href;p["a"].confirm({message:t,className:"text-center"}).then(function(){s.$router.push({name:"login",query:{redirect:{name:"goods",params:{id:s.goods_id},url:e}}})}).catch(function(){})},shareHandle:function(){this.drpShareActive=1!=this.drpShareActive},shoppingPromptHandle:function(){this.drpShareActive=!1},onGoodsShare:function(){var t=this;if(this.isLogin){m["a"].loading({duration:0,mask:!0,forbidClick:!0,message:this.$t("lang.loading")});var s=this.goodsInfo.goods_price||this.goodsInfo.shop_price;this.$store.dispatch("setGoodsShare",{goods_id:this.goods_id,price:s,share_type:this.goodsInfo.is_distribution,code_url:window.location.href,thumb:this.gallery_list[0]||this.goodsInfo.goods_img}).then(function(s){"success"==s.status&&(t.shareImg=s.data,t.shareImgShow=!0,m["a"].clear())})}else{var e=this.$t("lang.login_user_not");this.notLogin(e)}},onVipRegister:function(){var t=this.$route.query.parent_id?this.$route.query.parent_id:null;this.$router.push({name:"drp-register",query:{parent_id:t}})},onVipRepurchase:function(t){var s=this.$route.query.parent_id?this.$route.query.parent_id:null;this.$router.push({name:"drp-register",query:{apply_status:"repeat",membership_card_id:t,parent_id:s}})},onDiscover:function(){this.$router.push({name:"discoverList",query:{id:this.goods_id}})},handleFitting:function(){this.fittingShow=!0,this.$store.dispatch("setFitting",{goods_id:this.goods_id})},fittingLoad:function(t){var s=this,e="m_goods_"+this.fittingNames,i=e+"_"+this.goods_id,o="",a="";this.fittingAttrInit.forEach(function(t){o+=t+","}),this.fittingInfo.fittings.forEach(function(t,e){e==s.fitting_index&&(a=t.goods_id)}),this.fittingGoodsAttrId=o.substring(0,o.length-1),this.$store.dispatch("setFittingPrice",{id:this.goods_id,goods_id:a,group:{attr:this.fittingGoodsAttrId,goods_attr:this.fittingAttrId,number:1,warehouse_id:0,area_id:0,area_city:0,group_name:e,group_id:i,fittings_goods:this.goods_id},type:1,load_type:t})},fittingsCheckChange:function(t){var s=this,e="m_goods_"+this.fittingNames,i=e+"_"+this.goods_id,o="",a=null;this.$refs.checkboxes.forEach(function(s,e){s.name===t&&(a=e)}),this.fittingInfo.fittings.forEach(function(s,e){s.id==t&&(o=s.goods_attr_id)}),0==this.$refs.checkboxes[a].checked?this.$store.dispatch("setAddToCartCombo",{goods_id:this.$refs.checkboxes[a].name,number:1,spec:o,parent_attr:this.goodsAttrInit,warehouse_id:0,area_id:0,area_city:0,parent:this.goods_id,group_id:i,add_group:""}).then(function(t){var e=t.data;0==e.error?(s.save_minMaxPrice=e.save_minMaxPrice,s.fittings_minMax=e.fittings_minMax):Object(m["a"])(e.msg)}):this.$store.dispatch("setDelInCartCombo",{goods_id:this.$refs.checkboxes[a].name,parent:this.goods_id,group_id:i,goods_attr:this.goodsAttrInit,warehouse_id:0,area_id:0,area_city:0}).then(function(t){var e=t.data;0==e.error?(s.save_minMaxPrice=e.save_minMaxPrice,s.fittings_minMax=e.fittings_minMax):Object(m["a"])(e.msg)})},fittingAttrHandle:function(t,s){var e=this,i=0,o="",a="";if(this.zFittingAttr=!0,t){if(this.fitting_index=s,this.fittingsCheckModel.forEach(function(s){s==t&&i++}),0==i)return Object(m["a"])(this.$t("lang.fill_in_parts")),!1;this.fittingShowBase=!0,this.fittingAttrInit=[],this.fittingInfo.fittings.forEach(function(s){s.goods_id==t&&(e.fittingAttr=s.attr,e.fittingPrice=s.fittings_price,e.fittingImg=s.goods_thumb,s.attr.forEach(function(t){t.attr_key.forEach(function(t){1==t.attr_checked&&(e.fittingAttrInit.push(t.goods_attr_id),o+=t.attr_id+",",a+=t.goods_attr_id+",",e.fittingAttrName+=t.attr_value+" ")})}))}),this.fittingAttrId=o.substring(0,o.length-1),this.fittingGoodsAttrId=a.substring(0,a.length-1),this.fittingLoad(1)}else this.skuLink(),this.fittingsCheckModel=[]},closeFitting:function(){this.fittingShowBase=!1},onFittingAttr:function(){this.showBase=!1},onFittingLeft:function(){this.promotionShow=!1,this.fittingShow=!1},fittingsAddCart:function(){var t=this,s="m_goods_"+this.fittingNames;this.goods_id;this.$store.dispatch("setAddToCartGroup",{group_name:s,goods_id:this.goods_id,warehouse_id:0,area_id:0,area_city:0,number:this.fittingNum}).then(function(s){var e=s.data;Object(m["a"])(e.msg),0==e.error&&setTimeout(function(){t.$router.push({name:"cart"})},2e3)})},onScroll:function(){var t=this,s=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,e=this.onJumpIndexoffsetTop();this.scrollState=s>10,e.forEach(function(e,i){s+40>e&&(t.navActive=i)})},onJumpIndexoffsetTop:function(){var t=document.querySelectorAll(".d_jump"),s=[];return this.navTabs.forEach(function(e,i){t[i]&&s.push(i>0?t[i].offsetTop-40:t[i].offsetTop)}),s},jump:function(t){this.navActive=t;var s=document.querySelectorAll(".d_jump"),e=t>0?s[t].offsetTop-40:s[t].offsetTop,i=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,o=e/10;if(e>i)n();else{var a=i-e;o=a/10,r()}function n(){i<e?(i+=o,document.body.scrollTop=i,document.documentElement.scrollTop=i,setTimeout(n,10)):(document.body.scrollTop=e,document.documentElement.scrollTop=e)}function r(){i>e?(i-=o,document.body.scrollTop=i,document.documentElement.scrollTop=i,setTimeout(r,10)):(document.body.scrollTop=e,document.documentElement.scrollTop=e)}},showDiscountHandel:function(t,s){t&&this.$nextTick(function(){document.addEventListener("dblclick",function(t){t.preventDefault()})})},onSelectImg:function(t,s){var e=this.gallery_list.findIndex(function(s){return s==t.attr_gallery_flie});this.attrColorIndex=s,void 0!=e&&this.$refs.goods_photo.swipeTo(e),t.attr_img_site&&(window.location.href=t.attr_img_site)},loadMore:function(){var t=this;this.wDisabled=!0,setTimeout(function(){t.isOver||t.getGoodsGuessList()},200)},goodsAloneSale:function(){this.$router.push({name:"list",params:{id:this.goodsInfo.cat_id}})}},destroyed:function(){window.removeEventListener("scroll",this.onScroll),document.body.scrollTop=0,document.documentElement.scrollTop=0,this.videoShow=!1},watch:{showDiscount:"showDiscountHandel",$route:function(t,s){this.dscLoading=!0,this.goods_id=t.params.id,this.loadGoodsInfo(t.params.id)},ru_id:function(){this.goodsInfo.user_id>0&&this.$store.dispatch("setShopDetail",{ru_id:this.goodsInfo.user_id})},guessList:function(t,s){t.length%10==0&&(this.wDisabled=!1)},goodsInfo:function(){var t=this,s=localStorage.getItem("parent_id")?localStorage.getItem("parent_id"):this.$route.query.parent_id?this.$route.query.parent_id:null,e=localStorage.getItem("user_id")?localStorage.getItem("user_id"):null;e&&(s=e),this.goodsInfo.seckill_id?this.$router.replace({name:"seckill-detail",query:{seckill_id:this.goodsInfo.seckill_id}}):this.dscLoading=!1,this.isLogin&&this.historyAdd(),this.goodsInfo.goods_video&&(this.playerOptions.sources[0].src=this.goodsInfo.goods_video),document.title=this.goodsInfo.goods_name,this.$wxShare.share({title:this.goodsInfo.goods_name,desc:this.goodsInfo.goods_brief,link:"".concat(window.ROOT_URL,"mobile#/goods/")+this.goods_id+"?parent_id="+s,imgUrl:this.goodsInfo.goods_thumb}),this.goodsInfo.is_minimum>0&&(this.num=this.goodsInfo.minimum),this.$store.dispatch("setGoodsCouponList",{goods_id:this.goods_id,ru_id:this.goodsInfo.user_id}).then(function(){t.conpouLoading=!1}),this.getShopGoodsList()},goodsAttrOper:function(){this.goodsAttrOper&&(this.attr_name=this.goodsAttrOper.attr_name,this.regionGoodsPirce=0)},goodsAttrInit:function(){this.changeAttr()},goodsCollectStatue:function(){var t=this;this.goodsCollectStatue.forEach(function(s){s.id==t.goods_id&&(t.is_collect=s.status)})},regionSplic:function(){this.shipping_region={province_id:this.regionOptionDate.province.id,city_id:this.regionOptionDate.city.id,district_id:this.regionOptionDate.district.id,street_id:this.regionOptionDate.street.id},this.goodsInfo&&this.shippingFee(this.shipping_region,this.goodsInfo.goods_attr_id)},shipping_fee:function(){this.shipping_fee.goods&&(this.regionGoodsPirce=this.shipping_fee.goods.shop_price,this.regionGoodsPirceFormated=this.shipping_fee.goods.shop_price_formated,this.regionGoodsNumber=this.shipping_fee.goods.stock)},fittingInfo:function(){this.fittingNames=this.fittingInfo.comboTab[0].group_id},fittingNames:function(){this.fittingLoad(1)},fittingPriceData:function(){var t=this;this.fittingAttrNumber=this.fittingPriceData.attr_number,this.fittingAttrName=this.fittingPriceData.attr_name,this.fittingInfo.fittings.forEach(function(s){s.goods_id==t.fittingPriceData.goods_id&&(s.attr_name=t.fittingPriceData.attr_name)}),this.fittingPriceData.fittings_interval&&this.fittingPriceData.fittings_interval.forEach(function(s){s.groupId==t.fittingNames&&(t.fittings_minMax=s.combo_amount,t.save_minMaxPrice=s.save_minMaxPrice)})},showBase:function(){0==this.showBase&&(this.storeBtn=!1)},regionShow:function(){this.regionShow&&(this.regionLoading=!0)},shopCollectStatue:function(){var t=this;this.shopCollectStatue.forEach(function(s){s.id==t.ru_id&&(t.is_collect_shop=s.status,t.count_gaze=s.status?t.count_gaze+1:t.count_gaze-1)})},videoShow:function(){var t=this;this.$nextTick(function(){t.videoShow?t.$refs.videoPlayer.player.play():t.$refs.videoPlayer.player.pause()})}},beforeRouteEnter:function(t,s,e){e(function(t){t.activityRouterPath=s.fullPath})}},ls=cs,ds=(e("398e"),Object(ss["a"])(ls,i,o,!1,null,"62c54b1c",null));ds.options.__file="Detail.vue";s["default"]=ds.exports},d49c:function(t,s,e){"use strict";e("68ef")},e753:function(t,s,e){"use strict";var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.scrollState,expression:"scrollState"}],staticClass:"commom-nav",class:{"commom-nav-outer":t.outerClass},attrs:{id:"commom-nav"},on:{click:t.backTop}},[e("i",{staticClass:"iconfont icon-dingbu"})])},o=[],a={name:"filter-top",props:{scrollState:{type:Boolean,default:!1},outerClass:{type:String,default:""}},methods:{backTop:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0}}},n=a,r=(e("45a6"),e("2877")),c=Object(r["a"])(n,i,o,!1,null,"19bc0d9c",null);c.options.__file="FilterTop.vue";s["a"]=c.exports},ea82:function(t,s,e){},ed06:function(t,s,e){},f8b2:function(t,s,e){t.exports=e.p+"img/loading.gif"},f9bd:function(t,s,e){"use strict";var i=e("a142"),o=Object(i["j"])("collapse"),a=o[0],n=o[1];s["a"]=a({props:{accordion:Boolean,value:[String,Number,Array],border:{type:Boolean,default:!0}},data:function(){return{items:[]}},methods:{switch:function(t,s){this.accordion||(t=s?this.value.concat(t):this.value.filter(function(s){return s!==t})),this.$emit("change",t),this.$emit("input",t)}},render:function(t){return t("div",{class:[n(),{"van-hairline--top-bottom":this.border}]},[this.slots()])}})}}]);