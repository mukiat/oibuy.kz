(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-21c3"],{"0653":function(t,i,e){"use strict";e("68ef")},1146:function(t,i,e){},"2f4d":function(t,i,e){"use strict";e.r(i);var n,o=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{directives:[{name:"waterfall-lower",rawName:"v-waterfall-lower",value:t.loadMore,expression:"loadMore"}],staticClass:"store_cont-box",attrs:{"waterfall-disabled":"disabled","waterfall-offset":"300"}},[e("div",{staticClass:"store_cont_top"},[e("div",{staticClass:"region_select"},[e("van-cell-group",{staticClass:"van-cell-noleft"},[e("van-cell",{attrs:{title:t.$t("lang.label_region_select"),"is-link":""},on:{click:t.handelRegionShow},model:{value:t.regionSplicFormat,callback:function(i){t.regionSplicFormat=i},expression:"regionSplicFormat"}})],1)],1)]),e("section",{staticClass:"store_cont_warp"},[e("div",{staticClass:"store_list"},[t.storeContent.length>0?e("ul",{staticClass:"new-store-radio"},t._l(t.storeContent,function(i,n){return i.is_stocks>0?e("li",{key:n,class:{active:t.store_id==i.id,disabled:0==i.is_stocks},on:{click:function(e){t.storeClick(i.id,i.is_stocks)}}},[e("div",{staticClass:"flow-have-adr padding-all"},[e("div",{staticClass:"f-h-adr-title"},[e("label",[t._v(t._s(i.stores_name)),e("em",[t._v("Сізден "+t._s(i.distance_format.value)+t._s(i.distance_format.unit))])]),e("span",[e("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.locationMap(i)}}},[e("i",{staticClass:"iconfont icon-location"}),t._v(t._s(t.$t("lang.view_route")))])])]),e("p",{staticClass:"f-h-adr-con t-remark m-top06 store-address-cont"},[t._v("["+t._s(i.address)+" "+t._s(i.stores_address)+"]")])])]):t._e()})):e("NotCont")],1)]),e("div",{staticClass:"filter-btn store-btn-box"},[e("div",{staticClass:"van-cell-noleft2"},[e("van-cell",{attrs:{title:t.$t("lang.arrival_time"),"is-link":""},on:{click:t.dataShow},model:{value:t.dataTime,callback:function(i){t.dataTime=i},expression:"dataTime"}})],1),e("van-field",{attrs:{label:t.$t("lang.phone_number"),type:"number",placeholder:t.$t("lang.fill_in_mobile")},model:{value:t.mobile,callback:function(i){t.mobile=i},expression:"mobile"}}),e("div",{staticClass:"van-sku-actions"},[e("van-button",{staticClass:"van-button--bottom-action",attrs:{type:"default"},on:{click:t.onClose}},[t._v(t._s(t.$t("lang.close")))]),e("van-button",{staticClass:"van-button--bottom-action",attrs:{type:"primary"},on:{click:t.onStorebtn}},[t._v(t._s(t.$t("lang.immediately_private")))])],1)],1),e("Region",{attrs:{display:t.regionShow,regionOptionDate:t.regionOptionDate,isLevel:4},on:{updateDisplay:t.getRegionShow,updateRegionDate:t.getRegionOptionDate}}),e("van-popup",{staticClass:"show-popup-bottom show-goods-coupon",attrs:{position:"bottom"},model:{value:t.show,callback:function(i){t.show=i},expression:"show"}},[e("van-datetime-picker",{attrs:{type:"datetime"},on:{confirm:t.dataConfirm,cancel:t.dataCancel},model:{value:t.currentDate,callback:function(i){t.currentDate=i},expression:"currentDate"}})],1)],1)},s=[],a=(e("a481"),e("ac6a"),e("88d8")),r=(e("e17f"),e("2241")),c=(e("e7e5"),e("d399")),l=(e("d1cf"),e("ee83")),d=(e("8a58"),e("e41f")),u=(e("66b9"),e("b650")),h=(e("be7f"),e("565f")),g=(e("0653"),e("34e9")),p=(e("7f7f"),e("c194"),e("7744")),f=(e("d49c"),e("5487")),m=e("4328"),v=e.n(m),_=e("6f38"),b=e("f990"),O=e("f27a"),y={mixins:[O["a"]],data:function(){return{show:!1,storeContent:[],mobile:"",dataTime:"",minHour:10,maxHour:20,minDate:new Date,maxDate:new Date(2019,10,1),currentDate:new Date,store_id:0,ru_id:this.$route.query.ru_id,rec_id:this.$route.query.rec_id?this.$route.query.rec_id:"",isSingle:this.$route.query.isSingle?this.$route.query.isSingle:"",disabled:!1,page:1,size:10,footerCont:!1,loading:!0}},directives:{WaterfallLower:Object(f["a"])("lower")},components:(n={},Object(a["a"])(n,p["a"].name,p["a"]),Object(a["a"])(n,g["a"].name,g["a"]),Object(a["a"])(n,h["a"].name,h["a"]),Object(a["a"])(n,u["a"].name,u["a"]),Object(a["a"])(n,d["a"].name,d["a"]),Object(a["a"])(n,l["a"].name,l["a"]),Object(a["a"])(n,c["a"].name,c["a"]),Object(a["a"])(n,r["a"].name,r["a"]),Object(a["a"])(n,"NotCont",_["a"]),n),created:function(){var t={};this.getRegionData&&(this.regionOptionDate=this.getRegionData,t=this.rec_id?{province_id:this.regionOptionDate.province.id,city_id:this.regionOptionDate.city.id,district_id:this.regionOptionDate.district.id,street_id:this.regionOptionDate.street.id,goods_id:0,rec_id:this.rec_id,page:this.page,size:this.size,lat:this.getRegionData.postion?this.getRegionData.postion.lat:"",lng:this.getRegionData.postion?this.getRegionData.postion.lng:""}:{province_id:this.regionOptionDate.province.id,city_id:this.regionOptionDate.city.id,district_id:this.regionOptionDate.district.id,street_id:this.regionOptionDate.street.id,goods_id:this.$route.query.id,spec_arr:this.$route.query.attr_id,num:this.$route.query.num,page:this.page,size:this.size,lat:this.getRegionData.postion?this.getRegionData.postion.lat:"",lng:this.getRegionData.postion?this.getRegionData.postion.lng:""},this.storeList(t))},mounted:function(){this.dataTime=b["a"].formatDate(this.minDate)},computed:{isLogin:function(){return null!=localStorage.getItem("token")},regionSplicFormat:function(){return this.regionOptionDate.province.name+" "+this.regionOptionDate.city.name+" "+this.regionOptionDate.district.name}},methods:{storeList:function(t){var i=this;this.$http.post("".concat(window.ROOT_URL,"api/offline-store/list"),v.a.stringify(t)).then(function(t){var e=t.data;i.page>1?e.data.list.forEach(function(t){i.storeContent.push(t)}):i.storeContent=e.data.list,i.storeContent.forEach(function(t,e){0==e&&0!=t.is_stocks&&(i.store_id=t.id,i.ru_id=t.ru_id)}),i.mobile=e.data.phone?e.data.phone:""})},storeClick:function(t,i){0!=i?this.store_id=t:Object(c["a"])(this.$t("lang.understock"))},handelRegionShow:function(){this.store_id=0,this.regionShow=!this.regionShow},dataShow:function(){this.show=!0},onClose:function(){this.rec_id?this.$router.push({name:"cart"}):this.$router.push({name:"goods",params:{id:this.$route.query.id}})},onStorebtn:function(){var t=this;if(!this.checkMobile())return Object(c["a"])(this.$t("lang.mobile_not_null")),!1;if(""==this.dataTime)return Object(c["a"])(this.$t("lang.fill_in_arrival_time")),!1;if(0==this.store_id)return Object(c["a"])(this.$t("lang.fill_in_store")),!1;if(this.isLogin)this.rec_id?this.$http.post("".concat(window.ROOT_URL,"api/cart/offline/update"),v.a.stringify({rec_id:this.rec_id,store_id:this.store_id,store_mobile:this.mobile,take_time:this.dataTime,num:""})).then(function(i){var e=i.data;0==e.data.error?t.$router.push({name:"checkoutone",query:{stor:1,ru_id:t.ru_id,rec_type:12,store_id:t.store_id,isSingle:t.isSingle,rec_id:t.rec_id}}):Object(c["a"])(e.data.msg)}):this.$store.dispatch("setStoresCart",{goods_id:this.$route.query.id,store_id:this.store_id,num:this.$route.query.num,spec:this.$route.query.attr_id,store_mobile:this.mobile,take_time:this.dataTime,warehouse_id:"0",area_id:"0",parent_id:"0",quick:1,rec_type:12,parent:0}).then(function(i){1==i.data?t.$router.push({name:"checkoutone",query:{stor:1,ru_id:t.ru_id,rec_type:12,store_id:i.store_id,goods_id:t.$route.query.id,spec_arr:t.$route.query.attr_id,num:t.$route.query.num,isSingle:t.isSingle,rec_id:t.rec_id}}):1==i.data.error?Object(c["a"])(i.data.msg):Object(c["a"])(t.$t("lang.private_store_fail"))});else{var i=this.$t("lang.login_user_invalid");this.notLogin(i)}},dataConfirm:function(){this.dataTime=b["a"].formatDate(this.currentDate),this.show=!1},dataCancel:function(){this.show=!1},checkMobile:function(){var t=/^(\d{10})$/;return!!t.test(this.mobile)},mapRange:function(t,i){var e=this;this.$store.dispatch("setShopMap",{lat:t,lng:i}).then(function(t){"success"==t.status?window.location.href=t.data:Object(c["a"])(e.$t("lang.locate_failure"))})},notLogin:function(t){var i,e=this,n=window.location.href;i=this.rec_id?{rec_id:this.rec_id}:{id:this.$route.query.id,attr_id:this.$route.query.attr_id,num:this.$route.query.num},r["a"].confirm({message:t,className:"text-center"}).then(function(){e.$router.push({name:"login",query:{redirect:{name:"storeGoods",query:i,url:n}}})}).catch(function(){})},loadMore:function(){var t=this;setTimeout(function(){var i={};t.disabled=!0,t.page*t.size==t.storeContent.length&&(t.page++,i=t.rec_id?{province_id:t.regionOptionDate.province.id,city_id:t.regionOptionDate.city.id,district_id:t.regionOptionDate.district.id,street_id:t.regionOptionDate.street.id,goods_id:0,rec_id:t.rec_id,page:t.page,size:t.size,lat:t.getRegionData.postion?t.getRegionData.postion.lat:"",lng:t.getRegionData.postion?t.getRegionData.postion.lng:""}:{province_id:t.regionOptionDate.province.id,city_id:t.regionOptionDate.city.id,district_id:t.regionOptionDate.district.id,street_id:t.regionOptionDate.street.id,goods_id:t.$route.query.id,spec_arr:t.$route.query.attr_id,num:t.$route.query.num,page:t.page,size:t.size,lat:t.getRegionData.postion?t.getRegionData.postion.lat:"",lng:t.getRegionData.postion?t.getRegionData.postion.lng:""},t.storeList(i))},200)},locationMap:function(t){var i=t.address+t.stores_address;i=i.replace(/\s*/g,""),this.$http.get("".concat(window.ROOT_URL,"/api/misc/address2location"),{params:{address:i.replace(/\s*/g,"")}}).then(function(t){var e=t.data;if("success"==e.status){var n=e.data,o=n.lat+","+n.lng,s="https://mapapi.qq.com/web/mapComponents/locationCluster/v/index.html?type=1&keyword="+i+"&center="+o+"&radius=1000&key="+window.sTenKey+"&referer=myapp";window.location.href=s}else Object(c["a"])(e.message)})}},watch:{regionShow:function(){var t={};this.regionShow||(t=this.rec_id?{province_id:this.regionOptionDate.province.id,city_id:this.regionOptionDate.city.id,district_id:this.regionOptionDate.district.id,street_id:this.regionOptionDate.street.id,goods_id:0,rec_id:this.rec_id,page:1,size:10,lat:this.getRegionData.postion?this.getRegionData.postion.lat:"",lng:this.getRegionData.postion?this.getRegionData.postion.lng:""}:{province_id:this.regionOptionDate.province.id,city_id:this.regionOptionDate.city.id,district_id:this.regionOptionDate.district.id,street_id:this.regionOptionDate.street.id,goods_id:this.$route.query.id,spec_arr:this.$route.query.attr_id,num:this.$route.query.num,page:1,size:10,lat:this.getRegionData.postion?this.getRegionData.postion.lat:"",lng:this.getRegionData.postion?this.getRegionData.postion.lng:""},this.storeList(t))},storeContent:function(){this.dscLoading=!1,this.page*this.size==this.storeContent.length?(this.disabled=!1,this.loading=!0):(this.loading=!1,this.footerCont=this.page>1)}}},D=y,k=(e("b183"),e("2877")),$=Object(k["a"])(D,o,s,!1,null,null,null);$.options.__file="Goods.vue";i["default"]=$.exports},"34e9":function(t,i,e){"use strict";var n=e("2638"),o=e.n(n),s=e("a142"),a=e("ba31"),r=Object(s["j"])("cell-group"),c=r[0],l=r[1];function d(t,i,e,n){var s=t("div",o()([{class:[l(),{"van-hairline--top-bottom":i.border}]},Object(a["b"])(n,!0)]),[e["default"]&&e["default"]()]);return i.title?t("div",[t("div",{class:l("title")},[i.title]),s]):s}d.props={title:String,border:{type:Boolean,default:!0}},i["a"]=c(d)},"565f":function(t,i,e){"use strict";var n=e("2638"),o=e.n(n),s=e("c31d"),a=e("ad06"),r=e("7744"),c=e("dfaf"),l=e("a142"),d=e("db78"),u=e("023d"),h=e("90c6"),g=Object(l["j"])("field"),p=g[0],f=g[1];i["a"]=p({inheritAttrs:!1,props:Object(s["a"])({},c["a"],{error:Boolean,leftIcon:String,rightIcon:String,readonly:Boolean,clearable:Boolean,labelWidth:[String,Number],labelAlign:String,inputAlign:String,onIconClick:Function,autosize:[Boolean,Object],errorMessage:String,errorMessageAlign:String,type:{type:String,default:"text"}}),data:function(){return{focused:!1}},watch:{value:function(){this.$nextTick(this.adjustSize)}},mounted:function(){this.format(),this.$nextTick(this.adjustSize)},computed:{showClear:function(){return this.clearable&&this.focused&&""!==this.value&&Object(l["c"])(this.value)&&!this.readonly},listeners:function(){return Object(s["a"])({},this.$listeners,{input:this.onInput,keypress:this.onKeypress,focus:this.onFocus,blur:this.onBlur})},labelStyle:function(){var t=this.labelWidth;if(t){var i=Object(h["a"])(String(t))?t+"px":t;return{maxWidth:i,minWidth:i}}}},methods:{focus:function(){this.$refs.input&&this.$refs.input.focus()},blur:function(){this.$refs.input&&this.$refs.input.blur()},format:function(t){void 0===t&&(t=this.$refs.input);var i=t,e=i.value,n=this.$attrs.maxlength;return"number"===this.type&&Object(l["c"])(n)&&e.length>n&&(e=e.slice(0,n),t.value=e),e},onInput:function(t){this.$emit("input",this.format(t.target))},onFocus:function(t){this.focused=!0,this.$emit("focus",t),this.readonly&&this.blur()},onBlur:function(t){this.focused=!1,this.$emit("blur",t),Object(l["d"])()&&window.scrollTo(0,Object(u["b"])())},onClickLeftIcon:function(){this.$emit("click-left-icon")},onClickRightIcon:function(){this.$emit("click-icon"),this.$emit("click-right-icon"),this.onIconClick&&this.onIconClick()},onClear:function(t){Object(d["c"])(t),this.$emit("input",""),this.$emit("clear")},onKeypress:function(t){if("number"===this.type){var i=t.keyCode,e=-1===String(this.value).indexOf("."),n=i>=48&&i<=57||46===i&&e||45===i;n||Object(d["c"])(t)}"search"===this.type&&13===t.keyCode&&this.blur(),this.$emit("keypress",t)},adjustSize:function(){var t=this.$refs.input;if("textarea"===this.type&&this.autosize&&t){t.style.height="auto";var i=t.scrollHeight;if(Object(l["f"])(this.autosize)){var e=this.autosize,n=e.maxHeight,o=e.minHeight;n&&(i=Math.min(i,n)),o&&(i=Math.max(i,o))}i&&(t.style.height=i+"px")}},renderInput:function(){var t=this.$createElement,i={ref:"input",class:f("control",this.inputAlign),domProps:{value:this.value},attrs:Object(s["a"])({},this.$attrs,{readonly:this.readonly}),on:this.listeners};return"textarea"===this.type?t("textarea",o()([{},i])):t("input",o()([{attrs:{type:this.type}},i]))},renderLeftIcon:function(){var t=this.$createElement,i=this.slots("left-icon")||this.leftIcon;if(i)return t("div",{class:f("left-icon"),on:{click:this.onClickLeftIcon}},[this.slots("left-icon")||t(a["a"],{attrs:{name:this.leftIcon}})])},renderRightIcon:function(){var t=this.$createElement,i=this.slots,e=i("right-icon")||i("icon")||this.rightIcon||this.icon;if(e)return t("div",{class:f("right-icon"),on:{click:this.onClickRightIcon}},[i("right-icon")||i("icon")||t(a["a"],{attrs:{name:this.rightIcon||this.icon}})])}},render:function(t){var i,e=this.slots,n=this.labelAlign,o={icon:this.renderLeftIcon};return e("label")&&(o.title=function(){return e("label")}),t(r["a"],{attrs:{icon:this.leftIcon,size:this.size,title:this.label,center:this.center,border:this.border,isLink:this.isLink,required:this.required,titleStyle:this.labelStyle,titleClass:f("label",n)},class:f((i={error:this.error,disabled:this.$attrs.disabled},i["label-"+n]=n,i["min-height"]="textarea"===this.type&&!this.autosize,i)),scopedSlots:o},[t("div",{class:f("body")},[this.renderInput(),this.showClear&&t(a["a"],{attrs:{name:"clear"},class:f("clear"),on:{touchstart:this.onClear}}),this.renderRightIcon(),e("button")&&t("div",{class:f("button")},[e("button")])]),this.errorMessage&&t("div",{class:f("error-message",this.errorMessageAlign)},[this.errorMessage])])}})},6680:function(t,i,e){"use strict";var n=e("ff5e"),o=e.n(n);o.a},"66b9":function(t,i,e){"use strict";e("68ef")},"7e93":function(t,i,e){},"90c6":function(t,i,e){"use strict";function n(t){return/^\d+$/.test(t)}e.d(i,"a",function(){return n})},b183:function(t,i,e){"use strict";var n=e("7e93"),o=e.n(n);o.a},be7f:function(t,i,e){"use strict";e("68ef"),e("1146")},f27a:function(t,i,e){"use strict";e("e7e5");var n=e("d399"),o=(e("4917"),e("3b2b"),e("a481"),e("09d6")),s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticStyle:{height:"100%"}},["currency"==t.regionType?[e("van-popup",{attrs:{position:"bottom","close-on-click-overlay":!1},on:{"click-overlay":t.overlay},model:{value:t.display,callback:function(i){t.display=i},expression:"display"}},[e("div",{staticClass:"mod-address-main"},[e("div",{staticClass:"mod-address-head"},[e("div",{staticClass:"mod-address-head-tit box-flex"},[t._v(t._s(t.$t("lang.region_alt")))]),e("i",{staticClass:"iconfont icon-close",on:{click:t.onRegionClose}})]),e("div",{staticClass:"mod-address-body"},[e("ul",{staticClass:"ulAddrTab"},[e("li",{class:{cur:t.regionLevel-1==1},on:{click:function(i){t.tabClickRegion(1,1)}}},[e("span",[t._v(t._s(t.regionOption.province.name?t.regionOption.province.name:t.$t("lang.select")))])]),t.regionOption.province.name?e("li",{class:{cur:t.regionLevel-1==2},on:{click:function(i){t.tabClickRegion(t.regionOption.province.id,2)}}},[e("span",[t._v(t._s(t.regionOption.city.name?t.regionOption.city.name:t.$t("lang.select")))])]):t._e(),t.regionOption.city.name?e("li",{class:{cur:t.regionLevel-1==3},on:{click:function(i){t.tabClickRegion(t.regionOption.city.id,3)}}},[e("span",[t._v(t._s(t.regionOption.district.name?t.regionOption.district.name:t.$t("lang.select")))])]):t._e(),t.regionOption.district.name&&5==t.isLevel?e("li",{class:{cur:t.regionLevel-1==4},on:{click:function(i){t.tabClickRegion(t.regionOption.district.id,4)}}},[e("span",[t._v(t._s(t.regionOption.street.name?t.regionOption.street.name:t.$t("lang.select")))])]):t._e()]),2==t.regionLevel?e("ul",{staticClass:"ulAddrList"},t._l(t.regionDate.provinceData,function(i,n){return e("li",{key:n,class:{active:t.regionOption.province.id==i.id},on:{click:function(e){t.childRegion(i.id,i.name,i.level)}}},[t._v(t._s(i.name))])})):t._e(),3==t.regionLevel?e("ul",{staticClass:"ulAddrList"},t._l(t.regionDate.cityDate,function(i,n){return e("li",{key:n,class:{active:t.regionOption.city.id==i.id},on:{click:function(e){t.childRegion(i.id,i.name,i.level)}}},[t._v(t._s(i.name))])})):t._e(),4==t.regionLevel?e("ul",{staticClass:"ulAddrList"},t._l(t.regionDate.districtDate,function(i,n){return e("li",{key:n,class:{active:t.regionOption.district.id==i.id},on:{click:function(e){t.childRegion(i.id,i.name,i.level)}}},[t._v(t._s(i.name))])})):t._e(),5==t.regionLevel?e("ul",{staticClass:"ulAddrList"},t._l(t.regionDate.streetDate,function(i,n){return e("li",{key:n,class:{active:t.regionOption.street.id==i.id},on:{click:function(e){t.childRegion(i.id,i.name,i.level)}}},[t._v(t._s(i.name))])})):t._e()])])])]:t._e(),"goods"==t.regionType?[e("div",{staticClass:"mod-address-main mod-address-main-goods"},[e("div",{staticClass:"mod-address-body"},[e("ul",{staticClass:"ulAddrTab"},[e("li",{class:{cur:t.regionLevel-1==1},on:{click:function(i){t.tabClickRegion(1,1)}}},[e("span",[t._v(t._s(t.regionOption.province.name?t.regionOption.province.name:t.$t("lang.select")))])]),t.regionOption.province.name?e("li",{class:{cur:t.regionLevel-1==2},on:{click:function(i){t.tabClickRegion(t.regionOption.province.id,2)}}},[e("span",[t._v(t._s(t.regionOption.city.name?t.regionOption.city.name:t.$t("lang.select")))])]):t._e(),t.regionOption.city.name?e("li",{class:{cur:t.regionLevel-1==3},on:{click:function(i){t.tabClickRegion(t.regionOption.city.id,3)}}},[e("span",[t._v(t._s(t.regionOption.district.name?t.regionOption.district.name:t.$t("lang.select")))])]):t._e(),t.regionOption.district.name&&5==t.isLevel?e("li",{class:{cur:t.regionLevel-1==4},on:{click:function(i){t.tabClickRegion(t.regionOption.district.id,4)}}},[e("span",[t._v(t._s(t.regionOption.street.name?t.regionOption.street.name:t.$t("lang.select")))])]):t._e()]),2==t.regionLevel?e("ul",{staticClass:"ulAddrList"},t._l(t.regionDate.provinceData,function(i,n){return e("li",{key:n,class:{active:t.regionOption.province.id==i.id},on:{click:function(e){t.childRegion(i.id,i.name,i.level)}}},[t._v(t._s(i.name))])})):t._e(),3==t.regionLevel?e("ul",{staticClass:"ulAddrList"},t._l(t.regionDate.cityDate,function(i,n){return e("li",{key:n,class:{active:t.regionOption.city.id==i.id},on:{click:function(e){t.childRegion(i.id,i.name,i.level)}}},[t._v(t._s(i.name))])})):t._e(),4==t.regionLevel?e("ul",{staticClass:"ulAddrList"},t._l(t.regionDate.districtDate,function(i,n){return e("li",{key:n,class:{active:t.regionOption.district.id==i.id},on:{click:function(e){t.childRegion(i.id,i.name,i.level)}}},[t._v(t._s(i.name))])})):t._e(),5==t.regionLevel?e("ul",{staticClass:"ulAddrList"},t._l(t.regionDate.streetDate,function(i,n){return e("li",{key:n,class:{active:t.regionOption.street.id==i.id},on:{click:function(e){t.childRegion(i.id,i.name,i.level)}}},[t._v(t._s(i.name))])})):t._e()])])]:t._e()],2)},a=[],r=(e("96cf"),e("cb0c")),c=(e("ac6a"),e("88d8")),l=(e("7f7f"),e("8a58"),e("e41f")),d=(e("c5f6"),e("2f62"),{props:{display:{type:Boolean,default:!1},regionOptionDate:{type:Object,default:""},isPrice:{type:Number,default:0},isLevel:{type:Number,default:5},isStorage:{type:Boolean,default:!0},regionType:{type:String,default:"currency"}},data:function(){return{regionOption:this.regionOptionDate,arr:["province","city","district","street"],lat:"",lng:""}},components:Object(c["a"])({},l["a"].name,l["a"]),created:function(){var t={region:1,level:1};this.regionOption.district.id!=this.regionId&&(5==this.isLevel&&this.regionOption.district.id&&(t.region=this.regionOption.district.id,t.level=this.isLevel-1),this.$store.dispatch("setRegion",t))},computed:{regionId:function(){return this.$store.state.region.id},regionLevel:function(){return this.isLevel>this.$store.state.region.level?this.$store.state.region.level:this.isLevel},regionDate:function(){return this.$store.state.region.data},status:{get:function(){return this.$store.state.region.status},set:function(t){this.$store.state.region.status=t}},userRegion:function(){return this.$store.state.userRegion}},methods:{onRegionClose:function(){this.$emit("updateDisplay",!1)},childRegion:function(t,i,e){var n=this;switch(this.isLevel==e?this.status=!0:this.status=!1,e){case 2:this.regionOption.province.id=t,this.regionOption.province.name=i;break;case 3:this.regionOption.city.id=t,this.regionOption.city.name=i;break;case 4:this.regionOption.district.id=t,this.regionOption.district.name=i;break;case 5:this.regionOption.street.id=t,this.regionOption.street.name=i;break;default:break}this.arr.forEach(function(t,i){i+1>e&&(n.regionOption[t].id="",n.regionOption[t].name="")}),this.$store.dispatch("setRegion",{region:t,level:e})},tabClickRegion:function(t,i){var e=this;this.arr.forEach(function(t,n){n+1>i&&(e.regionOption[t].id="",e.regionOption[t].name="")}),this.$store.dispatch("setRegion",{region:t,level:i})},overlay:function(){this.$emit("updateDisplay",!1)},locationMap:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(i){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.$http.get("".concat(window.ROOT_URL,"/api/misc/address2location"),{params:{address:i.replace(/\s*/g,"")}}).then(function(t){var i=t.data;if("success"==i.status){var n=i.data,o={lat:n.lat,lng:n.lng};e.regionOption.postion=o,e.isStorage&&localStorage.setItem("regionOption",JSON.stringify(e.regionOption)),e.$emit("updateRegionDate",e.regionOption),e.$emit("updateDisplay",!1),e.$emit("update:isPrice",1)}else Toast(i.message)});case 1:case"end":return t.stop()}},t,this)}));return function(i){return t.apply(this,arguments)}}()},watch:{status:function(){1==this.status&&(this.regionOption.regionSplic=this.regionOption.province.name+" "+this.regionOption.city.name+" "+this.regionOption.district.name+" "+this.regionOption.street.name,this.locationMap(this.regionOption.regionSplic))}}}),u=d,h=(e("6680"),e("2877")),g=Object(h["a"])(u,s,a,!1,null,"6b53e9da",null);g.options.__file="Region.vue";var p=g.exports;i["a"]={mixins:[o["a"]],components:{Region:p},data:function(){return{regionShow:!1,regionLoading:!1,regionOptionDate:{province:{id:"",name:""},city:{id:"",name:""},district:{id:"",name:""},street:{id:"",name:""},postion:{lat:"",lng:""},regionSplic:""},docmHeight:0,showHeight:0,isResize:!1,oauthHidden:!0,isGuide:!1,configData:JSON.parse(sessionStorage.getItem("configData")),swipe_height:document.documentElement.clientWidth?document.documentElement.clientWidth:375}},computed:{decimalLength:function(){var t=2;if(this.configData)switch(this.configData.price_format){case"0":t=2;break;case"1":t=2;break;case"2":t=1;break;case"3":t=0;break;case"4":t=1;break;case"5":t=0;break}return t},currencyFormat:function(){return this.configData.currency_format?this.configData.currency_format.replace("%s",""):"₸"},mobile_kefu:function(){return!!this.configData&&this.configData.mobile_kefu},getRegionData:function(){var t=JSON.parse(localStorage.getItem("regionOption")),i=JSON.parse(localStorage.getItem("userRegion"));return t||i},isWeiXin:function(){return o["a"].isWeixinBrowser()},userRegion:function(){return this.$store.state.userRegion},regionSplic:{get:function(){return this.regionOptionDate.regionSplic?this.regionOptionDate.regionSplic:this.$t("lang.select")},set:function(t){this.regionOptionDate=t}}},methods:{updateRadioSel:function(t,i){this.$store.dispatch("updateRadioSel",{modulesIndex:this.modulesIndex,sName:t,newValue:i})},updateText:function(t){isNaN(t.listIndex)||(t.modulesIndex=this.modulesIndex),this.$store.dispatch("updateText",t)},removeList:function(t){this.$store.dispatch("removeList",{modulesIndex:this.modulesIndex,listIndex:t})},addList:function(t){if("imgList"==t){localStorage.getItem("aPicture")&&localStorage.removeItem("aPicture");var i={bShowDialog:!0,currentPage:1,pageSize:12,oneOrMore:"more",bAlbum:!0,modulesIndex:this.modulesIndex,maxLength:this.maxLength,residueLength:this.maxLength-this.onlineData.list.length};this.$store.dispatch("setDialogPicture",i)}else{var e={modulesIndex:this.modulesIndex,url:"",urlCatetory:"",urlName:"",desc:""};this.$store.dispatch("addList",e)}},updateTitleText:function(t,i){var e={modulesIndex:this.modulesIndex,dataNext:"allValue",attrName:t,newValue:i};this.updateText(e)},onChat:function(t,i,e){var s=this;this.$store.dispatch("setChat",{goods_id:t,shop_id:i||0,type:e}).then(function(t){if("success"==t.status){var i=t.data.url;if(i){var e=RegExp(/wpa.qq.com/),a=e.test(i),r=navigator.userAgent,c=!!r.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);if(a){var l=i.indexOf("&uin="),d=i.indexOf("&site="),u=i.substring(l+5,d);c?o["a"].isWeixinBrowser()?window.location.href=i:window.location.href="mqq://im/chat?chat_type=wpa&uin="+u+"&version=1&src_type=web":window.location.href=i}else window.location.href=i}else Object(n["a"])(s.$t("lang.kefu_set_notic"))}else Object(n["a"])(t.errors.message)})},onresize:function(){var t=this;window.onresize=function(){return function(){t.docmHeight=document.documentElement.clientHeight,t.showHeight=document.body.clientHeight}()}},clickGuide:function(){this.isGuide=!1},handelRegionShow:function(){this.regionShow=!this.regionShow},getRegionShow:function(t){this.regionShow=t},getRegionOptionDate:function(t){this.regionOptionDate=t}}}},ff5e:function(t,i,e){}}]);