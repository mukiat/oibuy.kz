(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ab8c"],{"10f5":function(t,e,i){"use strict";var s=i("ac0a"),n=i.n(s);n.a},2662:function(t,e,i){},"28a2":function(t,e,i){"use strict";var s=i("c31d"),n=i("2b0e"),a=i("2638"),o=i.n(a),c=i("a142"),r=i("db78"),l=i("6605"),h=i("3875"),u=i("5596"),d=i("2bb1"),f=Object(c["j"])("image-preview"),m=f[0],v=f[1];function _(t){return Math.sqrt(Math.abs((t[0].clientX-t[1].clientX)*(t[0].clientY-t[1].clientY)))}var p,g=m({mixins:[l["a"],h["a"]],props:{images:Array,className:null,lazyLoad:Boolean,asyncClose:Boolean,startPosition:Number,showIndicators:Boolean,loop:{type:Boolean,default:!0},overlay:{type:Boolean,default:!0},showIndex:{type:Boolean,default:!0},minZoom:{type:Number,default:1/3},maxZoom:{type:Number,default:3},overlayClass:{type:String,default:"van-image-preview__overlay"},closeOnClickOverlay:{type:Boolean,default:!0}},data:function(){return{scale:1,moveX:0,moveY:0,moving:!1,zooming:!1,active:0}},computed:{imageStyle:function(){var t=this.scale,e={transition:this.zooming||this.moving?"":".3s all"};return 1!==t&&(e.transform="scale3d("+t+", "+t+", 1) translate("+this.moveX/t+"px, "+this.moveY/t+"px)"),e}},watch:{value:function(){this.active=this.startPosition},startPosition:function(t){this.active=t}},methods:{onWrapperTouchStart:function(){this.touchStartTime=new Date},onWrapperTouchEnd:function(t){Object(r["c"])(t);var e=new Date-this.touchStartTime,i=this.$refs.swipe||{},s=i.offsetX,n=void 0===s?0:s,a=i.offsetY,o=void 0===a?0:a;if(e<300&&n<10&&o<10){var c=this.active;this.resetScale(),this.$emit("close",{index:c,url:this.images[c]}),this.asyncClose||this.$emit("input",!1)}},startMove:function(t){var e=t.currentTarget,i=e.getBoundingClientRect(),s=window.innerWidth,n=window.innerHeight;this.touchStart(t),this.moving=!0,this.startMoveX=this.moveX,this.startMoveY=this.moveY,this.maxMoveX=Math.max(0,(i.width-s)/2),this.maxMoveY=Math.max(0,(i.height-n)/2)},startZoom:function(t){this.moving=!1,this.zooming=!0,this.startScale=this.scale,this.startDistance=_(t.touches)},onTouchStart:function(t){var e=t.touches,i=this.$refs.swipe||{},s=i.offsetX,n=void 0===s?0:s;1===e.length&&1!==this.scale?this.startMove(t):2!==e.length||n||this.startZoom(t)},onTouchMove:function(t){var e=t.touches;if((this.moving||this.zooming)&&Object(r["c"])(t,!0),this.moving){this.touchMove(t);var i=this.deltaX+this.startMoveX,s=this.deltaY+this.startMoveY;this.moveX=Object(c["i"])(i,-this.maxMoveX,this.maxMoveX),this.moveY=Object(c["i"])(s,-this.maxMoveY,this.maxMoveY)}if(this.zooming&&2===e.length){var n=_(e),a=this.startScale*n/this.startDistance;this.scale=Object(c["i"])(a,this.minZoom,this.maxZoom)}},onTouchEnd:function(t){if(this.moving||this.zooming){var e=!0;this.moving&&this.startMoveX===this.moveX&&this.startMoveY===this.moveY&&(e=!1),t.touches.length||(this.moving=!1,this.zooming=!1,this.startMoveX=0,this.startMoveY=0,this.startScale=1,this.scale<1&&this.resetScale()),e&&Object(r["c"])(t,!0)}},onChange:function(t){this.resetScale(),this.active=t,this.$emit("change",t)},resetScale:function(){this.scale=1,this.moveX=0,this.moveY=0}},render:function(t){var e=this;if(this.value){var i=this.active,s=this.images,n=this.showIndex&&t("div",{class:v("index")},[this.slots("index")||i+1+"/"+s.length]),a=t(u["a"],{ref:"swipe",attrs:{loop:this.loop,indicatorColor:"white",initialSwipe:this.startPosition,showIndicators:this.showIndicators},on:{change:this.onChange}},[s.map(function(s,n){var a={class:v("image"),style:n===i?e.imageStyle:null,on:{touchstart:e.onTouchStart,touchmove:e.onTouchMove,touchend:e.onTouchEnd,touchcancel:e.onTouchEnd}};return t(d["a"],[e.lazyLoad?t("img",o()([{directives:[{name:"lazy",value:s}]},a])):t("img",o()([{attrs:{src:s}},a]))])})]);return t("transition",{attrs:{name:"van-fade"}},[t("div",{class:[v(),this.className],on:{touchstart:this.onWrapperTouchStart,touchend:this.onWrapperTouchEnd,touchcancel:this.onWrapperTouchEnd}},[n,a])])}}}),b={images:[],loop:!0,value:!0,minZoom:1/3,maxZoom:3,className:"",lazyLoad:!1,showIndex:!0,asyncClose:!1,startPosition:0,showIndicators:!1},w=function(){p=new(n["default"].extend(g))({el:document.createElement("div")}),document.body.appendChild(p.$el)},y=function(t,e){if(void 0===e&&(e=0),!c["g"]){p||w();var i=Array.isArray(t)?{images:t,startPosition:e}:t;return Object(s["a"])(p,b,i),p.$once("input",function(t){p.value=t}),i.onClose&&p.$once("close",i.onClose),p}};y.install=function(){n["default"].use(g)};e["a"]=y},"2bb1":function(t,e,i){"use strict";var s=i("c31d"),n=i("a142"),a=Object(n["j"])("swipe-item"),o=a[0],c=a[1];e["a"]=o({data:function(){return{offset:0}},beforeCreate:function(){this.$parent.swipes.push(this)},destroyed:function(){this.$parent.swipes.splice(this.$parent.swipes.indexOf(this),1)},render:function(t){var e=this.$parent,i=e.vertical,n=e.computedWidth,a=e.computedHeight,o={width:n+"px",height:i?a+"px":"100%",transform:"translate"+(i?"Y":"X")+"("+this.offset+"px)"};return t("div",{class:c(),style:o,on:Object(s["a"])({},this.$listeners)},[this.slots()])}})},"42d1":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.dscLoading?i("div",{staticClass:"cloading",style:{height:t.clientHeight+"px"},on:{touchmove:function(t){t.preventDefault()},mousewheel:function(t){t.preventDefault()}}},[i("div",{staticClass:"cloading-mask"}),t._t("text",[t._m(0)])],2):t._e()},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cloading-main"},[s("img",{attrs:{src:i("f8b2")}})])}],a=i("88d8"),o=(i("7f7f"),i("ac1e"),i("543e")),c={props:["dscLoading"],data:function(){return{clientHeight:""}},components:Object(a["a"])({},o["a"].name,o["a"]),created:function(){},mounted:function(){this.clientHeight=document.documentElement.clientHeight},methods:{}},r=c,l=(i("a637"),i("2877")),h=Object(l["a"])(r,s,n,!1,null,"9a0469b6",null);h.options.__file="DscLoading.vue";e["a"]=h.exports},4662:function(t,e,i){"use strict";i("68ef"),i("4d75"),i("8270"),i("786d"),i("504b")},"4b0a":function(t,e,i){"use strict";i("68ef"),i("786d")},"504b":function(t,e,i){},5118:function(t,e,i){(function(t){var s="undefined"!==typeof t&&t||"undefined"!==typeof self&&self||window,n=Function.prototype.apply;function a(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new a(n.call(setTimeout,s,arguments),clearTimeout)},e.setInterval=function(){return new a(n.call(setInterval,s,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(s,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},i("6017"),e.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof t&&t.clearImmediate||this&&this.clearImmediate}).call(this,i("c8ba"))},5487:function(t,e,i){"use strict";var s=i("db78"),n=i("023d"),a="@@Waterfall",o=300;function c(){var t=this.el,e=this.scrollEventTarget;if(!this.disabled){var i=Object(n["d"])(e),s=Object(n["e"])(e),a=i+s;if(s){var o=!1;if(t===e)o=e.scrollHeight-a<this.offset;else{var c=Object(n["a"])(t)-Object(n["a"])(e)+Object(n["e"])(t);o=c-s<this.offset}o&&this.cb.lower&&this.cb.lower({target:e,top:i});var r=!1;if(t===e)r=i<this.offset;else{var l=Object(n["a"])(t)-Object(n["a"])(e);r=l+this.offset>0}r&&this.cb.upper&&this.cb.upper({target:e,top:i})}}}function r(){var t=this;if(!this.el[a].binded){this.el[a].binded=!0,this.scrollEventListener=c.bind(this),this.scrollEventTarget=Object(n["c"])(this.el);var e=this.el.getAttribute("waterfall-disabled"),i=!1;e&&(this.vm.$watch(e,function(e){t.disabled=e,t.scrollEventListener()}),i=Boolean(this.vm[e])),this.disabled=i;var r=this.el.getAttribute("waterfall-offset");this.offset=Number(r)||o,Object(s["b"])(this.scrollEventTarget,"scroll",this.scrollEventListener,!0),this.scrollEventListener()}}function l(t){var e=t[a];e.vm.$nextTick(function(){r.call(t[a])})}function h(t){var e=t[a];e.vm._isMounted?l(t):e.vm.$on("hook:mounted",function(){l(t)})}var u=function(t){return{bind:function(e,i,s){e[a]||(e[a]={el:e,vm:s.context,cb:{}}),e[a].cb[t]=i.value,h(e)},update:function(t){var e=t[a];e.scrollEventListener&&e.scrollEventListener()},unbind:function(t){var e=t[a];e.scrollEventTarget&&Object(s["a"])(e.scrollEventTarget,"scroll",e.scrollEventListener)}}};u.install=function(t){t.directive("WaterfallLower",u("lower")),t.directive("WaterfallUpper",u("upper"))};e["a"]=u},5596:function(t,e,i){"use strict";var s=i("a142"),n=i("db78"),a=i("3875"),o=Object(s["j"])("swipe"),c=o[0],r=o[1];e["a"]=c({mixins:[a["a"]],props:{width:Number,height:Number,autoplay:Number,vertical:Boolean,initialSwipe:Number,indicatorColor:String,loop:{type:Boolean,default:!0},touchable:{type:Boolean,default:!0},showIndicators:{type:Boolean,default:!0},duration:{type:Number,default:500}},data:function(){return{computedWidth:0,computedHeight:0,offset:0,active:0,deltaX:0,deltaY:0,swipes:[],swiping:!1}},mounted:function(){this.initialize(),this.$isServer||Object(n["b"])(window,"resize",this.onResize,!0)},activated:function(){this.rendered&&this.initialize(),this.rendered=!0},destroyed:function(){this.clear(),this.$isServer||Object(n["a"])(window,"resize",this.onResize,!0)},watch:{swipes:function(){this.initialize()},initialSwipe:function(){this.initialize()},autoplay:function(t){t?this.autoPlay():this.clear()}},computed:{count:function(){return this.swipes.length},delta:function(){return this.vertical?this.deltaY:this.deltaX},size:function(){return this[this.vertical?"computedHeight":"computedWidth"]},trackSize:function(){return this.count*this.size},activeIndicator:function(){return(this.active+this.count)%this.count},isCorrectDirection:function(){var t=this.vertical?"vertical":"horizontal";return this.direction===t},trackStyle:function(){var t,e=this.vertical?"height":"width",i=this.vertical?"width":"height";return t={},t[e]=this.trackSize+"px",t[i]=this[i]?this[i]+"px":"",t.transitionDuration=(this.swiping?0:this.duration)+"ms",t.transform="translate"+(this.vertical?"Y":"X")+"("+this.offset+"px)",t},indicatorStyle:function(){return{backgroundColor:this.indicatorColor}}},methods:{initialize:function(t){if(void 0===t&&(t=this.initialSwipe),clearTimeout(this.timer),this.$el){var e=this.$el.getBoundingClientRect();this.computedWidth=this.width||e.width,this.computedHeight=this.height||e.height}this.swiping=!0,this.active=t,this.offset=this.count>1?-this.size*this.active:0,this.swipes.forEach(function(t){t.offset=0}),this.autoPlay()},onResize:function(){this.initialize(this.activeIndicator)},onTouchStart:function(t){this.touchable&&(this.clear(),this.swiping=!0,this.touchStart(t),this.correctPosition())},onTouchMove:function(t){this.touchable&&this.swiping&&(this.touchMove(t),this.isCorrectDirection&&(Object(n["c"])(t,!0),this.move({offset:Math.min(Math.max(this.delta,-this.size),this.size)})))},onTouchEnd:function(){if(this.touchable&&this.swiping){if(this.delta&&this.isCorrectDirection){var t=this.vertical?this.offsetY:this.offsetX;this.move({pace:t>0?this.delta>0?-1:1:0,emitChange:!0})}this.swiping=!1,this.autoPlay()}},move:function(t){var e=t.pace,i=void 0===e?0:e,s=t.offset,n=void 0===s?0:s,a=t.emitChange,o=this.delta,c=this.active,r=this.count,l=this.swipes,h=this.trackSize,u=0===c,d=c===r-1,f=!this.loop&&(u&&(n>0||i<0)||d&&(n<0||i>0));f||r<=1||(l[0]&&(l[0].offset=d&&(o<0||i>0)?h:0),l[r-1]&&(l[r-1].offset=u&&(o>0||i<0)?-h:0),i&&c+i>=-1&&c+i<=r&&(this.active+=i,a&&this.$emit("change",this.activeIndicator)),this.offset=Math.round(n-this.active*this.size))},swipeTo:function(t){var e=this;this.swiping=!0,this.resetTouchStatus(),this.correctPosition(),setTimeout(function(){e.swiping=!1,e.move({pace:t%e.count-e.active,emitChange:!0})},30)},correctPosition:function(){this.active<=-1&&this.move({pace:this.count}),this.active>=this.count&&this.move({pace:-this.count})},clear:function(){clearTimeout(this.timer)},autoPlay:function(){var t=this,e=this.autoplay;e&&this.count>1&&(this.clear(),this.timer=setTimeout(function(){t.swiping=!0,t.resetTouchStatus(),t.correctPosition(),setTimeout(function(){t.swiping=!1,t.move({pace:1,emitChange:!0}),t.autoPlay()},30)},e))}},render:function(t){var e=this,i=this.count,s=this.activeIndicator,n=this.slots("indicator")||this.showIndicators&&i>1&&t("div",{class:r("indicators",{vertical:this.vertical})},[Array.apply(void 0,Array(i)).map(function(i,n){return t("i",{class:r("indicator",{active:n===s}),style:n===s?e.indicatorStyle:null})})]);return t("div",{class:r()},[t("div",{ref:"track",style:this.trackStyle,class:r("track"),on:{touchstart:this.onTouchStart,touchmove:this.onTouchMove,touchend:this.onTouchEnd,touchcancel:this.onTouchEnd}},[this.slots()]),n])}})},6017:function(t,e,i){(function(t,e){(function(t,i){"use strict";if(!t.setImmediate){var s,n=1,a={},o=!1,c=t.document,r=Object.getPrototypeOf&&Object.getPrototypeOf(t);r=r&&r.setTimeout?r:t,"[object process]"==={}.toString.call(t.process)?f():m()?v():t.MessageChannel?_():c&&"onreadystatechange"in c.createElement("script")?p():g(),r.setImmediate=l,r.clearImmediate=h}function l(t){"function"!==typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),i=0;i<e.length;i++)e[i]=arguments[i+1];var o={callback:t,args:e};return a[n]=o,s(n),n++}function h(t){delete a[t]}function u(t){var e=t.callback,s=t.args;switch(s.length){case 0:e();break;case 1:e(s[0]);break;case 2:e(s[0],s[1]);break;case 3:e(s[0],s[1],s[2]);break;default:e.apply(i,s);break}}function d(t){if(o)setTimeout(d,0,t);else{var e=a[t];if(e){o=!0;try{u(e)}finally{h(t),o=!1}}}}function f(){s=function(t){e.nextTick(function(){d(t)})}}function m(){if(t.postMessage&&!t.importScripts){var e=!0,i=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=i,e}}function v(){var e="setImmediate$"+Math.random()+"$",i=function(i){i.source===t&&"string"===typeof i.data&&0===i.data.indexOf(e)&&d(+i.data.slice(e.length))};t.addEventListener?t.addEventListener("message",i,!1):t.attachEvent("onmessage",i),s=function(i){t.postMessage(e+i,"*")}}function _(){var t=new MessageChannel;t.port1.onmessage=function(t){var e=t.data;d(e)},s=function(e){t.port2.postMessage(e)}}function p(){var t=c.documentElement;s=function(e){var i=c.createElement("script");i.onreadystatechange=function(){d(e),i.onreadystatechange=null,t.removeChild(i),i=null},t.appendChild(i)}}function g(){s=function(t){setTimeout(d,0,t)}}})("undefined"===typeof self?"undefined"===typeof t?this:t:self)}).call(this,i("c8ba"),i("4362"))},7844:function(t,e,i){"use strict";i("68ef"),i("8270")},"786d":function(t,e,i){},8270:function(t,e,i){},a637:function(t,e,i){"use strict";var s=i("2662"),n=i.n(s);n.a},ac0a:function(t,e,i){},ac1e:function(t,e,i){"use strict";i("68ef")},d49c:function(t,e,i){"use strict";i("68ef")},d9e6:function(t,e,i){t.exports=i.p+"img/no_image.jpg"},e1f4:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"waterfall-lower",rawName:"v-waterfall-lower",value:t.loadMore,expression:"loadMore"}],staticClass:"comment_box",attrs:{"waterfall-disabled":"disabled","waterfall-offset":"300"}},[s("div",{staticClass:"comment_header flex_box jc_sb ai_center bgc_fff"},[s("div",{staticClass:"header_left flex_box ai_center"},[s("span",{staticClass:"iconfont icon-find-fanhui size_17 color_333",on:{click:function(e){t.$router.go(-1)}}}),s("div",{staticClass:"source_head_portrait"},[s("img",{attrs:{src:t.detailData.user_picture}})]),s("div",{staticClass:"source_info flex_box fd_column"},[s("span",{staticClass:"size_14 color_333"},[t._v(t._s(t.detailData.user_name))]),s("span",{staticClass:"size_10 color_888"},[t._v(t._s(t.detailData.add_time_formated))])])]),s("div",{staticClass:"header_right",on:{click:function(e){t.shareHandle(!1)}}},[s("span",{staticClass:"iconfont icon-find-share size_17 color_333"})])]),s("div",{staticClass:"slideshow_box"},[s("span",{staticClass:"indicator_dots_box size_12 color_fe bgc_888"},[t._v(t._s(t.indicator))]),s("van-swipe",{attrs:{autoplay:3e3,"show-indicators":!1},on:{change:t.dscSwipeChange}},t._l(t.detailData.goods_gallery,function(e,i){return s("van-swipe-item",{key:i},[s("img",{staticClass:"swipe_item_img",attrs:{src:e},on:{click:function(s){t.previewImgs(i,e)}}})])}))],1),s("div",{staticClass:"comment_explain flex_box fd_column ai_center bgc_fff"},[t._e(),s("span",{class:["comment_explain_content","size_14","color_888",t.isZhanKai?"":"text_9"]},[t._v(t._s(t.detailData.content))]),t.isShowZhanKai?s("div",{staticClass:"zhankai flex_box ai_center",on:{click:t.zhankaiHandle}},[s("span",{staticClass:"size_14 color_333"},[t._v(t._s(t.isZhanKai?t.$t("lang.shouqi"):t.$t("lang.zhankai")))]),s("span",{class:["iconfont",t.isZhanKai?"icon-expand-down":"icon-zhankai","size_12","color_333"]})]):t._e()]),s("div",{staticClass:"comment_goods_list br_1 bgc_fff"},[s("router-link",{attrs:{to:{name:"goods",params:{id:t.detailData.goods_id}}}},[s("div",{class:["goods_item","flex_box"]},[s("div",{staticClass:"goods_left"},[s("img",{attrs:{src:t.detailData.goods_thumb}})]),s("div",{staticClass:"goods_right flex_1 flex_box fd_column jc_sb"},[s("span",{staticClass:"size_16 color_333 text_2 weight_700"},[t._v(t._s(t.detailData.goods_name))]),s("div",{staticClass:"price_box"},[s("span",{staticClass:"size_16 color_f0151b weight_700"},[t._v(t._s(t.detailData.shop_price))]),s("span",{staticClass:"size_10 color_888 td_lt"},[t._v(t._s(t.detailData.market_price))])])])])])],1),s("div",{staticClass:"comments_box"},[s("span",{staticClass:"comments_title size_18 color_333 weight_700"},[t._v(t._s(t.$t("lang.comments")))]),s("div",{class:["comments_list",t.commentList.length>0?"br_1":"br_2","bgc_fff"]},[s("span",{staticClass:"comment_count lh_1 size_14 color_888"},[t._v(t._s(t.$t("lang.gong"))+t._s(t.detailData.reply_count)+t._s(t.$t("lang.tiaopinglun")))]),t.commentList.length>0?t._l(t.commentList,function(e,i){return s("div",{key:i,staticClass:"comments_list_item flex_box"},[s("div",{staticClass:"item_left_box"},[s("img",{attrs:{src:e.user_picture}})]),s("div",{staticClass:"item_right_box flex_1 flex_box fd_column bb_e6"},[s("span",{staticClass:"lh_1 size_14 color_888 text_1 flex-common ju-start"},[t._v(t._s(e.user_name)),e.user_type>0?s("span",{class:["size_10","color_fff",1==e.user_type?"user_type_1":"user_type_2"]},[t._v(t._s(1==e.user_type?t.$t("lang.admins"):t.$t("lang.biz")))]):t._e()]),s("div",{staticClass:"right_box_bottom"},[s("span",{staticClass:"size_16 color_333"},[t._v(t._s(e.content))]),s("span",{staticClass:"size_12 color_888"},[t._v(t._s(e.add_time_formated))])])])])}):s("div",{staticClass:"no_comment flex_box ai_center"},[s("div",{staticClass:"no_commont_pic"},[t.detailData.my_picture?s("img",{attrs:{src:t.detailData.my_picture}}):s("img",{staticClass:"video_upic",attrs:{src:i("d9e6")}})]),s("span",{staticClass:"no_commont_placeholder flex_1 size_14 color_888 bgc_f5",on:{click:t.showKeyBar}},[t._v(t._s(t.$t("lang.say_something")))])])],2)]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.commentList.length>0,expression:"commentList.length > 0"}],staticClass:"dsc_loading_box size_14"},[t._v(t._s(t.isOver?t.$t("lang.no_more"):t.$t("lang.loading")))]),s("div",{staticClass:"van-modal",class:{hide:!0===t.mask},staticStyle:{"z-index":"1000"},on:{click:t.close}}),s("div",{staticClass:"bargain-share van-modal",class:{hide:!0===t.shareState},staticStyle:{"z-index":"1001"}},[s("div",{staticClass:"bargain-friends"},[s("div",{staticClass:"header f-30 col-3"},[t._v(t._s(t.$t("lang.share_hint")))]),s("div",{staticClass:"cont f-24 text-center"},[t._v(t._s(t.$t("lang.share_toast_hint")))]),s("div",{staticClass:"footer f-24 col-3",on:{click:t.close}},[t._v(t._s(t.$t("lang.i_see")))])])]),s("div",{class:["footer_box","flex_box","bgc_fff",t.isFocus&&!t.isIos?"footer_box_focus":""]},[s("div",{staticClass:"footer_mian flex_box ai_fe"},[s("div",{class:[t.isShowspanArea?"textarea_focus_box":"textarea_box","flex_box","ai_center","bgc_f5"],staticStyle:{position:"relative",overflow:"hidden"}},[t.isShowspanArea?t._e():s("div",{staticClass:"blur_box"},[s("span",{staticClass:"iconfont icon-find-pinglun size_14 color_888"}),s("span",{staticClass:"size_14 color_888"},[t._v(t._s(t.$t("lang.say_something2")))])]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.commentCont,expression:"commentCont"}],staticClass:"comment_area size_14",domProps:{value:t.commentCont},on:{focus:t.focusHandle,blur:t.blurHandle,input:function(e){e.target.composing||(t.commentCont=e.target.value)}}})]),t.isShowspanArea?s("div",{staticClass:"comment_send_btn size_14 color_fff",on:{click:t.sendComment}},[t._v(t._s(t.$t("lang.send")))]):s("div",{staticClass:"functional_zone flex_box"},[s("div",{staticClass:"dianzan_box",on:{click:t.onZan}},[s("span",{class:["iconfont",t.isDianZan?"icon-dianzan-after":"icon-find-zan","size_20"]}),s("span",{staticClass:"num_box size_12"},[t._v(t._s(t.detailData.like_num))])]),t._e(),s("div",{staticClass:"pinlun_box"},[s("span",{staticClass:"iconfont icon-find-talk size_20"}),s("span",{staticClass:"num_box size_12"},[t._v(t._s(t.detailData.reply_count))])])])])]),s("DscLoading",{attrs:{dscLoading:t.dscLoading}})],1)},n=[],a=i("f210"),o=(i("96cf"),i("cb0c")),c=(i("4917"),i("d49c"),i("5487")),r=(i("7844"),i("5596")),l=(i("4b0a"),i("2bb1")),h=(i("e17f"),i("2241")),u=(i("e7e5"),i("d399")),d=(i("4662"),i("28a2")),f=i("2b0e"),m=i("42d1"),v=i("5118");f["default"].use(r["a"]).use(l["a"]).use(h["a"]).use(u["a"]).use(d["a"]);var _={props:{id:{required:!0}},directives:{WaterfallLower:Object(c["a"])("lower")},components:{DscLoading:m["a"]},data:function(){return{detailData:{},commentList:[],mapUser:["","管理员","商家"],swipeIndex:1,isZhanKai:!0,disabled:!0,isFocus:!1,isIos:!0,commentCont:"",isLoading:!1,isOver:!1,size:10,page:1,isShowZhanKai:!1,shareState:!0,mask:!0,dscLoading:!0,isDianZan:!1}},created:function(){var t=navigator.userAgent;this.isIos=!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),this.getcommentDetailById(),this.getcommentById()},mounted:function(){},computed:{indicator:function(){return this.detailData.goods_gallery?"".concat(this.swipeIndex,"/").concat(this.detailData.goods_gallery.length):"0/0"},isShowspanArea:function(){return!!this.commentCont||!!this.isFocus},isLogin:function(){return null!=localStorage.getItem("token")}},filters:{shopPrice:function(t){return t?t.substr(1):""}},methods:{getcommentDetailById:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,i,s,n,a,o,c=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=c.length>0&&void 0!==c[0]&&c[0],t.next=3,this.$http.get("".concat(window.ROOT_URL,"/api/discover/find_detail?dis_id=").concat(this.id));case 3:i=t.sent,s=i.data,n=s.data,a=s.status,this.dscLoading=!1,"success"==a?(this.detailData=n||{},this.$nextTick(function(){this.isShowZhanKai=document.querySelector(".comment_explain_content").offsetHeight>235,this.isZhanKai=!this.isShowZhanKai}),e&&(this.page=1,this.getcommentById(!0))):(o=this,Object(u["a"])(o.$t("lang.post_msg_fail")));case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getcommentById:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,i,s,n,o,c,r=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]&&r[0],this.isLoading=!0,this.disabled=!0,t.next=5,this.$http.get("".concat(window.ROOT_URL,"/api/discover/find_reply_comment?dis_id=").concat(this.id),{params:{page:this.page,size:this.size}});case 5:i=t.sent,s=i.data,n=s.data,o=s.status,"success"==o?(this.isOver=n.length<this.size,1==this.page&&(this.commentList=[]),this.commentList=Object(a["a"])(this.commentList).concat(Object(a["a"])(n)),e&&document.querySelector(".comments_box").scrollIntoView()):(c=this,Object(u["a"])(c.$t("lang.post_msg_fail"))),this.isLoading=!1,this.disabled=!1;case 12:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),dscSwipeChange:function(t){this.swipeIndex=t+1},focusHandle:function(t){if(this.isFocus=!0,this.isIos)var e=Object(v["setTimeout"])(function(){document.querySelector(".dsc_loading_box").scrollIntoView(),Object(v["clearTimeout"])(e)},300)},blurHandle:function(t){this.isFocus=!1},showKeyBar:function(){document.querySelector(".comment_area").focus()},shareHandle:function(t){this.shareState=t},zhankaiHandle:function(){var t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;this.isZhanKai=!this.isZhanKai,this.$nextTick(function(){window.scrollTo({top:t,behavior:"instant"})})},onZan:function(){var t=this;this.$store.dispatch("setDiscoverLike",{dis_type:4,dis_id:this.id}).then(function(e){var i=e.data,s=e.status;Object(u["a"])(i.msg),"success"==s&&(t.isDianZan=!0,t.detailData.like_num=i.like_num)})},sendComment:function(){var t=this;if(this.commentCont.trim())if(this.isLogin)this.$store.dispatch("setDiscoverComment",{parent_id:this.id,quote_id:0,dis_text:this.commentCont,reply_type:0,dis_type:4,goods_id:this.detailData.goods_id}).then(function(e){var i=e.data;Object(u["a"])(i.msg),0==i.error&&(t.commentCont="",t.getcommentDetailById(!0))});else{var e=this.$t("lang.login_user_not");this.notLogin(e)}},notLogin:function(t){var e=this,i=window.location.href;h["a"].confirm({message:t,className:"text-center"}).then(function(){e.$router.push({name:"login",query:{redirect:{name:"conmmentlist",params:{id:e.id},url:i}}})}).catch(function(){})},loadMore:function(){this.isOver||this.isLoading||(this.page=this.page+1,this.getcommentById())},close:function(){this.mask=!0,this.shareState=!0},previewImgs:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0,i=[];if(e){var s=function(t){t.preventDefault()};"string"==typeof e&&i.push(e),document.body.addEventListener("touchmove",s,{passive:!1}),Object(d["a"])({images:i.length>0?i:e,startPosition:t,onClose:function(){document.body.removeEventListener("touchmove",s,{passive:!1})}})}}},watch:{detailData:function(){this.$wxShare.share({title:this.detailData.goods_name,desc:this.detailData.content,link:"".concat(window.ROOT_URL,"mobile#/conmmentlist/")+this.id,imgUrl:this.detailData.goods_thumb})}}},p=_,g=(i("10f5"),i("2877")),b=Object(g["a"])(p,s,n,!1,null,"c9293034",null);b.options.__file="conmment-list.vue";e["default"]=b.exports},f210:function(t,e,i){"use strict";function s(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}function n(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function o(t){return s(t)||n(t)||a()}i.d(e,"a",function(){return o})},f8b2:function(t,e,i){t.exports=i.p+"img/loading.gif"}}]);