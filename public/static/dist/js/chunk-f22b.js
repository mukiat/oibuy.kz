(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f22b","chunk-288e"],{2994:function(t,i,e){"use strict";e("68ef"),e("c0c2")},"2bdd":function(t,i,e){"use strict";var s=e("a142"),n=e("543e"),o=e("db78"),a=e("023d"),c=Object(s["j"])("list"),r=c[0],l=c[1],d=c[2];i["a"]=r({model:{prop:"loading"},props:{error:Boolean,loading:Boolean,finished:Boolean,errorText:String,loadingText:String,finishedText:String,immediateCheck:{type:Boolean,default:!0},offset:{type:Number,default:300},direction:{type:String,default:"down"}},mounted:function(){this.scroller=Object(a["c"])(this.$el),this.handler(!0),this.immediateCheck&&this.$nextTick(this.check)},destroyed:function(){this.handler(!1)},activated:function(){this.handler(!0)},deactivated:function(){this.handler(!1)},watch:{loading:function(){this.$nextTick(this.check)},finished:function(){this.$nextTick(this.check)}},methods:{check:function(){if(!(this.loading||this.finished||this.error)){var t=this.$el,i=this.scroller,e=Object(a["e"])(i);if(e&&"none"!==window.getComputedStyle(t).display&&null!==t.offsetParent){var s=this.offset,n=this.direction;o()&&(this.$emit("input",!0),this.$emit("load"))}}function o(){if(t===i){var o=Object(a["d"])(t);if("up"===n)return o<=s;var c=o+e;return i.scrollHeight-c<=s}if("up"===n)return Object(a["d"])(i)-Object(a["a"])(t)<=s;var r=Object(a["a"])(t)+Object(a["e"])(t)-Object(a["a"])(i);return r-e<=s}},clickErrorText:function(){this.$emit("update:error",!1),this.$nextTick(this.check)},handler:function(t){this.binded!==t&&(this.binded=t,(t?o["b"]:o["a"])(this.scroller,"scroll",this.check))}},render:function(t){return t("div",{class:l()},["down"===this.direction&&this.slots(),this.loading&&t("div",{class:l("loading"),key:"loading"},[this.slots("loading")||[t(n["a"],{class:l("loading-icon")}),t("span",{class:l("loading-text")},[this.loadingText||d("loading")])]]),this.finished&&this.finishedText&&t("div",{class:l("finished-text")},[this.finishedText]),this.error&&this.errorText&&t("div",{on:{click:this.clickErrorText},class:l("error-text")},[this.errorText]),"up"===this.direction&&this.slots()])}})},"3e7c":function(t,i,e){"use strict";var s,n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("header",{staticClass:"goods-shop-info padding-all"},[e("section",{staticClass:"dis-box"},[e("div",{staticClass:"g-s-i-img",on:{click:function(i){t.shopDetail(t.shopInfo[t.index].ru_id)}}},[e("img",{staticClass:"img",attrs:{src:t.shopInfo[t.index].logo}})]),e("div",{staticClass:"g-s-i-title box-flex",on:{click:function(i){t.shopDetail(t.shopInfo[t.index].ru_id)}}},[e("h3",[t._v(t._s(t.shopInfo[t.index].shopName)),e("van-icon",{attrs:{name:"shop"}})],1),e("p",[t._v(t._s(t.$t("lang.collection_one"))+" "),e("span",[t._v(t._s(t.shopInfo[t.index].count_gaze))]),t._v(" "+t._s(t.$t("lang.collection_two")))])]),e("div",{staticClass:"g-s-info-add"},[e("a",{class:{active:0==t.shopInfo[t.index].is_collect_shop},attrs:{href:"javascript:void(0);"},on:{click:function(i){t.collectHandle(t.shopInfo[t.index].ru_id)}}},[1==t.shopInfo[t.index].is_collect_shop?e("span",[t._v(t._s(t.$t("lang.followed")))]):e("span",[t._v(t._s(t.$t("lang.did_not_concern")))])])])]),t.shopScore?[e("div",{staticClass:"goods-shop-score dis-box"},[e("p",{staticClass:"box-flex"},[e("label",{staticClass:"fl"},[t._v(t._s(t.$t("lang.goods")))]),e("span",{staticClass:"color-red margin-lr fl"},[t._v(t._s(t.shopInfo[t.index].commentrank))]),e("em",{staticClass:"em-promotion fl"},[t._v(t._s(t.shopInfo[t.index].commentrank_font))])]),e("p",{staticClass:"box-flex"},[e("label",{staticClass:"fl"},[t._v(t._s(t.$t("lang.service")))]),e("span",{staticClass:"color-low margin-lr fl"},[t._v(t._s(t.shopInfo[t.index].commentserver))]),e("em",{staticClass:"em-promotion em-p-low fl"},[t._v(t._s(t.shopInfo[t.index].commentserver_font))])]),e("p",{staticClass:"box-flex"},[e("label",{staticClass:"fl"},[t._v(t._s(t.$t("lang.commentdelivery")))]),e("span",{staticClass:"color-center margin-lr fl"},[t._v(t._s(t.shopInfo[t.index].commentdelivery))]),e("em",{staticClass:"em-promotion em-p-center fl"},[t._v(t._s(t.shopInfo[t.index].commentdelivery_font))])])])]:t._e()],2)},o=[],a=(e("ac6a"),e("88d8")),c=(e("c3a6"),e("ad06")),r=(e("7f7f"),e("e17f"),e("2241")),l={props:["shopInfo","index","shopScore"],data:function(){return{distance:!1}},components:(s={},Object(a["a"])(s,r["a"].name,r["a"]),Object(a["a"])(s,c["a"].name,c["a"]),s),created:function(){},computed:{isLogin:function(){return null!=localStorage.getItem("token")},shopCollectStatue:function(){return this.$store.state.user.shopCollectStatue},is_collect_shop:function(){return this.shopInfo[this.index].is_collect_shop},ru_id:function(){return this.shopInfo[this.index].ru_id}},methods:{shopDetail:function(t){this.$router.push({name:"shopHome",params:{id:t}})},collectHandle:function(t){if(this.isLogin)this.$store.dispatch("setCollectShop",{ru_id:t,status:this.is_collect_shop});else{var i=this.$t("lang.fill_in_user_collect_goods");this.notLogin(i)}},notLogin:function(t){var i=this;r["a"].confirm({message:t,className:"text-center"}).then(function(){i.$router.push({path:"/login",query:{redirect:{name:"shopDetail",params:{id:i.ru_id}}}})}).catch(function(){})}},watch:{shopCollectStatue:function(){var t=this;this.shopCollectStatue.forEach(function(i){i.id==t.ru_id&&t.$emit("update",{is_collect_shop:i.status})})}}},d=l,h=e("2877"),u=Object(h["a"])(d,n,o,!1,null,null,null);u.options.__file="ShopHeader.vue";i["a"]=u.exports},5455:function(t,i,e){},5487:function(t,i,e){"use strict";var s=e("db78"),n=e("023d"),o="@@Waterfall",a=300;function c(){var t=this.el,i=this.scrollEventTarget;if(!this.disabled){var e=Object(n["d"])(i),s=Object(n["e"])(i),o=e+s;if(s){var a=!1;if(t===i)a=i.scrollHeight-o<this.offset;else{var c=Object(n["a"])(t)-Object(n["a"])(i)+Object(n["e"])(t);a=c-s<this.offset}a&&this.cb.lower&&this.cb.lower({target:i,top:e});var r=!1;if(t===i)r=e<this.offset;else{var l=Object(n["a"])(t)-Object(n["a"])(i);r=l+this.offset>0}r&&this.cb.upper&&this.cb.upper({target:i,top:e})}}}function r(){var t=this;if(!this.el[o].binded){this.el[o].binded=!0,this.scrollEventListener=c.bind(this),this.scrollEventTarget=Object(n["c"])(this.el);var i=this.el.getAttribute("waterfall-disabled"),e=!1;i&&(this.vm.$watch(i,function(i){t.disabled=i,t.scrollEventListener()}),e=Boolean(this.vm[i])),this.disabled=e;var r=this.el.getAttribute("waterfall-offset");this.offset=Number(r)||a,Object(s["b"])(this.scrollEventTarget,"scroll",this.scrollEventListener,!0),this.scrollEventListener()}}function l(t){var i=t[o];i.vm.$nextTick(function(){r.call(t[o])})}function d(t){var i=t[o];i.vm._isMounted?l(t):i.vm.$on("hook:mounted",function(){l(t)})}var h=function(t){return{bind:function(i,e,s){i[o]||(i[o]={el:i,vm:s.context,cb:{}}),i[o].cb[t]=e.value,d(i)},update:function(t){var i=t[o];i.scrollEventListener&&i.scrollEventListener()},unbind:function(t){var i=t[o];i.scrollEventTarget&&Object(s["a"])(i.scrollEventTarget,"scroll",i.scrollEventListener)}}};h.install=function(t){t.directive("WaterfallLower",h("lower")),t.directive("WaterfallUpper",h("upper"))};i["a"]=h},6680:function(t,i,e){"use strict";var s=e("ff5e"),n=e.n(s);n.a},"8a58":function(t,i,e){"use strict";e("68ef"),e("4d75")},ac1e:function(t,i,e){"use strict";e("68ef")},c0c2:function(t,i,e){},c3a6:function(t,i,e){"use strict";e("68ef")},d49c:function(t,i,e){"use strict";e("68ef")},d9e6:function(t,i,e){t.exports=e.p+"img/no_image.jpg"},e41f:function(t,i,e){"use strict";var s=e("a142"),n=e("6605"),o=Object(s["j"])("popup"),a=o[0],c=o[1];i["a"]=a({mixins:[n["a"]],props:{position:String,transition:String,overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0}},render:function(t){var i,e=this;if(this.shouldRender){var s=this.position,n=function(t){return function(){return e.$emit(t)}},o=this.transition||(s?"van-popup-slide-"+s:"van-fade");return t("transition",{attrs:{name:o},on:{afterEnter:n("opened"),afterLeave:n("closed")}},[t("div",{directives:[{name:"show",value:this.value}],class:c((i={},i[s]=s,i))},[this.slots()])])}}})},f27a:function(t,i,e){"use strict";e("e7e5");var s=e("d399"),n=(e("4917"),e("3b2b"),e("a481"),e("09d6")),o=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticStyle:{height:"100%"}},["currency"==t.regionType?[e("van-popup",{attrs:{position:"bottom","close-on-click-overlay":!1},on:{"click-overlay":t.overlay},model:{value:t.display,callback:function(i){t.display=i},expression:"display"}},[e("div",{staticClass:"mod-address-main"},[e("div",{staticClass:"mod-address-head"},[e("div",{staticClass:"mod-address-head-tit box-flex"},[t._v(t._s(t.$t("lang.region_alt")))]),e("i",{staticClass:"iconfont icon-close",on:{click:t.onRegionClose}})]),e("div",{staticClass:"mod-address-body"},[e("ul",{staticClass:"ulAddrTab"},[e("li",{class:{cur:t.regionLevel-1==1},on:{click:function(i){t.tabClickRegion(1,1)}}},[e("span",[t._v(t._s(t.regionOption.province.name?t.regionOption.province.name:t.$t("lang.select")))])]),t.regionOption.province.name?e("li",{class:{cur:t.regionLevel-1==2},on:{click:function(i){t.tabClickRegion(t.regionOption.province.id,2)}}},[e("span",[t._v(t._s(t.regionOption.city.name?t.regionOption.city.name:t.$t("lang.select")))])]):t._e(),t.regionOption.city.name?e("li",{class:{cur:t.regionLevel-1==3},on:{click:function(i){t.tabClickRegion(t.regionOption.city.id,3)}}},[e("span",[t._v(t._s(t.regionOption.district.name?t.regionOption.district.name:t.$t("lang.select")))])]):t._e(),t.regionOption.district.name&&5==t.isLevel?e("li",{class:{cur:t.regionLevel-1==4},on:{click:function(i){t.tabClickRegion(t.regionOption.district.id,4)}}},[e("span",[t._v(t._s(t.regionOption.street.name?t.regionOption.street.name:t.$t("lang.select")))])]):t._e()]),2==t.regionLevel?e("ul",{staticClass:"ulAddrList"},t._l(t.regionDate.provinceData,function(i,s){return e("li",{key:s,class:{active:t.regionOption.province.id==i.id},on:{click:function(e){t.childRegion(i.id,i.name,i.level)}}},[t._v(t._s(i.name))])})):t._e(),3==t.regionLevel?e("ul",{staticClass:"ulAddrList"},t._l(t.regionDate.cityDate,function(i,s){return e("li",{key:s,class:{active:t.regionOption.city.id==i.id},on:{click:function(e){t.childRegion(i.id,i.name,i.level)}}},[t._v(t._s(i.name))])})):t._e(),4==t.regionLevel?e("ul",{staticClass:"ulAddrList"},t._l(t.regionDate.districtDate,function(i,s){return e("li",{key:s,class:{active:t.regionOption.district.id==i.id},on:{click:function(e){t.childRegion(i.id,i.name,i.level)}}},[t._v(t._s(i.name))])})):t._e(),5==t.regionLevel?e("ul",{staticClass:"ulAddrList"},t._l(t.regionDate.streetDate,function(i,s){return e("li",{key:s,class:{active:t.regionOption.street.id==i.id},on:{click:function(e){t.childRegion(i.id,i.name,i.level)}}},[t._v(t._s(i.name))])})):t._e()])])])]:t._e(),"goods"==t.regionType?[e("div",{staticClass:"mod-address-main mod-address-main-goods"},[e("div",{staticClass:"mod-address-body"},[e("ul",{staticClass:"ulAddrTab"},[e("li",{class:{cur:t.regionLevel-1==1},on:{click:function(i){t.tabClickRegion(1,1)}}},[e("span",[t._v(t._s(t.regionOption.province.name?t.regionOption.province.name:t.$t("lang.select")))])]),t.regionOption.province.name?e("li",{class:{cur:t.regionLevel-1==2},on:{click:function(i){t.tabClickRegion(t.regionOption.province.id,2)}}},[e("span",[t._v(t._s(t.regionOption.city.name?t.regionOption.city.name:t.$t("lang.select")))])]):t._e(),t.regionOption.city.name?e("li",{class:{cur:t.regionLevel-1==3},on:{click:function(i){t.tabClickRegion(t.regionOption.city.id,3)}}},[e("span",[t._v(t._s(t.regionOption.district.name?t.regionOption.district.name:t.$t("lang.select")))])]):t._e(),t.regionOption.district.name&&5==t.isLevel?e("li",{class:{cur:t.regionLevel-1==4},on:{click:function(i){t.tabClickRegion(t.regionOption.district.id,4)}}},[e("span",[t._v(t._s(t.regionOption.street.name?t.regionOption.street.name:t.$t("lang.select")))])]):t._e()]),2==t.regionLevel?e("ul",{staticClass:"ulAddrList"},t._l(t.regionDate.provinceData,function(i,s){return e("li",{key:s,class:{active:t.regionOption.province.id==i.id},on:{click:function(e){t.childRegion(i.id,i.name,i.level)}}},[t._v(t._s(i.name))])})):t._e(),3==t.regionLevel?e("ul",{staticClass:"ulAddrList"},t._l(t.regionDate.cityDate,function(i,s){return e("li",{key:s,class:{active:t.regionOption.city.id==i.id},on:{click:function(e){t.childRegion(i.id,i.name,i.level)}}},[t._v(t._s(i.name))])})):t._e(),4==t.regionLevel?e("ul",{staticClass:"ulAddrList"},t._l(t.regionDate.districtDate,function(i,s){return e("li",{key:s,class:{active:t.regionOption.district.id==i.id},on:{click:function(e){t.childRegion(i.id,i.name,i.level)}}},[t._v(t._s(i.name))])})):t._e(),5==t.regionLevel?e("ul",{staticClass:"ulAddrList"},t._l(t.regionDate.streetDate,function(i,s){return e("li",{key:s,class:{active:t.regionOption.street.id==i.id},on:{click:function(e){t.childRegion(i.id,i.name,i.level)}}},[t._v(t._s(i.name))])})):t._e()])])]:t._e()],2)},a=[],c=(e("96cf"),e("cb0c")),r=(e("ac6a"),e("88d8")),l=(e("7f7f"),e("8a58"),e("e41f")),d=(e("c5f6"),e("2f62"),{props:{display:{type:Boolean,default:!1},regionOptionDate:{type:Object,default:""},isPrice:{type:Number,default:0},isLevel:{type:Number,default:5},isStorage:{type:Boolean,default:!0},regionType:{type:String,default:"currency"}},data:function(){return{regionOption:this.regionOptionDate,arr:["province","city","district","street"],lat:"",lng:""}},components:Object(r["a"])({},l["a"].name,l["a"]),created:function(){var t={region:1,level:1};this.regionOption.district.id!=this.regionId&&(5==this.isLevel&&this.regionOption.district.id&&(t.region=this.regionOption.district.id,t.level=this.isLevel-1),this.$store.dispatch("setRegion",t))},computed:{regionId:function(){return this.$store.state.region.id},regionLevel:function(){return this.isLevel>this.$store.state.region.level?this.$store.state.region.level:this.isLevel},regionDate:function(){return this.$store.state.region.data},status:{get:function(){return this.$store.state.region.status},set:function(t){this.$store.state.region.status=t}},userRegion:function(){return this.$store.state.userRegion}},methods:{onRegionClose:function(){this.$emit("updateDisplay",!1)},childRegion:function(t,i,e){var s=this;switch(this.isLevel==e?this.status=!0:this.status=!1,e){case 2:this.regionOption.province.id=t,this.regionOption.province.name=i;break;case 3:this.regionOption.city.id=t,this.regionOption.city.name=i;break;case 4:this.regionOption.district.id=t,this.regionOption.district.name=i;break;case 5:this.regionOption.street.id=t,this.regionOption.street.name=i;break;default:break}this.arr.forEach(function(t,i){i+1>e&&(s.regionOption[t].id="",s.regionOption[t].name="")}),this.$store.dispatch("setRegion",{region:t,level:e})},tabClickRegion:function(t,i){var e=this;this.arr.forEach(function(t,s){s+1>i&&(e.regionOption[t].id="",e.regionOption[t].name="")}),this.$store.dispatch("setRegion",{region:t,level:i})},overlay:function(){this.$emit("updateDisplay",!1)},locationMap:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(i){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.$http.get("".concat(window.ROOT_URL,"/api/misc/address2location"),{params:{address:i.replace(/\s*/g,"")}}).then(function(t){var i=t.data;if("success"==i.status){var s=i.data,n={lat:s.lat,lng:s.lng};e.regionOption.postion=n,e.isStorage&&localStorage.setItem("regionOption",JSON.stringify(e.regionOption)),e.$emit("updateRegionDate",e.regionOption),e.$emit("updateDisplay",!1),e.$emit("update:isPrice",1)}else Toast(i.message)});case 1:case"end":return t.stop()}},t,this)}));return function(i){return t.apply(this,arguments)}}()},watch:{status:function(){1==this.status&&(this.regionOption.regionSplic=this.regionOption.province.name+" "+this.regionOption.city.name+" "+this.regionOption.district.name+" "+this.regionOption.street.name,this.locationMap(this.regionOption.regionSplic))}}}),h=d,u=(e("6680"),e("2877")),p=Object(u["a"])(h,o,a,!1,null,"6b53e9da",null);p.options.__file="Region.vue";var g=p.exports;i["a"]={mixins:[n["a"]],components:{Region:g},data:function(){return{regionShow:!1,regionLoading:!1,regionOptionDate:{province:{id:"",name:""},city:{id:"",name:""},district:{id:"",name:""},street:{id:"",name:""},postion:{lat:"",lng:""},regionSplic:""},docmHeight:0,showHeight:0,isResize:!1,oauthHidden:!0,isGuide:!1,configData:JSON.parse(sessionStorage.getItem("configData")),swipe_height:document.documentElement.clientWidth?document.documentElement.clientWidth:375}},computed:{decimalLength:function(){var t=2;if(this.configData)switch(this.configData.price_format){case"0":t=2;break;case"1":t=2;break;case"2":t=1;break;case"3":t=0;break;case"4":t=1;break;case"5":t=0;break}return t},currencyFormat:function(){return this.configData.currency_format?this.configData.currency_format.replace("%s",""):"â‚¸"},mobile_kefu:function(){return!!this.configData&&this.configData.mobile_kefu},getRegionData:function(){var t=JSON.parse(localStorage.getItem("regionOption")),i=JSON.parse(localStorage.getItem("userRegion"));return t||i},isWeiXin:function(){return n["a"].isWeixinBrowser()},userRegion:function(){return this.$store.state.userRegion},regionSplic:{get:function(){return this.regionOptionDate.regionSplic?this.regionOptionDate.regionSplic:this.$t("lang.select")},set:function(t){this.regionOptionDate=t}}},methods:{updateRadioSel:function(t,i){this.$store.dispatch("updateRadioSel",{modulesIndex:this.modulesIndex,sName:t,newValue:i})},updateText:function(t){isNaN(t.listIndex)||(t.modulesIndex=this.modulesIndex),this.$store.dispatch("updateText",t)},removeList:function(t){this.$store.dispatch("removeList",{modulesIndex:this.modulesIndex,listIndex:t})},addList:function(t){if("imgList"==t){localStorage.getItem("aPicture")&&localStorage.removeItem("aPicture");var i={bShowDialog:!0,currentPage:1,pageSize:12,oneOrMore:"more",bAlbum:!0,modulesIndex:this.modulesIndex,maxLength:this.maxLength,residueLength:this.maxLength-this.onlineData.list.length};this.$store.dispatch("setDialogPicture",i)}else{var e={modulesIndex:this.modulesIndex,url:"",urlCatetory:"",urlName:"",desc:""};this.$store.dispatch("addList",e)}},updateTitleText:function(t,i){var e={modulesIndex:this.modulesIndex,dataNext:"allValue",attrName:t,newValue:i};this.updateText(e)},onChat:function(t,i,e){var o=this;this.$store.dispatch("setChat",{goods_id:t,shop_id:i||0,type:e}).then(function(t){if("success"==t.status){var i=t.data.url;if(i){var e=RegExp(/wpa.qq.com/),a=e.test(i),c=navigator.userAgent,r=!!c.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);if(a){var l=i.indexOf("&uin="),d=i.indexOf("&site="),h=i.substring(l+5,d);r?n["a"].isWeixinBrowser()?window.location.href=i:window.location.href="mqq://im/chat?chat_type=wpa&uin="+h+"&version=1&src_type=web":window.location.href=i}else window.location.href=i}else Object(s["a"])(o.$t("lang.kefu_set_notic"))}else Object(s["a"])(t.errors.message)})},onresize:function(){var t=this;window.onresize=function(){return function(){t.docmHeight=document.documentElement.clientHeight,t.showHeight=document.body.clientHeight}()}},clickGuide:function(){this.isGuide=!1},handelRegionShow:function(){this.regionShow=!this.regionShow},getRegionShow:function(t){this.regionShow=t},getRegionOptionDate:function(t){this.regionOptionDate=t}}}},f55e:function(t,i,e){"use strict";e.r(i);var s,n=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"shop_container"},[s("div",{staticClass:"shopping_menu flex_box"},[s("div",{staticClass:"shopping_menu_left flex_box jc_sa ai_center"},[s("div",{staticClass:"item",class:{active:"sort"==t.sort},on:{click:function(i){t.filterHandle("hot")}}},[s("span",{staticClass:"size_15 weight_700"},[t._v(t._s(t.$t("lang.hot_alt")))]),s("i",{staticClass:"iconfont color_ccc",class:["DESC"==t.order&&"sort"==t.sort?"icon-topjiantou":"icon-xiajiantou"]})]),s("div",{staticClass:"item",class:{active:t.regionOptionDate.city.id>0},on:{click:function(i){t.filterHandle("region")}}},[s("span",{staticClass:"size_15 weight_700"},[t._v(t._s(t.$t("lang.region")))]),s("i",{staticClass:"iconfont color_ccc icon-xiajiantou"})]),t.isWeixinBrowser?s("div",{staticClass:"item",class:{active:"distance"==t.sort},on:{click:function(i){t.filterHandle("distance")}}},[s("span",{staticClass:"size_15 weight_700"},[t._v(t._s(t.$t("lang.distance")))]),s("i",{staticClass:"iconfont color_ccc",class:["DESC"==t.order&&"distance"==t.sort?"icon-topjiantou":"icon-xiajiantou"]})]):t._e()]),s("div",{staticClass:"shopping_menu_right flex_box ai_center"},[s("div",{staticClass:"search_container flex_box ai_center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],staticClass:"size_15",attrs:{type:"text",placeholder:t.$t("lang.search_the_store")},domProps:{value:t.keyword},on:{input:function(i){i.target.composing||(t.keyword=i.target.value)}}}),s("div",{on:{click:t.searchTheStore}},[s("i",{staticClass:"iconfont icon-home-search size_13"})])])])]),t.shopCatList.length>0?s("div",{staticClass:"dsc_shop_nav"},[s("swiper",{ref:"mySwiper",staticClass:"scroll_view",attrs:{options:t.swiperOption}},[s("swiper-slide",{staticClass:"scroll_view_item"},[s("a",{class:{active:0==t.cat_id},attrs:{href:"javascript:;"},on:{click:function(i){t.shopCatClick(0)}}},[s("div",{staticClass:"icon"},[s("i",{staticClass:"iconfont icon-fenlei"})]),s("h5",{staticClass:"name text_1 size_12"},[t._v(t._s(t.$t("lang.all_categories")))])])]),t._l(t.shopCatList,function(i,n){return s("swiper-slide",{key:n,staticClass:"scroll_view_item"},[s("a",{class:{active:t.cat_id==i.cat_id},attrs:{href:"javascript:void(0)"},on:{click:function(e){t.shopCatClick(i.cat_id)}}},[s("div",{staticClass:"icon"},[i.cat_icon?s("img",{staticClass:"img",attrs:{src:i.touch_icon}}):s("img",{staticClass:"img",attrs:{src:e("d9e6"),alt:""}})]),s("h5",{staticClass:"name text_1 size_12"},[t._v(t._s(i.cat_alias_name))])])])})],2)],1):t._e(),s("div",{directives:[{name:"waterfall-lower",rawName:"v-waterfall-lower",value:t.loadMores,expression:"loadMores"}],staticClass:"store_info",attrs:{"waterfall-disabled":"disabled","waterfall-offset":"400"}},[t._l(t.shopList,function(i,n){return s("div",{key:n,staticClass:"store_list"},[s("header",{staticClass:"header flex_box ai_center jc_sb"},[s("div",{staticClass:"header_left flex_box ai_center",on:{click:function(e){t.shopDetail(i.user_id)}}},[s("div",{staticClass:"img_box"},[s("img",{attrs:{src:i.logo_thumb}})]),s("div",{staticClass:"shop_name_box"},[s("h3",{staticClass:"size_15 color_000 weight_700 text_1"},[t._v(t._s(i.rz_shop_name))]),s("p",{staticClass:"size_12 color_666"},[t._v("\n              "+t._s(t.$t("lang.collection_one"))+"\n              "),s("span",[t._v(t._s(i.count_gaze))]),t._v("\n              "+t._s(t.$t("lang.collection_two"))+"\n            ")]),t.isWeixinBrowser?s("p",{staticClass:"size_12 color_666",staticStyle:{"margin-top":"2px"}},[t._v(t._s(t.$t("lang.distance"))),s("span",{staticClass:"color_FD001C"},[t._v(" "+t._s(i.distance.value)+t._s(i.distance.unit)+" ")])]):t._e()])]),s("div",{staticClass:"header_right"},[s("div",{staticClass:"shop_in size_12 color_fff",on:{click:function(e){t.shopDetail(i.user_id)}}},[t._v(t._s(t.$t("lang.into_shop")))]),s("div",{class:[1==i.is_collect_shop?"shop_focus_active":"shop_focus","size_12"],on:{click:function(e){t.collectHandle(i.user_id,i.is_collect_shop)}}},[1!==i.is_collect_shop?s("i",{staticClass:"iconfont icon-shop-guanzhu size_12"}):t._e(),t._v(t._s(1==i.is_collect_shop?t.$t("lang.followed"):t.$t("lang.attention"))+"\n          ")])])]),i.goods.length>0?[s("section",{staticClass:"shop_pic"},[s("swiper",{attrs:{options:t.swiperOption}},t._l(i.goods,function(i,n){return s("swiper-slide",{key:n,staticClass:"product_list_item"},[s("router-link",{attrs:{to:{name:"goods",params:{id:i.goods_id}}}},[s("div",{staticClass:"goods_img_box"},[i.goods_thumb?s("img",{staticClass:"product-list-img",attrs:{src:i.goods_thumb}}):s("img",{staticClass:"product-list-img",attrs:{src:e("d9e6"),alt:""}})]),s("div",{staticClass:"goods_name_price"},[s("p",{staticClass:"size_14 color_333 text_1"},[t._v(t._s(i.goods_name))]),s("p",{staticClass:"size_14 color_FD001C text_1 weight_700",domProps:{innerHTML:t._s(i.shop_price)}})])])],1)}))],1)]:t._e()],2)}),t.footerCont?s("div",{staticClass:"footer-cont"},[t._v(t._s(t.$t("lang.no_more")))]):t._e()],2),t.loading?[s("van-loading",{attrs:{type:"spinner",color:"black"}})]:t._e(),s("Region",{attrs:{display:t.regionShow,isLevel:4,regionOptionDate:t.regionOptionDate},on:{updateDisplay:t.getRegionShow,updateRegionDate:t.getRegionOptionDate}})],2)},o=[],a=(e("ac6a"),e("55dd"),e("c5f6"),e("9395")),c=(e("d49c"),e("5487")),r=e("88d8"),l=(e("e7e5"),e("d399")),d=(e("ac1e"),e("543e")),h=(e("2994"),e("2bdd")),u=(e("7f7f"),e("e17f"),e("2241")),p=e("2f62"),g=e("7212"),f=e("3e7c"),_=e("a454"),v=e("09d6"),m=e("f27a"),b={mixins:[v["a"],m["a"]],data:function(){return{swiperOption:{notNextTick:!0,watchSlidesProgress:!0,watchSlidesVisibility:!0,slidesPerView:"auto",lazyLoading:!0},disabled:!1,loading:!0,shopScore:!1,size:10,page:1,cat_id:0,sort:"sort_order",order:"ASC",lat:"",lng:"",footerCont:!1,keyword:""}},components:(s={swiper:g["swiper"],swiperSlide:g["swiperSlide"],ShopHeader:f["a"]},Object(r["a"])(s,u["a"].name,u["a"]),Object(r["a"])(s,h["a"].name,h["a"]),Object(r["a"])(s,d["a"].name,d["a"]),Object(r["a"])(s,l["a"].name,l["a"]),s),directives:{WaterfallLower:Object(c["a"])("lower"),WaterfallUpper:Object(c["a"])("upper")},created:function(){var t=this;t.$store.dispatch("setShopCatList"),this.isWeixinBrowser?wx.getLocation({type:"wgs84",success:function(i){t.lat=i.latitude,t.lng=i.longitude,t.shopListLoad()}}):t.shopListLoad()},computed:Object(a["a"])({},Object(p["c"])({shopCatList:function(t){return t.shop.shopCatList}}),{shopList:{get:function(){return this.$store.state.shop.shopList},set:function(t){this.$store.state.shop.shopList=t}},isLogin:function(){return null!=localStorage.getItem("token")},shopCollectStatue:function(){return this.$store.state.user.shopCollectStatue},isWeixinBrowser:function(){return v["a"].isWeixinBrowser()}}),methods:{shopListLoad:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t&&(this.page=t,this.size=10*Number(t)),this.$store.dispatch("setShopList",{cat_id:this.cat_id,warehouse_id:0,area_id:0,size:this.size,page:this.page,sort:this.sort,order:this.order,lat:this.lat,lng:this.lng,city_id:this.regionOptionDate.city.id,keywords:i})},searchTheStore:function(){this.keyword.trim().length>0?this.shopListLoad(1,this.keyword):Object(l["a"])(this.$t("lang.shop_name_not_null"))},shopCatClick:function(t){this.cat_id=t,this.shopListLoad()},filterHandle:function(t){var i=this;"hot"==t?(this.order="ASC"==this.order?"DESC":"ASC",this.sort="sort",this.shopListLoad()):"region"==t?(this.handelRegionShow(),this.order="ASC",this.sort=""):"distance"==t?(this.order="ASC"==this.order?"DESC":"ASC",this.sort="distance",this.shopListLoad()):this.$store.dispatch("setShopMap",{lat:this.lat,lng:this.lng}).then(function(t){"success"==t.status?window.location.href=t.data:Object(l["a"])(i.$t("lang.locate_failure"))})},handelRegionShow:function(){this.regionShow=!this.regionShow},loadMores:function(){var t=this;setTimeout(function(){t.disabled=!0,t.page*t.size==t.shopList.length&&(t.page++,t.shopListLoad())},200)},shopDetail:function(t){this.$router.push({name:"shopHome",params:{id:t}})},collectHandle:function(t,i){if(this.isLogin)this.$store.dispatch("setCollectShop",{ru_id:t,status:i});else{var e=this.$t("lang.fill_in_user_collect_goods");this.notLogin(e)}},notLogin:function(t){var i=this;u["a"].confirm({message:t,className:"text-center"}).then(function(){i.$router.push({path:"/login",query:{redirect:{name:"integration",query:{type:1}}}})}).catch(function(){})},showPosition:function(t){var i=this;i.lat=t.coords.latitude,i.lng=t.coords.longitude,this.shopListLoad()},showErr:function(t){var i=this;i.lat=31.23037,i.lng=121.4737,this.shopListLoad()},shippingFee:function(t){this.$store.dispatch("setShippingFee",{goods_id:0,position:t})}},watch:{shopList:function(){this.page*this.size==this.shopList.length?(this.disabled=!1,this.loading=!0):(this.loading=!1,this.footerCont=this.page>1),this.shopList=_["a"].trimSpace(this.shopList)},shopCollectStatue:function(){var t=this;this.shopCollectStatue.forEach(function(i){t.shopList.forEach(function(t){t.user_id==i.id&&(t.is_collect_shop=i.status,t.count_gaze=1==i.status?t.count_gaze+1:t.count_gaze-1)})})},regionShow:function(){this.regionShow||this.shopListLoad()},regionSplic:function(){var t={province_id:this.regionOptionDate.province.id,city_id:this.regionOptionDate.city.id,district_id:this.regionOptionDate.district.id,street_id:this.regionOptionDate.street.id};this.shippingFee(t)},order:function(){}}},C=b,O=(e("f6d0"),e("2877")),w=Object(O["a"])(C,n,o,!1,null,"22bec886",null);w.options.__file="Index.vue";i["default"]=w.exports},f6d0:function(t,i,e){"use strict";var s=e("5455"),n=e.n(s);n.a},ff5e:function(t,i,e){}}]);